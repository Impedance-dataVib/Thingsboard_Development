{
  "entityType" : "DASHBOARD",
  "entity" : {
    "assignedCustomers" : null,
    "configuration" : {
      "description" : "",
      "widgets" : {
        "681737cf-0f1f-b4b8-95d7-e35513bdc89d" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225874,
                  "endTimeMs" : 1685364625874
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div fxLayout=\"column\" style=\"height:100%;width:100%;padding:0\" >\r\n    <div fxLayout=\"column\"  style=\"overflow:hidden;\" >\r\n        <div fxLayout=\"row\" class=\"logoHeader\" fxLayoutAlign=\"start start\" >\r\n            <mat-icon id=\"menuOpenButton\" fxHide fxShow.lt-md>menu</mat-icon>\r\n            <img class=\"logo\" alt=\"logo\" />\r\n        </div>\r\n    </div>\r\n    <div fxLayout=\"row\" id=\"cardContainer\" fxLayout.lt-md=\"column\" style=\"height:100%;background-color: #FAFDFF;\" >\r\n        <div fxLayout=\"row\" style=\"width:200px;\" class=\"sidebar_fullScreen\"  id=\"menu_bar_widget\" \r\n        [ngStyle.lt-md]=\"{'display':'none'}\" \r\n        [ngClass.lt-md]=\"{'menuContainer_mobile': true,'sidebar_fullScreen':false}\" \r\n        [ngClass.gt-md]=\"{'menuContainer_mobile': false}\" \r\n        [ngClass.md]=\"{'menuContainer_mobile': false}\"  >\r\n            <mat-icon id=\"menuCloseButton\" fxHide fxShow.lt-md>close</mat-icon>\r\n            <tb-dashboard-state  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"admin_sidebar\"></tb-dashboard-state>\r\n        </div>\r\n        <div fxLayout=\"row\"  style=\"padding:10px;height:100%;width:100%;background-color: #f2f2f2;\" [ngSwitch]=\"ctx.stateController.getStateParams().currentPage\">\r\n            <tb-dashboard-state *ngSwitchCase=\"undefined\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchCase=\"'Overview'\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchCase=\"'Customers'\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_customers\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchCase=\"'Assets'\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_ships\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchCase=\"'Devices'\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_devices\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchCase=\"'Alerts'\" style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_alerts\"></tb-dashboard-state>\r\n            <tb-dashboard-state *ngSwitchDefault style=\"height:100%\"  [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_not_found\"></tb-dashboard-state>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
              "markdownCss" : ".menuContainer_mobile{\n    position: fixed;\n    top:0;\n    left: 0;\n    width: 100vw;\n    height:  100vh; \n    padding:0;\n    margin:0;\n    display: none;\n    z-index: 10;\n    overflow:auto; \n        max-height: 100%;\n\n}\n\n.sidebar_fullScreen{\n    position: relative;\n    padding:0;\n    height: 100%;\n    margin:0;\n    /*width:235px;*/\n    display: block !important;\n    overflow: hidden;\n}\n\n\n.logoHeader{\n    background-color: #ffffff;  \n    \n    padding: 10px 20px;\n}\n.logo{\n    height: auto;\n    width: 100%;\n    max-width: 100px;\n    content: url(\"data:image/jpeg;base64,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4c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXxK+e5Hzw5uUvTovtHcj54c3KXp0X2lgwHeZl/lVdce48LmeeRb7NXx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dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUk5s04qxXFbXYExdh670vvNqyW+qqaSRjFj44lc5qIipwpv76apxb/dAc00cGdWNVzhRpMBDPP8Awjiu55qXittuGLtV08nYtzLBRSSMdpGnA5GqikzAZVU8LkY0VcGdVd/aFjrmXffV03VHaFjrmXffV03VLEAYcVCTjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6HFdlKz3ay4FulNeLXV0Er7s97Y6mB0TnN7DEmqI5EVU1Rd/xHagCSI0jRFVPCnVquatLU1uXGI6Sjp5Z55bfK2OKJiue9ypvIiJvqpBntCx1zLvvq6bqliAMaqOEzoucCNFd/aFjrmXffV03VHaFjrmXffV03VLEAY8VDLjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV39oWOuZd99XTdUdoWOuZd99XTdUsQA4qDjp6Fd/aFjrmXffV03VHaFjrmXffV03VLEAOKg46ehXf2hY65l331dN1R2hY65l331dN1SxADioOOnoV5RZe4+mf2OHA+IJHL+S22TKv+E91PlFmjVadiwBfW6/7Shkj/wASIT/A4qDjp6EF6TZ6zgrNFbg2aJq8c1RCz+Cv1/gZ2h2Vc0qrRallspUX/aVW6VPQ1FJlg54uHHG1It23Y6vUiot3xnRwJxpT0zpV/irTdrJslZdUG5fd7hdro9OFrpWwxr6GJuv5jtwOYophjNyqedqNjyky3w6rXWrB9uY9vA+SLsrvpfqptrGMjYkcbGsa1NEa1NERD+gziNGMzM7wABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//2Q==\")\n}\n#menuCloseButton{\n    background-color: red;\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    z-index: 1000;\n}\n\n#cardContainer{\n    padding: 0;\n    margin: 0;\n}\n*{\n    caret-color: transparent;\n    -ms-overflow-style: none;  \n    scrollbar-width: none;  \n}\n\n::-webkit-scrollbar { \n    display: none;  \n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "menuOpenButton",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var test=widgetContext.$container.find(\"#menu_bar_widget\")\ntest.css(\"display\",\"block\");\nvar test=widgetContext.$container.find(\"#menuCloseButton\")\ntest.css(\"display\",\"block\");\n\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "6fa464db-892c-56dc-410f-fa5155b8c92d"
              }, {
                "name" : "menuCloseButton",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var test=widgetContext.$container.find(\"#menu_bar_widget\")\ntest.css(\"display\",\"none\");\nvar test=widgetContext.$container.find(\"#menuCloseButton\")\ntest.css(\"display\",\"none\");\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "1412fb8c-b3e8-41d1-b2be-a17f5756ebb7"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "681737cf-0f1f-b4b8-95d7-e35513bdc89d"
        },
        "19ff1d21-1d89-32f4-99ba-28396403dacc" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "html_card",
          "type" : "static",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "cardHtml" : "<div class='card'>Page Not Found</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "19ff1d21-1d89-32f4-99ba-28396403dacc"
        },
        "e287b2f9-0382-519b-2d67-b06d986c9f09" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225874,
                  "endTimeMs" : 1685364625874
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div id=\"cardContainer\" fxLayout=\"column\" >\r\n    <div class=\"section_title\">Overview</div>\r\n    <div fxLayout=\"row wrap\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\"\r\n    >\r\n        <tb-dashboard-state class=\"overviewCard\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview_total_customer_card\"></tb-dashboard-state>\r\n        <tb-dashboard-state class=\"overviewCard\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview_total_ship_card\"></tb-dashboard-state>\r\n        <tb-dashboard-state class=\"overviewCard\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview_total_engine_card\"></tb-dashboard-state>\r\n        <tb-dashboard-state class=\"overviewCard\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview_device_status_card\"></tb-dashboard-state>\r\n        <tb-dashboard-state class=\"overviewCard\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_overview_alerts_card\"></tb-dashboard-state>\r\n    </div>\r\n    <div id=\"mapContainer\" fxLayout=\"column\" style=\"height:100%\" >\r\n        <div class=\"section_title\" fxLayout=\"row\" >Customers Location</div>\r\n        <div class=\"stateContainer\"  fxLayout=\"row\" style=\"height:100%\" >\r\n            <tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"customers_map\"></tb-dashboard-state>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
              "markdownCss" : "#mapContainer{\n    /*height: 100vh;*/\n    /*padding-bottom: 40px;*/\n}\n#mapContainer .stateContainer{\n    border-radius: 16px ;\n    overflow: hidden ;\n}\n#cardContainer{\n    /*margin: 3vh 3vw 3vh 3vw;*/\n    height: 100%;\n}\n.overviewCard{\n    height: 136px;\n    margin-bottom: 20px;\n    border: 1px solid #EDEFF4;\n    overflow: hidden;\n    border-radius: 16px;\n    /*background-color: red;*/\n}\n\n.section_title{\n        font-family: 'Inter';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 20px;\n    /*line-height: 19px;*/\n    text-transform: capitalize;\n    color: #000000;\n    /*font-family: 'Inter';*/\n    /*font-style: normal;*/\n    /*font-weight: 400;*/\n    /*font-size: 16px;*/\n    /*line-height: 19px;*/\n    /*text-transform: capitalize;*/\n    /*color: #696969;*/\n    /*margin: 24px 0;*/\n}\n\n@media screen and ( max-width: 599px) {\n  .overviewCard {\n    width: 100%;\n    flex-direction: column;\n  }\n}\n@media screen and ( min-width: 800px) and ( max-width: 1479px) {\n  .overviewCard {\n    flex:0 0 calc(50% - 20px);\n  }\n}\n\n@media screen and ( min-width: 1480px ) and ( max-width: 1800px) {\n  .overviewCard {\n    flex: 0 0 calc(33.3333% - 20px);\n  }\n}\n@media screen and ( min-width: 1801px ) and ( max-width: 2100px) {\n  .overviewCard {\n    flex: 0 0 calc(25% - 20px);\n  }\n}\n@media screen and ( min-width: 2100px ) {\n  .overviewCard {\n    flex: 1;\n  }\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "e287b2f9-0382-519b-2d67-b06d986c9f09"
        },
        "788606e3-0854-f6bb-845f-54362f8fa5f5" : {
          "isSystemType" : true,
          "bundleAlias" : "maps_v2",
          "typeAlias" : "openstreetmap",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8.5,
          "sizeY" : 6,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "lat",
                "type" : "attribute",
                "label" : "lat",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8151183714709973
              }, {
                "name" : "long",
                "type" : "attribute",
                "label" : "long",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.30051329597718346
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "fitMapBounds" : true,
              "latKeyName" : "lat",
              "lngKeyName" : "long",
              "showLabel" : true,
              "label" : "${entityName}",
              "tooltipPattern" : "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>Temperature:</b> ${temperature} C<br/><small>See advanced settings for details</small>",
              "markerImageSize" : 34,
              "useColorFunction" : true,
              "markerImages" : [ "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxOCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wLjUgOC4zMTc3NkMwLjUgMy43MTc4OSA0LjM0Mzg4IDAgOC45OTM0NSAwQzEzLjY1NjEgMCAxNy41IDMuNzE3ODkgMTcuNSA4LjMxNzc2QzE3LjUgMTAuNjM1NyAxNi42NTcgMTIuNzg3NiAxNS4yNjk1IDE0LjYxMTZDMTMuNzM4OCAxNi42MjM1IDExLjg1MjIgMTguMzc2NSA5LjcyODU0IDE5Ljc1MjRDOS4yNDI1MSAyMC4wNzA0IDguODAzODcgMjAuMDk0NCA4LjI3MDQ1IDE5Ljc1MjRDNi4xMzQ3NCAxOC4zNzY1IDQuMjQ4MDkgMTYuNjIzNSAyLjczMDUgMTQuNjExNkMxLjM0MTk4IDEyLjc4NzYgMC41IDEwLjYzNTcgMC41IDguMzE3NzZaTTYuMTk0MjMgOC41NzY3NUM2LjE5NDIzIDEwLjExNzcgNy40NTE2NiAxMS4zMjk3IDguOTkzNDUgMTEuMzI5N0MxMC41MzYyIDExLjMyOTcgMTEuODA1OCAxMC4xMTc3IDExLjgwNTggOC41NzY3NUMxMS44MDU4IDcuMDQ3OCAxMC41MzYyIDUuNzc2ODMgOC45OTM0NSA1Ljc3NjgzQzcuNDUxNjYgNS43NzY4MyA2LjE5NDIzIDcuMDQ3OCA2LjE5NDIzIDguNTc2NzVaIiBmaWxsPSIjRTkzODAwIi8+Cjwvc3ZnPgo=", "data:image/png;base64,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", "data:image/png;base64,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", "data:image/png;base64,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" ],
              "useMarkerImageFunction" : true,
              "colorFunction" : "var type = dsData[dsIndex]['Type'];\nif (type == 'colorpin') {\n\tvar temperature = dsData[dsIndex]['temperature'];\n\tif (typeof temperature !== undefined) {\n\t    var percent = (temperature + 60)/120 * 100;\n\t    return tinycolor.mix('blue', 'red', amount = percent).toHexString();\n\t}\n\treturn 'blue';\n}\n",
              "markerImageFunction" : "var res = {\n    url: images[0],\n    size: 20\n}\nreturn res;\n",
              "color" : "#fe7569",
              "mapProvider" : "OpenStreetMap.Mapnik",
              "showTooltip" : true,
              "autocloseTooltip" : true,
              "tooltipFunction" : "var deviceType = dsData[dsIndex]['Type'];\r\nif (typeof deviceType !== undefined) {\r\n    if (deviceType == \"energy meter\") {\r\n        return '<b>${entityName}</b><br/><b>Energy:</b> ${energy:2} kWt<br/>';\r\n    } else if (deviceType == \"thermometer\") {\r\n        return '<b>${entityName}</b><br/><b>Temperature:</b> ${temperature:2} C<br/>';\r\n    }\r\n}",
              "labelFunction" : "var deviceType = dsData[dsIndex]['Type'];\r\nif (typeof deviceType !== undefined) {\r\n    if (deviceType == \"energy meter\") {\r\n        return '<span style=\"color:orange;\">${entityName}, ${energy:2} kWt</span>';\r\n    } else if (deviceType == \"thermometer\") {\r\n        return '<span style=\"color:blue;\">${entityName}, ${temperature:2} C</span>';\r\n    }\r\n}",
              "provider" : "openstreet-map",
              "defaultCenterPosition" : "0,0",
              "showTooltipAction" : "click",
              "mapPageSize" : 16384,
              "useTooltipFunction" : false,
              "useCustomProvider" : false,
              "useDefaultCenterPosition" : false,
              "draggableMarker" : false,
              "disableScrollZooming" : false,
              "disableZoomControl" : false,
              "useLabelFunction" : false,
              "tooltipOffsetX" : 0,
              "tooltipOffsetY" : -1,
              "markerOffsetX" : 0.5,
              "markerOffsetY" : 1,
              "showPolygon" : false,
              "useClusterMarkers" : false
            },
            "title" : "New OpenStreetMap",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : {
              "margin" : 0,
              "padding" : 0
            },
            "actions" : { },
            "showTitleIcon" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "margin" : "0"
          },
          "row" : 0,
          "col" : 0,
          "id" : "788606e3-0854-f6bb-845f-54362f8fa5f5"
        },
        "8b3947f5-880d-e8d8-0ba8-38e2996e10f9" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "total_entity",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "color" : "#7d75e3",
              "icon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDEiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MSA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNy40MzA0IDEzLjcyMTRDMjcuNDMwNCAxNy42Mzc1IDI0LjMwODQgMjAuNzc3NyAyMC40MTQ5IDIwLjc3NzdDMTYuNTIxNCAyMC43Nzc3IDEzLjM5OTQgMTcuNjM3NSAxMy4zOTk0IDEzLjcyMTRDMTMuMzk5NCA5LjgwMzc3IDE2LjUyMTQgNi42NjY2NiAyMC40MTQ5IDYuNjY2NjZDMjQuMzA4NCA2LjY2NjY2IDI3LjQzMDQgOS44MDM3NyAyNy40MzA0IDEzLjcyMTRaTTIwLjQxNDkgMzMuMzMzM0MxNC42OTYyIDMzLjMzMzMgOS44MTMzMiAzMi40MjY3IDkuODEzMzIgMjguODAwM0M5LjgxMzMyIDI1LjE3MjMgMTQuNjY0OSAyNC4yMzI3IDIwLjQxNDkgMjQuMjMyN0MyNi4xMzM1IDI0LjIzMjcgMzEuMDE2NSAyNS4xMzkzIDMxLjAxNjUgMjguNzY3MkMzMS4wMTY1IDMyLjM5MzcgMjYuMTY0OSAzMy4zMzMzIDIwLjQxNDkgMzMuMzMzM1pNMzAuNDI4MyAxMy44NDg3QzMwLjQyODMgMTUuODQ1IDI5LjgzMjkgMTcuNzA0OCAyOC43ODgyIDE5LjI1MDhDMjguNjgwOCAxOS40MDk5IDI4Ljc3NjMgMTkuNjI0NiAyOC45NjU4IDE5LjY1NzZDMjkuMjI3IDE5LjcwMjYgMjkuNDk3MSAxOS43MjgyIDI5Ljc3MTcgMTkuNzM1N0MzMi41MTAxIDE5LjgwNzcgMzQuOTY4IDE4LjAzNSAzNS42NDcgMTUuMzY2MkMzNi42NTI5IDExLjQwMiAzMy42OTk1IDcuODQzMTUgMjkuOTM4OCA3Ljg0MzE1QzI5LjUyOTkgNy44NDMxNSAyOS4xMzg5IDcuODg2NjggMjguNzU4NCA3Ljk2NDczQzI4LjcwNjIgNy45NzY3NCAyOC42NTEgOC4wMDA3NiAyOC42MjExIDguMDQ3MjlDMjguNTg1MyA4LjEwNDMzIDI4LjYxMjIgOC4xODA4OCAyOC42NDggOC4yMzA0MUMyOS43Nzc3IDkuODIyOTggMzAuNDI4MyAxMS43NjUzIDMwLjQyODMgMTMuODQ4N1pNMzQuOTYzNSAyMi41MjA5QzM2LjgwMzYgMjIuODgyNyAzOC4wMTM5IDIzLjYyMTIgMzguNTE1MyAyNC42OTQ0QzM4LjkzOTEgMjUuNTc1NSAzOC45MzkxIDI2LjU5NzcgMzguNTE1MyAyNy40NzczQzM3Ljc0ODIgMjkuMTQxOSAzNS4yNzU0IDI5LjY3NjMgMzQuMzE0NCAyOS44MTQ0QzM0LjExNTkgMjkuODQ0NCAzMy45NTYyIDI5LjY3MTggMzMuOTc3MSAyOS40NzIxQzM0LjQ2ODEgMjQuODU5NSAzMC41NjI2IDIyLjY3MjUgMjkuNTUyMyAyMi4xNjk3QzI5LjUwOSAyMi4xNDcyIDI5LjUwMDEgMjIuMTEyNyAyOS41MDQ2IDIyLjA5MTZDMjkuNTA3NiAyMi4wNzY2IDI5LjUyNTUgMjIuMDUyNiAyOS41NTgzIDIyLjA0ODFDMzEuNzQ0NiAyMi4wMDc2IDM0LjA5NSAyMi4zMDc4IDM0Ljk2MzUgMjIuNTIwOVpNMTEuMjI4NCAxOS43MzU1QzExLjUwMjkgMTkuNzI4IDExLjc3MTYgMTkuNzA0IDEyLjAzNDIgMTkuNjU3NUMxMi4yMjM3IDE5LjYyNDQgMTIuMzE5MyAxOS40MDk4IDEyLjIxMTggMTkuMjUwN0MxMS4xNjcyIDE3LjcwNDYgMTAuNTcxNyAxNS44NDQ5IDEwLjU3MTcgMTMuODQ4NUMxMC41NzE3IDExLjc2NTEgMTEuMjIyNCA5LjgyMjgzIDEyLjM1MjEgOC4yMzAyNkMxMi4zODc5IDguMTgwNzMgMTIuNDEzMyA4LjEwNDE3IDEyLjM3ODkgOC4wNDcxNEMxMi4zNDkxIDguMDAyMTEgMTIuMjkyNCA3Ljk3NjU5IDEyLjI0MTcgNy45NjQ1OEMxMS44NTk2IDcuODg2NTMgMTEuNDY4NiA3Ljg0MyAxMS4wNTk3IDcuODQzQzcuMjk5MDMgNy44NDMgNC4zNDU2OSAxMS40MDE5IDUuMzUzMDIgMTUuMzY2MUM2LjAzMjAzIDE4LjAzNDkgOC40ODk5MSAxOS44MDc2IDExLjIyODQgMTkuNzM1NVpNMTEuNDk0NyAyMi4wOTA3QzExLjQ5OTIgMjIuMTEzMyAxMS40OTAzIDIyLjE0NjMgMTEuNDQ4NSAyMi4xNzAzQzEwLjQzNjcgMjIuNjczMSA2LjUzMTIyIDI0Ljg2MDEgNy4wMjIyIDI5LjQ3MTJDNy4wNDMwOSAyOS42NzI0IDYuODg0OSAyOS44NDM1IDYuNjg2NDIgMjkuODE1QzUuNzI1MzYgMjkuNjc2OSAzLjI1MjU1IDI5LjE0MjUgMi40ODU0OSAyNy40Nzc5QzIuMDYwMTcgMjYuNTk2OCAyLjA2MDE3IDI1LjU3NjEgMi40ODU0OSAyNC42OTVDMi45ODY5MiAyMy42MjE4IDQuMTk1NzEgMjIuODgzMyA2LjAzNTc2IDIyLjUyQzYuOTA1OCAyMi4zMDg0IDkuMjU0NzQgMjIuMDA4MiAxMS40NDI1IDIyLjA0ODdDMTEuNDc1MyAyMi4wNTMyIDExLjQ5MTcgMjIuMDc3MiAxMS40OTQ3IDIyLjA5MDdaIiBmaWxsPSIjN0Q3NUUzIi8+Cjwvc3ZnPgo="
            },
            "title" : "Total Customers",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "onCardClicked" : [ {
                "name" : "On card clicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var broadcastService=widgetContext.$injector.get(widgetContext.servicesMap.get('broadcastService'))\nbroadcastService.broadcast('sidebar_menuListner', {name: 'Customers'});\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "3e93cc9d-5804-e0b4-e89c-88b03b7e89d0"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "8b3947f5-880d-e8d8-0ba8-38e2996e10f9"
        },
        "3bc1ea3b-ff84-8e6d-0862-982d6eca52b4" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "total_entity",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "38534fde-33e3-dc5d-f466-1da610545efe",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "color" : "#a114b8",
              "icon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgMzUuNTUwNUMxLjI1OTc3IDM0LjkzNjIgMS43MDk5IDM0LjY3MTYgMi4zNzAyMyAzNC42ODM4QzMuMDcxMjEgMzQuNjk3IDMuNzQxNDYgMzQuNTEwNSA0LjM2NDExIDM0LjE3MzlDNS40NTk3IDMzLjU4MDkgNi42MDA5IDMzLjE2NTMgNy45MTg1OCAzMy4xOTE3QzcuODYxMDggMzMuMDMwNSA3LjgxOTQzIDMyLjkwNjggNy43NzI4MyAzMi43ODQyQzYuNDk1OCAyOS40ODY3IDUuMjE4NzcgMjYuMTg5MyAzLjk0MTc0IDIyLjg5MTlDMy42ODU5MyAyMi4yMjk5IDMuODUwNTIgMjEuOTEwNiA0LjUzNTY0IDIxLjcyNzJDOS41ODcyNSAyMC4zNzU5IDE0LjYzODkgMTkuMDIyNyAxOS42OTI1IDE3LjY3OTZDMTkuODg0OCAxNy42Mjg5IDIwLjExMjkgMTcuNjIxOCAyMC4zMDQyIDE3LjY3MjVDMjUuMzU3OCAxOS4wMTU2IDMwLjQwOTQgMjAuMzY3OCAzNS40NjAxIDIxLjcyMjFDMzYuMTY1IDIxLjkxMDYgMzYuMzEzNyAyMi4yMjc5IDM2LjA0NSAyMi45MjEzQzM0Ljc3NTkgMjYuMTk0NCAzMy41MDQ4IDI5LjQ2NzUgMzIuMjM0OCAzMi43NDA2QzMyLjE4NTIgMzIuODY3MyAzMi4xNDE2IDMyLjk5NiAzMi4wODExIDMzLjE1OTJDMzIuNDAwMyAzMy4xODk2IDMyLjY5OTggMzMuMTc1NSAzMi45NzU0IDMzLjI1MzVDMzMuNzA5MSAzMy40NTkzIDM0LjQ2NDYgMzMuNjMzNiAzNS4xNTI3IDMzLjk1MjlDMzYuMDU0IDM0LjM3MTYgMzYuOTQ4MyAzNC43MDkxIDM3Ljk1MzYgMzQuNzEzMkMzOC41MjA4IDM0LjcxNTIgMzguOTU0IDM1LjE4MzUgMzguOTk2NyAzNS43NDkxQzM5LjAzODMgMzYuMjkyNSAzOC42ODQ0IDM2Ljc5MzIgMzguMTUgMzYuOTI2QzM3Ljk5NjMgMzYuOTY0NSAzNy44MzI3IDM2Ljk2ODYgMzcuNjczIDM2Ljk2NzZDMzYuNDA1OSAzNi45NjQ1IDM1LjI1MDggMzYuNTU1IDM0LjEzOTQgMzUuOTY0QzMyLjk4NjMgMzUuMzUxOCAzMS43NjE4IDM1LjMyMzQgMzAuNTI5NCAzNS42Mzg3QzMwLjExNTkgMzUuNzQ0MSAyOS43MjUzIDM1Ljk1NjkgMjkuMzM3NiAzNi4xNDk1QzI3LjEwMTggMzcuMjU4NSAyNC44NTMxIDM3LjMwMjEgMjIuNjM1MiAzNi4xNTA2QzIxLjMzODMgMzUuNDc3NSAyMC4wMTU3IDM1LjI2NjYgMTguNjE4NyAzNS42MzU2QzE4LjE4MjQgMzUuNzUxMiAxNy43NjkgMzUuOTczMiAxNy4zNTg1IDM2LjE3NDlDMTUuMTU1NCAzNy4yNTI0IDEyLjkzODUgMzcuMjk2IDEwLjc1NzIgMzYuMTcxOEM5LjQ0ODQ0IDM1LjQ5NjcgOC4xMTk4NSAzNS4yNjA2IDYuNzA2OTkgMzUuNjM0NkM2LjI2OTc0IDM1Ljc1MDIgNS44NTIzMyAzNS45NjMgNS40NDU4MiAzNi4xNzE4QzQuNTE0ODEgMzYuNjUyMyAzLjUzNjIyIDM2LjkxNjkgMi40OTUxNiAzNi45NjM1QzEuNjU1MzcgMzcuMDAxIDEuMzY0ODcgMzYuODM3OCAxLjAwMDk5IDM2LjA4MTZWMzUuNTUwNUgxWk0xMC4wNzggMjUuNjQ5QzEwLjE2NjMgMjUuNjI5OCAxMC4zMTMgMjUuNjAzNCAxMC40NTU4IDI1LjU2NDlDMTMuNTYyMSAyNC43Mzg3IDE2LjY2ODQgMjMuOTEwNiAxOS43NzU4IDIzLjA4OTVDMTkuOTIxNSAyMy4wNTEgMjAuMDk1IDIzLjA1MSAyMC4yNDA4IDIzLjA4OTVDMjIuNDA0MiAyMy42NTkyIDI0LjU2NTYgMjQuMjM5IDI2LjcyOCAyNC44MTQ4QzI3Ljc0MzMgMjUuMDg1NCAyOC43NTU2IDI1LjM3MTMgMjkuNzc3OSAyNS42MTI1QzMwLjQwNTUgMjUuNzYxNSAzMC45NDk4IDI1LjM3NjMgMzEuMDk1NSAyNC43NTI5QzMxLjIyNjQgMjQuMTkyNCAzMC44ODgzIDIzLjYxMTYgMzAuMzE3MiAyMy40MjFDMzAuMjEyMSAyMy4zODU1IDMwLjEwMzEgMjMuMzYyMiAyOS45OTUgMjMuMzMyOEMyNi44MzAyIDIyLjQ4NjQgMjMuNjY2MyAyMS42MzM5IDIwLjQ5NjYgMjAuODA1N0MyMC4xODkyIDIwLjcyNTcgMTkuODI5MyAyMC43Mjc3IDE5LjUyMDkgMjAuODA1N0MxNy44MzA1IDIxLjIzMDUgMTYuMTQ4OSAyMS42ODk3IDE0LjQ2NDQgMjIuMTM5N0MxMi44ODc5IDIyLjU2MTQgMTEuMzExNCAyMi45ODMxIDkuNzM1OTcgMjMuNDEwOUM5LjE2MTkgMjMuNTY3IDguODAzOTggMjQuMTAyMiA4Ljg4MTMxIDI0LjY1OTdDOC45NjA2MyAyNS4yMzU0IDkuNDQ4NDQgMjUuNjU5MiAxMC4wNzcgMjUuNjQ4TDEwLjA3OCAyNS42NDlaIiBmaWxsPSIjQTExNEI4Ii8+CjxwYXRoIGQ9Ik0zMS40MjMyIDE4LjI4MzhDMzAuMTc5OSAxNy45NTMzIDI4Ljk5OSAxNy42NDExIDI3LjgxODIgMTcuMzI0OEMyNS40MDU5IDE2LjY3OTEgMjIuOTk2NiAxNi4wMjEzIDIwLjU3OTMgMTUuMzk3OUMyMC4yMjU0IDE1LjMwNjYgMTkuODEgMTUuMjk5NSAxOS40NTggMTUuMzkxOEMxNS45MzAzIDE2LjMxNDIgMTIuNDA5NSAxNy4yNjUgOC44ODU3NyAxOC4yMDY3QzguODAzNDggMTguMjI5IDguNzE5MiAxOC4yMzkyIDguNTk3MjUgMTguMjYzNUM4LjU4OTMyIDE4LjEyNTYgOC41NzY0MyAxOC4wMDcgOC41NzY0MyAxNy44ODg0QzguNTc1NDQgMTUuNjUwMyA4LjU3NTQ0IDEzLjQxMzEgOC41NzY0MyAxMS4xNzQ5QzguNTc2NDMgMTAuNDQ3MSA4LjgxOTM0IDEwLjIwMDggOS41MzcxOCAxMC4yMDA4QzE2LjUxMjMgMTAuMjAwOCAyMy40ODY0IDEwLjIwMDggMzAuNDYxNSAxMC4yMDA4QzMxLjE4MTMgMTAuMjAwOCAzMS40MjQyIDEwLjQ0NjEgMzEuNDI1MiAxMS4xNzE5QzMxLjQyNjIgMTMuNDEwMSAzMS40MjUyIDE1LjY0NzIgMzEuNDI1MiAxNy44ODU0QzMxLjQyNTIgMTcuOTk3OSAzMS40MjUyIDE4LjExMDQgMzEuNDI1MiAxOC4yODI3TDMxLjQyMzIgMTguMjgzOFoiIGZpbGw9IiNBMTE0QjgiLz4KPHBhdGggZD0iTTIzLjMxMzggNy45MTA5NEgxNi42NzY4QzE2LjY2NjkgNy44MDI0OCAxNi42NTAxIDcuNzA2MTggMTYuNjUwMSA3LjYwOTg5QzE2LjY0ODEgNi43NTEzMiAxNi42NDMxIDUuODkxNzMgMTYuNjUwMSA1LjAzMzE2QzE2LjY2IDMuODkyNzkgMTcuNDMxMyAzLjA1NDQ5IDE4LjUzOTggMy4wMjIwNUMxOS41MTU1IDIuOTkzNjcgMjAuNDkzMSAyLjk5MTY0IDIxLjQ2NzcgMy4wMjIwNUMyMi41NjAzIDMuMDU2NTIgMjMuMzMyNyAzLjg4OTc1IDIzLjM0NTYgNS4wMDU3OUMyMy4zNTU1IDUuOTI4MjIgMjMuMzQ2NSA2Ljg0OTY0IDIzLjM0NDYgNy43NzIwN0MyMy4zNDQ2IDcuODA3NTUgMjMuMzI4NyA3Ljg0MzAzIDIzLjMxMjggNy45MDk5M0wyMy4zMTM4IDcuOTEwOTRaIiBmaWxsPSIjQTExNEI4Ii8+Cjwvc3ZnPgo="
            },
            "title" : "Total Assets",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "pageSize" : 1024,
            "actions" : {
              "onCardClicked" : [ {
                "name" : "onCardClicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var broadcastService=widgetContext.$injector.get(widgetContext.servicesMap.get('broadcastService'))\nbroadcastService.broadcast('sidebar_menuListner', {name: 'Assets'});\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c23a46a1-c905-6084-faa0-ea5cf1a0864f"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "3bc1ea3b-ff84-8e6d-0862-982d6eca52b4"
        },
        "28dace2b-1aab-61cc-f308-f484797e7f58" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "total_entity",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "e19fba01-5941-e0cd-369f-44c1d9e7ad18",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "color" : "#1abea1",
              "icon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM5IDIwLjA3NjhWMzAuMDIzMkMzOC43NDcxIDMwLjM3MDkgMzguNTM5MyAzMC43Njg0IDM4LjIzNDggMzEuMDU0NEMzNi45NjcgMzIuMjQ4NSAzNS42NzE4IDMzLjQxMTcgMzQuMzgxNSAzNC41OEMzMy44MjI1IDM1LjA4NzEgMzMuMjE1MiAzNS4xMjQ4IDMyLjY5IDM0LjY5ODJDMzIuMzE0NyAzNC4zOTMzIDMyLjE4OSAzMy45NjMzIDMyLjE4NDIgMzMuNDgzNkMzMi4xNzk0IDMyLjk0OTEgMzIuMTg0MiAzMi40MTQ3IDMyLjE4NDIgMzEuODc2N0gzMC45MjI4QzMwLjkyMjggMzIuMzk1OCAzMC45MjI4IDMyLjg4MjMgMzAuOTIyOCAzMy4zNjcxQzMwLjkyMTIgMzQuNTAxMiAzMC40NTU3IDM0Ljk5MTIgMjkuMzc5NiAzNC45OTEyQzI0Ljk1MTIgMzQuOTkxMiAyMC41MjQ0IDM0Ljk4NDMgMTYuMDk1OSAzNC45OThDMTUuNDc0MSAzNC45OTk3IDE1LjAxNjYgMzQuNzc3IDE0LjYyNjggMzQuMjU4QzEzLjI2MDcgMzIuNDM4NiAxMS44NzUzIDMwLjYzNjQgMTAuNDg1MSAyOC44Mzk0QzEwLjM4NjggMjguNzEyNiAxMC4xODM5IDI4LjYxNSAxMC4wMjc2IDI4LjYxMTZDOS4xMTI1OSAyOC41OTEgOC4xOTc1OSAyOC42MDMgNy4yODI1OSAyOC42MDEzQzYuMzQ4MjYgMjguNTk3OCA1Ljg0NDA0IDI4LjA2MzQgNS44MzkyIDI3LjA2MTJDNS44MzQzNyAyNi4yMDYzIDUuODM5MiAyNS4zNTE1IDUuODM3NTkgMjQuNDk2N0M1LjgzNzU5IDI0LjM2OTkgNS44MjYzMiAyNC4yNDMxIDUuODE5ODcgMjQuMTA3OEgzLjU0MDQyQzMuNTQwNDIgMjQuMjcyMiAzLjU0MDQyIDI0LjQxNDQgMy41NDA0MiAyNC41NTQ5QzMuNTQwNDIgMjUuNjU5OSAzLjU0ODQ4IDI2Ljc2NDggMy41MzU1OSAyNy44Njk4QzMuNTI1OTIgMjguNjkwNCAyLjk5MTEgMjkuMjYyNSAyLjI2Nzc5IDI5LjI2MDhDMS41NDYxIDI5LjI1NzQgMS4wMDMyMiAyOC42NzQ5IDEuMDAxNjEgMjcuODYxMkMwLjk5ODM4OSAyMy4xNzkzIDEgMTguNDk3MyAxLjAwNjQ0IDEzLjgxMzdDMS4wMDY0NCAxMy42MDk4IDEuMDQ5OTQgMTMuMzkyMyAxLjEyNDA0IDEzLjIwMzhDMS4zNTQ0IDEyLjYyNDggMS45NDcyMiAxMi4zMDk2IDIuNTI1NTQgMTIuNDMxMkMzLjA4NjE0IDEyLjU0NzcgMy41MTc4NyAxMy4wNTQ4IDMuNTI5MTQgMTMuNjgxOEMzLjU0ODQ4IDE0LjgzOTkgMy41Mzg4MSAxNS45OTYyIDMuNTQyMDMgMTcuMTU0M0MzLjU0MjAzIDE3LjI5MyAzLjU1MzMxIDE3LjQzMTggMy41NTk3NSAxNy41NzkxSDUuODM1OThDNS44MzU5OCAxNy40MDk1IDUuODM1OTggMTcuMjY3MyA1LjgzNTk4IDE3LjEyMzRDNS44MzU5OCAxNi4zMDggNS44MzExNSAxNS40OTI1IDUuODM1OTggMTQuNjc3MUM1Ljg0MjQzIDEzLjY4ODYgNi4zNTYzMSAxMy4xNDkgNy4yOTM4NyAxMy4xNDIyQzcuNjkwMTUgMTMuMTM4NyA4LjA4NDgzIDEzLjE0MjIgOC40ODExMSAxMy4xNDIyQzguODQ2NzkgMTMuMTQyMiA5LjIxMjQ3IDEzLjE0MjIgOS41NjIwNCAxMy4xNDIyQzkuNTg2MjEgMTMuMDYxNiA5LjU5OTA5IDEzLjAzNzcgOS41OTkwOSAxMy4wMTM3QzkuNjAyMzEgMTIuMjUxMyA5LjYwMjMxIDExLjQ4NzMgOS42MDU1NCAxMC43MjVDOS42MDg3NiA5LjY2MjgzIDEwLjA3OTEgOS4xNjA4OSAxMS4wODc2IDkuMTU5MThDMTIuNTEgOS4xNTU3NSAxMy45MzI1IDkuMTU5MTggMTUuMzU0OSA5LjE1OTE4QzE1LjQ4NyA5LjE1OTE4IDE1LjYyMDcgOS4xNTkxOCAxNS43NjU3IDkuMTU5MThWNy43Mjg3M0MxNS42MzIgNy43MjAxNiAxNS41MjQxIDcuNzA5ODggMTUuNDE0NSA3LjcwODE3QzE1LjIwNTEgNy43MDQ3NSAxNC45OTQxIDcuNzExNiAxNC43ODMgNy43MDQ3NUMxNC4wMDE3IDcuNjc5MDUgMTMuNDY2OSA3LjEzNDI4IDEzLjQ2MzcgNi4zNjUwOUMxMy40NjA1IDUuNTg3MzQgMTQuMDE5NSA1LjAwNjYgMTQuODA1NiA1LjAwMzE3QzE3LjQ4OTQgNC45OTYzMiAyMC4xNzMyIDQuOTk4MDMgMjIuODU3IDUuMDAzMTdDMjMuNjQ2MyA1LjAwMzE3IDI0LjIxNjYgNS41NzUzNSAyNC4yMjQ2IDYuMzQ0NTRDMjQuMjMyNyA3LjExNzE1IDIzLjY3NjkgNy42ODI0NyAyMi44ODExIDcuNzA0NzVDMjIuNTYzOCA3LjcxMzMxIDIyLjI0NjQgNy43MDQ3NSAyMS45MDgxIDcuNzA0NzVWOS4xNTQwNEMyMi4wNjYgOS4xNTQwNCAyMi4xOTk3IDkuMTU0MDQgMjIuMzMxOCA5LjE1NDA0QzIzLjQyMDggOS4xNTQwNCAyNC41MDgyIDkuMTUyMzIgMjUuNTk3MSA5LjE1NDA0QzI2LjY0OTEgOS4xNTU3NSAyNy4xMTk1IDkuNjUyNTUgMjcuMTE5NSAxMC43NjI2QzI3LjExOTUgMTIuMTk2NSAyNy4xMTk1IDEzLjYzMDQgMjcuMTE5NSAxNS4wNjQzQzI3LjExOTUgMTUuMjA0NyAyNy4xMTk1IDE1LjM0NjkgMjcuMTE5NSAxNS41MjY4QzI3Ljk0OTEgMTUuNTI2OCAyOC43Mzg0IDE1LjUxNjUgMjkuNTI2MiAxNS41MzAyQzMwLjQyOTkgMTUuNTQ1NyAzMC45MTE2IDE2LjA3NSAzMC45MTggMTcuMDM3OEMzMC45MjI4IDE3LjY4MDIgMzAuOTE4IDE4LjMyMDkgMzAuOTE4IDE4Ljk4OUgzMi4xNzk0QzMyLjE3OTQgMTguMzQzMiAzMi4xNDg4IDE3LjcyNDcgMzIuMTkwNiAxNy4xMDk3QzMyLjIxMzIgMTYuNzcwNSAzMi4yODczIDE2LjM5MDIgMzIuNDU5NyAxNi4xMTQ0QzMyLjg3ODUgMTUuNDM3NyAzMy42NjE0IDE1LjM4MTIgMzQuMzQ3NyAxNS45Mjk0QzM1LjYzMTYgMTYuOTU3MyAzNi45MDU4IDE4LjAwMDUgMzguMTkyOSAxOS4wMjVDMzguNTQ4OSAxOS4zMDc2IDM4Ljg0NyAxOS42MjExIDM4Ljk5NTIgMjAuMDczNEwzOSAyMC4wNzY4WiIgZmlsbD0iIzFBQkVBMSIvPgo8L3N2Zz4K"
            },
            "title" : "Total Equipments",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "pageSize" : 1024,
            "actions" : {
              "onCardClicked" : [ {
                "name" : "card clicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var broadcastService=widgetContext.$injector.get(widgetContext.servicesMap.get('broadcastService'))\nbroadcastService.broadcast('sidebar_menuListner', {name: 'Assets'});\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "2af8c4ed-9f88-83cf-03c1-9b9058bb5b9a"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "28dace2b-1aab-61cc-f308-f484797e7f58"
        },
        "231c499d-5b7a-c9da-6765-37d70b1436ed" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "device_status",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "2f6ee1b0-1cf6-0dd8-b380-d6dfd91aa548",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "active",
                "type" : "attribute",
                "label" : "active",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.6811262362200499
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "getActive" : "var activeData=widgetContext.data.filter(e=>e.data[0][1]==\"true\")\nreturn activeData.length"
            },
            "title" : "Active Device Status",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "activeClicked" : [ {
                "name" : "Active",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var filters=widgetContext.aliasController.getFilters()\nvar filterId=undefined\nfor (const property in filters) {\n    if(filters[property][\"filter\"]==\"deviceStatus\"){\n        filterId=property\n        break;\n    }\n}\nvar activePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":true,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\nvar inActivePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":false,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\n\nif(filterId!==undefined){\n        filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[activePredicate]\n}\n\n\nwidgetContext.aliasController.updateFilters(filters)\n\n        var shipAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"page_devices_filter_ship\")\n        var selectedAssetAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"Devices\")\n\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetNameFilter\"] = \"\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetType\"] = \"ship\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"type\"] =\"assetType\"\n\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"entityType\"] = \"DEVICE\"\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"] =\"entityType\"\n\n        var entityAliasesToUpdate = widgetContext.aliasController.entityAliases;\n\n        var shipAlias = widgetContext.aliasController.entityAliases[shipAliasId];\n        entityAliasesToUpdate[shipAliasId] =shipAlias\n\n        var selectedAssetAlias = widgetContext.aliasController.entityAliases[selectedAssetAliasId];\n        entityAliasesToUpdate[selectedAssetAliasId] =selectedAssetAlias\n\n        widgetContext.aliasController.updateEntityAliases(entityAliasesToUpdate);\n        widgetContext.aliasController.updateAliases([selectedAssetAliasId,shipAliasId]);\n\n    var params = widgetContext.stateController\n        .getStateParams();\n    params['currentPage'] = \"Devices\";\n    widgetContext.stateController.updateState(null, params);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "18491fe2-7865-b818-31e5-0024ea502433"
              } ],
              "inActiveClicked" : [ {
                "name" : "Inactive",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var filters=widgetContext.aliasController.getFilters()\nvar filterId=undefined\nfor (const property in filters) {\n    if(filters[property][\"filter\"]==\"deviceStatus\"){\n        filterId=property\n        break;\n    }\n}\nvar activePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":true,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\nvar inActivePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":false,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\n\nif(filterId!==undefined){\n        filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[inActivePredicate]\n}\n\n\nwidgetContext.aliasController.updateFilters(filters)\n\n        var shipAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"page_devices_filter_ship\")\n        var selectedAssetAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"Devices\")\n\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetNameFilter\"] = \"\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetType\"] = \"ship\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"type\"] =\"assetType\"\n\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"entityType\"] = \"DEVICE\"\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"] =\"entityType\"\n\n        var entityAliasesToUpdate = widgetContext.aliasController.entityAliases;\n\n        var shipAlias = widgetContext.aliasController.entityAliases[shipAliasId];\n        entityAliasesToUpdate[shipAliasId] =shipAlias\n\n        var selectedAssetAlias = widgetContext.aliasController.entityAliases[selectedAssetAliasId];\n        entityAliasesToUpdate[selectedAssetAliasId] =selectedAssetAlias\n\n        widgetContext.aliasController.updateEntityAliases(entityAliasesToUpdate);\n        widgetContext.aliasController.updateAliases([selectedAssetAliasId,shipAliasId]);\n\n    var params = widgetContext.stateController\n        .getStateParams();\n    params['currentPage'] = \"Devices\";\n    widgetContext.stateController.updateState(null, params);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "783dae80-9c6c-c04a-0a84-e3e918a8bf3c"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "231c499d-5b7a-c9da-6765-37d70b1436ed"
        },
        "72704b04-e096-21be-d5d8-ca251cbf4785" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "admin_sidebar",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "3600b7ad-5dee-3f4a-2f0a-d075b9bcd55d",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "additionalInfo",
                "type" : "entityField",
                "label" : "additionalInfo",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.7550873011508517
              }, {
                "name" : "firstName",
                "type" : "entityField",
                "label" : "First name",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.3972238509907253
              }, {
                "name" : "lastName",
                "type" : "entityField",
                "label" : "Last name",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.8995714063775466
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "menuItems" : [ {
                "name" : "Overview"
              }, {
                "name" : "Customers"
              }, {
                "name" : "Assets"
              }, {
                "name" : "Devices"
              }, {
                "name" : "Alerts"
              }, {
                "name" : "Logout"
              } ],
              "icon" : "data:image/png;base64,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",
              "defaultMenu" : "Overview",
              "showViewChange" : true,
              "menuChangeSubTopic" : "sidebar_menuListner"
            },
            "title" : "New Admin Sidebar",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "humBurgClicked" : [ {
                "name" : "humburg clicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var test=widgetContext.$container.find(\"#menuContainer\")\nconsole.log(test)\ntest.css(\"display\",\"block\");\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "f9d5fae6-e5ee-cec8-1a85-d6d3ef4fd7d4"
              } ],
              "menuClicked" : [ {
                "name" : "Menu Clicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "if (entityName == \"Logout\") {\n    console.log(\"logout clicked\");\n    $.ajax({\n        type: \"POST\",\n        beforeSend: function(request) {\n            request\n                .setRequestHeader(\n                    \"X-Authorization\",\n                    \"Bearer \" +\n                    localStorage\n                    .getItem(\n                        \"jwt_token\")\n                );\n        },\n        url: \"api/auth/logout\",\n        processData: true,\n        success: function(msg) {\n            localStorage.clear();\n            document.location.href = \"/\";\n        }\n    });\n\n} else {\n    if (entityName == \"Assets\" ) {\n        var selectedAssetAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"page_ship_ships\")\n        \n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetNameFilter\"] = \"\"\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetType\"] = \"ship\"\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"] =\"assetType\"\n\n        var entityAliasesToUpdate = widgetContext.aliasController.entityAliases;\n        var selectedAssetAlias = widgetContext.aliasController.entityAliases[selectedAssetAliasId];\n        // entityAliasesToUpdate[selectedAssetAliasId] =selectedAssetAlias\n\n        widgetContext.aliasController.updateEntityAliases(entityAliasesToUpdate);\n        widgetContext.aliasController.updateAliases([selectedAssetAliasId]);\n\n    } \n    else if (entityName == \"Devices\") {\n                var filters=widgetContext.aliasController.getFilters()\n        var filterId=undefined\n        for (const property in filters) {\n            if(filters[property][\"filter\"]==\"deviceStatus\"){\n                filterId=property\n                break;\n            }\n        }\n\n        if(filterId!==undefined){\n                filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[]\n        }\n        \n        \n        widgetContext.aliasController.updateFilters(filters)\n\n        \n        \n        //\n        var shipAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"page_devices_filter_ship\")\n        var selectedAssetAliasId = Object.keys(widgetContext.aliasController.entityAliases).find(key =>\n        widgetContext.aliasController.entityAliases[key].alias === \"Devices\")\n\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetNameFilter\"] = \"\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"assetType\"] = \"ship\"\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[shipAliasId][\"filter\"][\"type\"] =\"assetType\"\n\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"] = {}\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"entityType\"] = \"DEVICE\"\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"] = true\n        widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"] =\"entityType\"\n\n        var entityAliasesToUpdate = widgetContext.aliasController.entityAliases;\n\n        var shipAlias = widgetContext.aliasController.entityAliases[shipAliasId];\n        entityAliasesToUpdate[shipAliasId] =shipAlias\n\n        var selectedAssetAlias = widgetContext.aliasController.entityAliases[selectedAssetAliasId];\n        entityAliasesToUpdate[selectedAssetAliasId] =selectedAssetAlias\n\n        widgetContext.aliasController.updateEntityAliases(entityAliasesToUpdate);\n        widgetContext.aliasController.updateAliases([selectedAssetAliasId,shipAliasId]);\n        \n        \n        // widgetContext.updateAliases()\n\n    }\n\n    var params = widgetContext.stateController\n        .getStateParams();\n    params['currentPage'] = entityName;\n    widgetContext.stateController.updateState(null, params);\n    var test = $(\"#menu_bar_widget\")\n    test.css(\"display\", \"none\");\n    var test = $(\"#menuCloseButton\")\n    test.css(\"display\", \"none\");\n}\nwidgetContext.detectChanges();",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "4692f572-780d-0e7b-f306-0cbebdf82b49"
              } ],
              "viewChangeClicked" : [ {
                "name" : "View Change Clicked",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "console.log(widgetContext)\nwidgetContext.userService.getUser(widgetContext.currentUser.userId).subscribe(function(user){\n    var navigateToHome=!user[\"additionalInfo\"][\"defaultDashboardFullscreen\"]\n    user[\"additionalInfo\"][\"defaultDashboardFullscreen\"]=!user[\"additionalInfo\"][\"defaultDashboardFullscreen\"]\n    if(user[\"additionalInfo\"][\"defaultDashboardId\"]==null){\n        user[\"additionalInfo\"][\"defaultDashboardId\"]=\"cd3c0ad0-b3ff-11ed-b907-3bebb3a56b7b\"\n    }\n    widgetContext.userService.saveUser(user).subscribe(function(savedUsed){\n        console.log(user,\"-->\",savedUsed);\n        console.log(\"navigate to home: \",navigateToHome);\n        if(navigateToHome){\n            window.location.href=\"/\"\n        }\n        else{\n            window.location.href=\"/dashboardGroups/e42cd850-b3ff-11ed-b907-3bebb3a56b7b/cd3c0ad0-b3ff-11ed-b907-3bebb3a56b7b\"\n        }\n    })\n})\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "2ef396b2-7f82-3766-0e2c-44eeaf867a5f"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "72704b04-e096-21be-d5d8-ca251cbf4785"
        },
        "36f69bbf-fe69-e05e-e6d6-adb66c4e6dbf" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div id=\"cardContainer\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"width:100%\"> \r\n    <div class=\"section_title\">Customers</div>\r\n        <!--<div class=\"section_title\">Customer Details</div>-->\r\n        <div id=\"newCustomerButton\" class=\"button\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n            <span class=\"buttonIcon\"></span>\r\n            <span class=\"text\">Add New Customer</span>\r\n        </div>\r\n    </div>\r\n    <div id=\"tableContainer\" fxLayout=\"column\" fxFill>\r\n        <div class=\"stateContainer\" flex=\"1\" fxLayout=\"row\" style=\"height:100%\">\r\n            <tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_customer_table\"></tb-dashboard-state>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
              "markdownCss" : ".button{\n    padding: 16px 32px 16px 32px;\n    background: #1B4383;\nborder-radius: 6px;\ncursor: pointer;\n}\n.button > .buttonIcon{\n    height: 20px;\n    width: 20px;\n    background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBrZXhDcIgEIWfjQMwQkfQicpIbtA6gW6gI3QDR6AbnHeWJpiG9DW9L3l/yONxcBCAjIhE1UuVhCflORElOtDLcfqyMi9io5kd/OhOFgs/poY0vlVPwhfYCq+2uuqzZWQrTKSPDuSptP+hahcV3mXsIvOFXlGrMGTVmLJWsE1pzQvHptDsCQyM6QyOGxtoZ5hYM8Hv6Y3wY7TAO/yYs3Tbgxxn+IsWpy/gC4ECt99zp3W1AAAAAElFTkSuQmCC\");\n}\n.button > .text{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    /*text-transform: capitalize;*/\n    color: #FFFFFF;\n    \n}\n\n#tableContainer{\n    height: 100vh;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border: 1px solid #EDEFF4;\n    border-radius: 16px;\n}\n#cardContainer{\n    padding: 0;\n    margin: 0;\n    /*margin: 3vh 3vw 3vh 3vw;*/\n    height: 100%;\n}\n\n\n.section_title{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 20px;\n    /*line-height: 19px;*/\n    text-transform: capitalize;\n    color: #000000;\n    \n    /*font-family: 'Inter';*/\n    /*font-style: normal;*/\n    /*font-weight: 400;*/\n    /*font-size: 16px;*/\n    /*line-height: 19px;*/\n    /*text-transform: capitalize;*/\n    /*color: #696969;*/\n    /*margin: 24px 0;*/\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "newCustomerButton",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add New Customer</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start center\">\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer Title</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                <input matInput formControlName=\"title\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('title').hasError('required')\">\n                    Customer Title is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer Email</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"email\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('email').hasError('required')\">\n                    Customer Email is required.\n                </mat-error>\n                <mat-error *ngIf=\"addEntityFormGroup.get('email').hasError('email')\">\n                    Invalid Email.\n                </mat-error>\n            </mat-form-field>\n        </div>        \n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Select Location</div>\n            <div id='mapContainer'></div>\n        </div>        \n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n</form>\n",
                "customCss" : "\nmat-dialog-container{\n    border-radius: 16px !important;\n    background: #FFFFFF !important; \n\n}\nmat-dialog-container .title{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 19px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #000000;    \n}\n#mapContainer { height: 400px; \n    width: 400px;\n    border-radius: 10px;\n}\n.npFormTitle{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 19px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #000000;\n}\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext\n    .servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\n\n\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.users = [];\n    var sharedDashboardPermission = {\n        \"userGroupId\": {\n            \"entityType\": \"ENTITY_GROUP\",\n            \"id\": undefined\n        },\n        \"entityGroupOwnerId\": {\n            \"entityType\": \"TENANT\",\n            \"id\": \"9c28c0b0-b106-11ed-a5f7-cdf9aa24320a\"\n        },\n        \"role\": {\n            \"type\": \"GROUP\",\n            \"id\": {\n                \"entityType\": \"ROLE\",\n                \"id\": \"1137e970-b400-11ed-b907-3bebb3a56b7b\"\n            }\n        },\n        \"entityGroupId\": {\n            \"entityType\": \"ENTITY_GROUP\",\n            \"id\": \"e03bef10-b3ff-11ed-b907-3bebb3a56b7b\"\n        },\n        \"userGroupOwnerId\": null,\n        \"roleId\": {\n            \"entityType\": \"ROLE\",\n            \"id\": \"1137e970-b400-11ed-b907-3bebb3a56b7b\"\n        }\n    }\n\n\n    vm.addEntityFormGroup = vm.fb.group({\n        email: ['', [vm.validators.email]],\n        title: ['', [vm.validators.required]],\n        attributes: vm.fb.group({\n            lat: [null, [vm.validators\n                .required\n            ]],\n            long: [null, [vm.validators\n                .required\n            ]]\n        })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n\n\n    $(document).ready(function() {\n        vm.mymap = L.map(\"mapContainer\")\n            .setView([19.115554992457728,\n                    73.02786222338501\n                ],\n                13);\n        L.tileLayer(\n            'http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n                // attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            }).addTo(vm.mymap);\n\n        if (window.GeoSearch) {\n            const provider = new window.GeoSearch\n                .OpenStreetMapProvider();\n            const search = new GeoSearch\n                .GeoSearchControl({\n                    provider: provider,\n                    style: 'bar',\n                    updateMap: true,\n                    autoClose: true,\n                }); \n            vm.mymap.addControl(search);\n        }\n\n\n        vm.mymap.on('click', function(e) {\n\n            var lat = (e.latlng.lat);\n            var lng = (e.latlng.lng);\n            if (vm.marker == null) {\n                vm.marker = L.marker([lat,\n                    lng\n                ], {\n                    icon: vm\n                        .markerIcon\n                }).addTo(vm.mymap);\n\n            } else {\n                var newLatLng = new L\n                    .LatLng(lat, lng);\n                vm.marker.setLatLng(\n                    newLatLng);\n\n            }\n            vm.addEntityFormGroup.controls\n                .attributes.controls.lat\n                .patchValue(lat, {\n                    emitEvent: true\n                });\n            vm.addEntityFormGroup.controls\n                .attributes.controls.long\n                .patchValue(lng, {\n                    emitEvent: true\n                });\n\n\n        });\n    });\n\n\n    vm.save = function() {\n\n        vm.addEntityFormGroup.markAsPristine();\n\n        const formValues = vm.addEntityFormGroup.value;\n        let customer = {\n            \"title\": formValues.title,\n            \"name\": formValues.title,\n            \"email\": formValues.email,\n        };\n\n\n        widgetContext.rxjs.forkJoin([customerService\n            .saveCustomer(customer)\n        ]).subscribe(function(cusResult) {\n            let custUser = {\n                \"title\": formValues.title,\n                \"name\": formValues.title,\n                \"additionalInfo\": {\n                    \"description\": \"\",\n                    \"defaultDashboardId\": \"d63010a0-b3ff-11ed-b907-3bebb3a56b7b\",\n                    \"defaultDashboardFullscreen\": true\n                },\n                \"email\": formValues.email,\n                \"authority\": \"CUSTOMER_USER\",\n                \"customerId\": cusResult[0]\n                    .id,\n                \"ownerId\": cusResult[0].id\n            }; //\tSelf Registration Users\n            widgetContext.rxjs.forkJoin([\n\n                // widgetContext.entityGroupService.saveEntityGroup({\"name\":\"Customer Users\",\"additionalInfo\":{\"description\":\"\"},\"type\":\"USER\",\"ownerId\":cusResult[0].id}),\n                widgetContext.http.get(\n                    \"/api/entityGroups/CUSTOMER/\" +\n                    cusResult[0].id.id +\n                    \"/USER\"),\n                // entityGroupService.addEntityToEntityGroup(\"b17534b0-331d-11ed-aea7-a3a5a9b95115\",cusResult[0].id.id),\n                userService.saveUser(\n                    custUser, false),\n                saveAttributes(\n                    cusResult[0].id),\n                saveRelation({\n            \"entityType\": \"TENANT\",\n            \"id\": widgetContext.currentUser.tenantId\n            },cusResult[0].id)\n        ]).subscribe(function(result) {\n\n                var userGroup = result[\n                    0].find(e => e\n                    .name ==\n                    \"Customer Users\"\n                    )\n                sharedDashboardPermission[\"userGroupId\"][\"id\"]=userGroup.id.id\n                rxjs.forkJoin(\n                        entityGroupService\n                        .addEntityToEntityGroup(\n                            userGroup.id\n                            .id, result[\n                                1].id.id\n                            ),\n                        widgetContext\n                        .http.post(\n                            \"/api/groupPermission\",\n                            sharedDashboardPermission\n                            ))\n                    .subscribe(function(\n                        userSaveResponse\n                        ) {\n                        widgetContext\n                            .showToast(\n                                'success',\n                                'Customer Added',\n                                1000,\n                                'top',\n                                'left','root'\n                                );\n                        widgetContext\n                            .updateAliases();\n                        vm.dialogRef\n                            .close(\n                                null\n                                );\n                    })\n            })\n\n\n        },function(err){\n            console.log(\"save customer err: \",err);\n            \n        })\n\n\n\n    };\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get(\n            'attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if (attributes[key] !== null) {\n                attributesArray.push({\n                    key: key,\n                    value: attributes[key]\n                });\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(\n                entityId, \"SERVER_SCOPE\",\n                attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n    vm.markerIcon = L.icon({\n        iconSize: [25, 25], // size of the icon\n        iconAnchor: [12.5, 25],\n        iconUrl: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/hAytodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjM3RDEwMkREMDEyMTFFNzkwMEZGRUNFMTk3OTNCRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjM3RDEwMkVEMDEyMTFFNzkwMEZGRUNFMTk3OTNCRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzdEMTAyQkQwMTIxMUU3OTAwRkZFQ0UxOTc5M0JFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MzdEMTAyQ0QwMTIxMUU3OTAwRkZFQ0UxOTc5M0JFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/bAEMAAwICAgICAwICAgMDAwMEBgQEBAQECAYGBQYJCAoKCQgJCQoM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\",\n        popupAnchor: [0, -\n            30\n        ] // point from which the popup should open relative to the iconAnchor\n\n    });\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                }, {
                  "url" : "https://unpkg.com/leaflet-geosearch@3.7.0/dist/geosearch.umd.js"
                }, {
                  "url" : "https://unpkg.com/leaflet-geosearch@3.7.0/dist/geosearch.css"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "8959d027-5edf-5363-2958-e7d78da8f8ea"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "36f69bbf-fe69-e05e-e6d6-adb66c4e6dbf"
        },
        "7c8dcfbf-40aa-b058-43c6-694bd14b9a3b" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nptable",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8.5,
          "sizeY" : 5.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "title",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellStyleFunction" : "return {\n    \"font-family\": 'Inter',\n\"font-style\": \"normal\",\n\"font-weight\": 400,\n\"font-size\": \"16px\",\n\"line-height\": \"19px\",\n\"text-transform\": \"capitalize\",\n\"color\": \"#696969\"\n}\n\n"
                },
                "_hash" : 0.43443810820344164,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "email",
                "type" : "entityField",
                "label" : "Email",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellStyleFunction" : "return {\n    \"font-family\": 'Inter',\n\"font-style\": \"normal\",\n\"font-weight\": 400,\n\"font-size\": \"16px\",\n\"line-height\": \"19px\",\n\"text-transform\": \"capitalize\",\n\"color\": \"#696969\"\n}\n\n"
                },
                "_hash" : 0.3438183977760001,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "enableSearch" : false,
              "enableSelectColumnDisplay" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "false",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "entityName",
              "useRowStyleFunction" : false,
              "entityNameColumnTitle" : "Name",
              "rowStyleFunction" : "return {\"border-bottom-width\":0}",
              "actionIcons" : [ {
                "name" : "Login As Customer",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFNSURBVHgB1VVNToNQEB6wCSxZuqwnUBMOADfwBtYdsJEb2N6ADQk74w28QVm6YKE3wBu8JZAQ/Ma0hlT7Oo+YtP0S8n6YmW/mzfeA6NxhSYyiKFpYlnWPaaAxK4dheCiKojYiSJLkCY5LEsK27UWe5y8iAmQeIPM1mUE5jnOVZZn6JjxgfEfm8Jqm+fHTEiD7a5qGuYjgP2BKoFgpGGupw5QKSjTxFuO7xNiUwGNVoYkeSEIJyWw7ieOYO/84fonjYD2v/nJkGaZpGrZtyzK+oT2wR8EUCdH3vTdaejpb7UVDVZxdsLNdI5nQdV3Vdd0a81/ZY2+FT8aS56Y9OBh8F8ZNxhNIgzNmZAZW0TOCix2Oe5OR6QdNQy0iAF7JHCz3cru40FlWVVX7vo9jtwISAlXHkGgpItiQlCD5BMkcy8s9Zpz12+aXOaXqE8YX0lSElJoKhgoAAAAASUVORK5CYII="
              }, {
                "name" : "Delete",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              }, {
                "name" : "Edit",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              } ]
            },
            "title" : "New NPTable",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : ".mat-sort-header-content{\nfont-family: 'Inter';\nfont-style: normal;\nfont-weight: 500;\nfont-size: 16px;\nline-height: 19px;\ntext-transform: capitalize;\ncolor: #000000;\n}\n\n.mat-cell, .mat-header-cell {\n  /*border: none !important;*/\n    border-bottom: 1px solid #EDEFF4 !important;\n}",
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "actionCellButton" : [ {
                "name" : "Send Activation Email",
                "icon" : "email",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "var genPerm=widgetContext.$injector.get(widgetContext.servicesMap.get('userPermissionsService')).userPermissions.genericPermissions[\"ALL\"]\nif(genPerm!==undefined && genPerm.length>=1 && genPerm[0]==\"ALL\"){\n    return true;\n}\nelse {\n    return false;\n}\n",
                "type" : "custom",
                "customFunction" : "widgetContext.userService.getCustomerUsers(entityId.id,widgetContext.pageLink(100,0)).subscribe(function(result){\n    if(result.data.length>=1){\n        widgetContext.userService.sendActivationEmail(result.data[0].email).subscribe(function(actSend){\n            console.log(\"Email sent: \",actSend)\n            widgetContext.showToast('success','Activation Email sent to '+ result.data[0].email,2000,'top','left');\n\n        })\n    // widgetContext.userService.getUser(result.data[0].id.id,widgetContext.pageLink(100,0)).subscribe(function(user){\n    //     console.log(user)\n    // })    \n        \n    }\n},function(error){\n    console.log(\"Error: \",error)\n},function(complete){\n    console.log(\"Request completed\")\n})\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "015753e7-e852-9352-1c76-5b3b188799db"
              }, {
                "name" : "Edit",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "var genPerm=widgetContext.$injector.get(widgetContext.servicesMap.get('userPermissionsService')).userPermissions.genericPermissions[\"ALL\"]\nif(genPerm!==undefined && genPerm.length>=1 && genPerm[0]==\"ALL\"){\n    return true;\n}\nelse {\n    return false;\n}\n",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Edit Customer</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start center\">\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer Title</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                <input matInput formControlName=\"title\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('title').hasError('required')\">\n                    Customer Title is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer Email</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"email\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('email').hasError('required')\">\n                    Customer Email is required.\n                </mat-error>\n                <mat-error *ngIf=\"addEntityFormGroup.get('email').hasError('email')\">\n                    Invalid Email.\n                </mat-error>\n            </mat-form-field>\n        </div>        \n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Select Location</div>\n            <div id='mapContainer'></div>\n        </div>        \n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n</form>\n",
                "customCss" : "\nmat-dialog-container{\n    border-radius: 16px !important;\n    background: #FFFFFF !important; \n\n}\nmat-dialog-container .title{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 19px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #000000;    \n}\n#mapContainer { height: 400px; \n    width: 400px;\n    border-radius: 10px;\n}\n.npFormTitle{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 19px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #000000;\n}\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext\n    .servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\n\n\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.users = [];\n    currentCustomter=undefined;\n    currentCustomterUser=undefined;\n\n    vm.addEntityFormGroup = vm.fb.group({\n        email: ['', [vm.validators.email]],\n        title: ['', [vm.validators.required]],\n        attributes: vm.fb.group({\n            lat: [null, [vm.validators\n                .required\n            ]],\n            long: [null, [vm.validators\n                .required\n            ]]\n        })\n    }); \n \n    \n    getCustomerInfo();\n\n    function getCustomerInfo(){\n        widgetContext.customerService.getCustomer(entityId.id).subscribe(function(customer){\n            console.log(\"Selected Customer: \",customer)\n            currentCustomter=customer;\n            widgetContext.rxjs.forkJoin(attributeService.getEntityAttributes(entityId,\"SERVER_SCOPE\",[\"lat\",\"long\"]),\n            widgetContext.userService.getCustomerUsers(entityId.id,widgetContext.pageLink(100,0)\n                )\n            ).subscribe(function(result){\n                console.log(result)\n                currentCustomterUser=result[1].data[0]\n                    vm.addEntityFormGroup.patchValue({\n                    email: currentCustomter.email,\n                    title: currentCustomter.title,\n                }, {emitEvent: true});\n                \n                var latData=result[0].find(e=>e.key==\"lat\")\n                \n                if(latData!==undefined){\n            vm.addEntityFormGroup.controls.attributes.controls.lat.patchValue(latData.value, {\n                            emitEvent: true\n                        });                    \n                }\n                var longData=result[0].find(e=>e.key==\"long\")\n                if(longData!==undefined){\n                \n            vm.addEntityFormGroup.controls.attributes.controls.long.patchValue(longData.value, {\n                            emitEvent: true\n                        });                    \n                }\n                if(latData!==undefined && longData!==undefined){\n                    vm.addEntityFormGroup.markAsDirty()\n                    vm.mymap.setView([latData.value,longData.value],13);\n                \n                    vm.marker = L.marker([latData.value,longData.value], {\n                        icon: vm.markerIcon\n                    }).addTo(vm.mymap);\n                }\n\n\n            })\n            \n        })\n    }\n\n\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n\n    $(document).ready(function() {\n        vm.mymap = L.map(\"mapContainer\")\n            .setView([19.115554992457728,\n                    73.02786222338501\n                ],\n                13);\n        L.tileLayer(\n            'http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n                attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            }).addTo(vm.mymap);\n\n        const provider = new window.GeoSearch\n            .OpenStreetMapProvider();\n        const search = new GeoSearch\n            .GeoSearchControl({\n                provider: provider,\n                style: 'bar',\n                updateMap: true,\n                autoClose: true,\n            }); // Include the search box with usefull params. Autoclose and updateMap in my case. Provider is a compulsory parameter.\n        vm.mymap.addControl(search);\n        vm.mymap.on('click', function(e) {\n\n            var lat = (e.latlng.lat);\n            var lng = (e.latlng.lng);\n            if (vm.marker == null) {\n                vm.marker = L.marker([lat,\n                    lng\n                ], {\n                    icon: vm\n                        .markerIcon\n                }).addTo(vm.mymap);\n\n            } else {\n                var newLatLng = new L\n                    .LatLng(lat, lng);\n                vm.marker.setLatLng(\n                    newLatLng);\n\n            }\n            vm.addEntityFormGroup.controls\n                .attributes.controls.lat\n                .patchValue(lat, {\n                    emitEvent: true\n                });\n            vm.addEntityFormGroup.controls\n                .attributes.controls.long\n                .patchValue(lng, {\n                    emitEvent: true\n                });\n\n\n        });\n    });\n\n\n    vm.save = function() {\n\n        vm.addEntityFormGroup.markAsPristine();\n        const formValues = vm.addEntityFormGroup.value;\n        currentCustomter[\"title\"]=formValues.title;\n        currentCustomter[\"email\"]=formValues.email;\n        currentCustomterUser[\"email\"]=formValues.email;\n\n        widgetContext.rxjs.forkJoin([customerService\n            .saveCustomer(currentCustomter),userService.saveUser(currentCustomterUser),saveAttributes(entityId)\n        ]).subscribe(function(cusResult) {\n            widgetContext.showToast('success','Customer Updated',1000,'top','left','root');\n            \n            widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n\n\n        })\n\n\n\n    };\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get(\n            'attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if (attributes[key] !== null) {\n                attributesArray.push({\n                    key: key,\n                    value: attributes[key]\n                });\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(\n                entityId, \"SERVER_SCOPE\",\n                attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n    vm.markerIcon = L.icon({\n        iconSize: [25, 25], // size of the icon\n        iconAnchor: [12.5, 25],\n        iconUrl: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/hAytodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjM3RDEwMkREMDEyMTFFNzkwMEZGRUNFMTk3OTNCRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjM3RDEwMkVEMDEyMTFFNzkwMEZGRUNFMTk3OTNCRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzdEMTAyQkQwMTIxMUU3OTAwRkZFQ0UxOTc5M0JFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MzdEMTAyQ0QwMTIxMUU3OTAwRkZFQ0UxOTc5M0JFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/bAEMAAwICAgICAwICAgMDAwMEBgQEBAQECAYGBQYJCAoKCQgJCQoM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\",\n        popupAnchor: [0, -\n            30\n        ] // point from which the popup should open relative to the iconAnchor\n\n    });\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                }, {
                  "url" : "https://unpkg.com/esri-leaflet@^3.0.8/dist/esri-leaflet.js"
                }, {
                  "url" : "https://unpkg.com/leaflet-geosearch@3.1.0/dist/bundle.min.js"
                }, {
                  "url" : "https://unpkg.com/leaflet-geosearch@3.1.0/dist/geosearch.css"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "f5eb3373-d23a-600d-83ca-b3404d1f396f"
              }, {
                "name" : "Delete",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "var genPerm=widgetContext.$injector.get(widgetContext.servicesMap.get('userPermissionsService')).userPermissions.genericPermissions[\"ALL\"]\nif(genPerm!==undefined && genPerm.length>=1 && genPerm[0]==\"ALL\"){\n    return true;\n}\nelse {\n    return false;\n}\n",
                "type" : "custom",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\nlet customerService = $injector.get(widgetContext.servicesMap.get('customerService'));\n\nopenDeleteEntityDialog();\n\nfunction openDeleteEntityDialog() {\n    let title = 'Delete ' + entityId.entityType.toLowerCase() + ' ' +\n                entityName;\n    let content = 'Are you sure you want to delete the ' +\n                 entityId.entityType.toLowerCase() + ' ' + entityName + '?';\n    dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\n        function(result) {\n            if (result) {\n                deleteEntity();\n            }\n        }\n    );\n}\n\nfunction deleteEntity() {\n    deleteEntityObservable(entityId).subscribe(\n        function success() {\n            widgetContext.showToast('success','Customer Removed',1000,'top','left','root');\n            widgetContext.updateAliases();\n        },\n        function fail() {\n            showErrorDialog();\n        }\n    );\n}\n\nfunction deleteEntityObservable(entityId) {\n    if (entityId.entityType == \"ASSET\") {\n        return assetService.deleteAsset(entityId.id);\n    } else if (entityId.entityType == \"DEVICE\") {\n        return deviceService.deleteDevice(entityId.id);\n    }else if (entityId.entityType == \"CUSTOMER\"){\n        return customerService.deleteCustomer(entityId.id)\n    }\n}\n\nfunction showErrorDialog() {\n    let title = 'Error';\n    let content = 'An error occurred while deleting the entity. Please try again.';\n    dialogs.alert(title, content, 'CLOSE').subscribe(\n        function(result) {}\n    );\n}\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "de908fea-f1ae-386e-6e71-64c63181fb5b"
              }, {
                "name" : "Login As Customer",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "var genPerm=widgetContext.$injector.get(widgetContext.servicesMap.get('userPermissionsService')).userPermissions.genericPermissions[\"ALL\"]\nif(genPerm!==undefined && genPerm.length>=1 && genPerm[0]==\"ALL\"){\n    return true;\n}\nelse {\n    return false;\n}\n",
                "type" : "custom",
                "customFunction" : "widgetContext.userService.getCustomerUsers(entityId.id,widgetContext.pageLink(100,0)).subscribe(function(result){\n    if(result.data.length>=1){\n        widgetContext.http.get(\"/api/user/\"+result.data[0].id.id+\"/token\").subscribe(function(token){\n            storeToken(\"jwt_token\",token[\"token\"])\n            storeToken(\"refresh_token\",token[\"refreshToken\"])\n            window.location = '/';   \n\n        })\n\n    }\n},function(error){\n    console.log(\"Error: \",error)\n},function(complete){\n    console.log(\"Request completed\")\n})\n\nfunction storeToken(prefix,token){\n    var tokenData=parseJwt(token)\n    const issuedAt = tokenData[\"iat\"];\n    const expTime = tokenData[\"exp\"];\n    if (issuedAt && expTime) {\n        const ttl = expTime - issuedAt;\n        if (ttl > 0) {\n            console.log(\"storing token: \",prefix)\n            const clientExpiration = new Date().valueOf() + ttl * 1000;\n            localStorage.setItem(prefix, token);\n            localStorage.setItem(prefix+'_expiration', '' + clientExpiration);\n        }\n    }\n    \n}\nfunction parseJwt (token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "587210ac-c558-05a5-1641-310e64a7d926"
              }, {
                "name" : "Activation Link",
                "icon" : "content_copy",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "widgetContext.rxjs.forkJoin([widgetContext.userService.getCustomerUsers(entityId.id,widgetContext.pageLink(100,0)),widgetContext.customerService.getCustomer(entityId.id)]).subscribe(function(result){\n\n    var user=result[0].data.find(e=>e.email==result[1].email)\n    if(user){\n        widgetContext.userService.getActivationLink(user.id.id).subscribe(function(actLink){\n            var $temp = $(\"<input>\");\n            $(\"body\").append($temp);\n            $temp.val(actLink).select();\n            document.execCommand(\"copy\");\n            $temp.remove();\n            widgetContext.showToast('success','Activation Link copied',2000,'top','left','root');\n\n        })\n    }\n},function(error){\n    console.log(\"Error: \",error)\n},function(complete){\n    console.log(\"Request completed\")\n})\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "984de5c2-538d-3397-b97e-caef41ecd7db"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "7c8dcfbf-40aa-b058-43c6-694bd14b9a3b"
        },
        "a04176e5-74c2-2a47-241a-7fcc7ffc28ca" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "load_resource",
          "type" : "static",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "cardHtml" : "<div class='card'>HTML code here</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New Load Resource",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "a04176e5-74c2-2a47-241a-7fcc7ffc28ca"
        },
        "2a99c63b-9b1e-4d41-06be-8fe86e7200cb" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nptable2",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8.5,
          "sizeY" : 5.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "41431f63-6a2f-c82f-6a92-111f11b1a2fc",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "enableSearch" : false,
              "enableSelectColumnDisplay" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "false",
              "displayEntityName" : true,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "entityName",
              "useRowStyleFunction" : false,
              "entityNameColumnTitle" : "Name",
              "actionIcons" : [ {
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII=",
                "name" : "Edit Asset"
              }, {
                "name" : "Delete Asset",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              }, {
                "name" : "Add In Asset",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBrZTNDYJAEIVndw3xSAnaASYUYAl2oN6Amx1oB14g3NQOKMGjBw50oFYgBfDjm7iejGES9ksG2M3kMTM7O4osURRtlFJrfAYwn2TUsKrv+0ue52feUPxIkuSEzQ2NAMGcsyzbKhvZiRyAoLbapukE1tJ4L8kdgRY6XmGFwM+fCJyoaZqdMaZGSqshX1GEnue9SIg0ZTH/BAu0wPxraZo+0biP7xolWNCnrmJBv23bv7eF60mfW/KDiuO4pwG01jP8AGei7oO+5BixIKIUDQxRH3ZddyThBGLBWuA82NCWmlOuyB2V5uFIjmAtU5ZlFYbhHC0R0Ajs1N4bXkC0gOgTolxLtqlQh+t/g9iBxXjjDZGjaejAQSTiAAAAAElFTkSuQmCC"
              }, {
                "name" : "Add In Equipment",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBrZTNDYJAEIVndw3xSAnaASYUYAl2oN6Amx1oB14g3NQOKMGjBw50oFYgBfDjm7iejGES9ksG2M3kMTM7O4osURRtlFJrfAYwn2TUsKrv+0ue52feUPxIkuSEzQ2NAMGcsyzbKhvZiRyAoLbapukE1tJ4L8kdgRY6XmGFwM+fCJyoaZqdMaZGSqshX1GEnue9SIg0ZTH/BAu0wPxraZo+0biP7xolWNCnrmJBv23bv7eF60mfW/KDiuO4pwG01jP8AGei7oO+5BixIKIUDQxRH3ZddyThBGLBWuA82NCWmlOuyB2V5uFIjmAtU5ZlFYbhHC0R0Ajs1N4bXkC0gOgTolxLtqlQh+t/g9iBxXjjDZGjaejAQSTiAAAAAElFTkSuQmCC"
              }, {
                "name" : "Edit Equipment",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              }, {
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII=",
                "name" : "Delete Equipment"
              }, {
                "name" : "Edit Device",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              }, {
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII=",
                "name" : "Delete Device"
              } ],
              "entitiesTitle" : "NPTable2",
              "engineActions" : "Add In Engine,Delete Engine,Edit Engine",
              "deviceActions" : "Edit Device,Delete Device,Get Credentials"
            },
            "title" : "New NPTable2",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : ".mat-sort-header-content{\nfont-family: 'Inter';\nfont-style: normal;\nfont-weight: 500;\nfont-size: 16px;\nline-height: 19px;\ntext-transform: capitalize;\ncolor: #000000;\n}\n\n.mat-cell, .mat-header-cell {\n  /*border: none !important;*/\n    border-bottom: 1px solid #EDEFF4 !important;\n}",
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "actionCellButton" : [ {
                "name" : "Add In Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : false,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Inside Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Type </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"itemType\" (selectionChange)=\"placedItemSelected($event.value)\">\n                <mat-option *ngFor=\"let type of placedItemType\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n\n\n              </mat-select>\n            </mat-form-field>\n        </div>\n\n\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Equipment Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"componentName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('componentName').hasError('required')\">\n                    Equipment Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Type</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"deviceType\" (selectionChange)=\"deviceTypeSelected($event.value)\">\n                <mat-option *ngFor=\"let type of deviceTypes\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n        </div>\n\n\n\n        </div>\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\" >\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field class=\"mat-block ntFormField\" fxFlex>\n                    <input matInput type=\"text\" #entityInput\n                        formControlName=\"device\"\n                        [matAutocomplete]=\"deviceAutocomplete\"\n                        (focusin)=\"onDeviceFocus()\">\n                    <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #deviceAutocomplete=\"matAutocomplete\"\n                        >\n                        <mat-option \n                            *ngFor=\"let entity of filteredCustomerDevices | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n        \n        </div>\n        \n        <div class=\"ntInputControl\" fxFlex >\n            <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\" formGroupName=\"attributes\">\n                    <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >\n\n            </mat-form-field>\n        </div>\n        </div>\n\n   \n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Location on Asset</div>\n            <canvas id='FloorPlanCanvas'\n                    style=\"height:300px;width:600px\"></canvas>\n        </div>\n\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\">\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Warning </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdWarning\" >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Critical </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdCritical\"  >\n\n            </mat-form-field>\n        </div>\n        </div>\n        \n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\">\n        <div class=\"ntInputControl\" fxFlex >\n            <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\" >\n                    <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >\n\n            </mat-form-field>\n        </div>            \n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Mech Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"mechHealth\"  >\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Operating Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"operatingHealth\"  >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Fuel-loss threshold </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdFuelLoss\" >\n\n            </mat-form-field>\n        </div>\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.placedItemType = ['Engine','Motor','Gearbox','Torque','Turbine', 'Device'];\n    vm.deviceTypes = ['NPGateway'];\n    vm.entity=undefined;\n    vm.devices=[];\n    vm.addEntityFormGroup = vm.fb.group({\n        componentName: ['', [vm.validators.required]],\n        itemType:['Engine', [vm.validators.required]],\n        deviceType:['', [vm.validators.required]],\n        device:['', [vm.validators.required]],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n        thresholdWarning:[3, [vm.validators.required]],\n        thresholdCritical:[5, [vm.validators.required]],\n        mechHealth:[25, [vm.validators.required]],\n        operatingHealth:[25, [vm.validators.required]],\n        thresholdFuelLoss:[4, [vm.validators.required]],\n        inactivityTimeout:[60000, [vm.validators.required]]\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n    vm.deviceTypeSelected=function(value){\n        // if(value==\"NPGateway\"){\n            \n        // }\n        vm.devices=[];\n        loadDevices(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n        \n    }\n    vm.onDeviceFocus = function() {\n\n        if (vm.addEntityFormGroup.controls\n            .device.value == null || vm.addEntityFormGroup.controls\n            .device.value == \"\") {\n\n            vm.addEntityFormGroup.patchValue({\n                device: \"\"\n            }, {\n                emitEvent: true\n            });\n        }\n    }\n    \n    function _filteredCustomerDevices(value) {\n        if (value != null && value.id) {\n            return vm.devices.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.devices.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    vm.filteredCustomerDevices = vm.addEntityFormGroup.controls\n        .device.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomerDevices(value))\n        );\n\n    vm.placedItemSelected=function(value){\n        if(value!==\"Device\"){\n            vm.addEntityFormGroup.controls['componentName'].enable();\n            vm.addEntityFormGroup.controls['deviceType'].disable();\n            vm.addEntityFormGroup.controls['device'].disable();\n            var controls=vm.addEntityFormGroup.controls['attributes'].controls\n\n            for (var control in controls) {\n                    controls[control].enable()\n                if(control==\"inactivityTimeout\"){\n                    controls[control].disable()\n                }\n                else{\n                    controls[control].enable()\n                }            }\n\n\n        }\n        else{\n            vm.addEntityFormGroup.controls['componentName'].disable();\n            vm.addEntityFormGroup.controls['deviceType'].enable();\n            vm.addEntityFormGroup.controls['device'].enable();\n            var controls=vm.addEntityFormGroup.controls['attributes'].controls\n            for (var control in controls) {\n                if(control==\"xPos\" || control==\"yPos\" || control==\"inactivityTimeout\"){\n                    controls[control].enable()\n                }\n                else{\n                    controls[control].disable()\n                }\n            }\n        }\n    }\n\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        if(formValues.itemType!==\"Device\"){\n            saveEngineObservable().subscribe(function(savedEntity){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedEntity.id),saveAttributes(savedEntity.id)]).subscribe(function(){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n                });\n                \n            });\n        }\n        else {\n            if(formValues.device.id==undefined){\n                saveDeviceObservable().subscribe(function(savedDevice){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedDevice.id),saveAttributes(savedDevice.id)]).subscribe(function(){\n                                    widgetContext.updateAliases();\n                                    vm.dialogRef.close(null);\n                    });\n                    \n                })\n            }       \n            else{\n                widgetContext.entityRelationService.findByTo(formValues.device.id).subscribe(function(haveRelation){\n\n                    if(haveRelation.length>=1){\n                        showErrorDialog(\"Can not add\",\"Already assigned to another ship/engine\");\n                    }\n                    else{\n                widgetContext.rxjs.forkJoin([changeOwner(formValues.device.id.id),saveRelation(entityId,formValues.device.id),saveAttributes(formValues.device.id)]).subscribe(function(){\n                        widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n                    });\n                        \n                    }\n                })\n\n                    \n                }\n        }\n         \n    };\n    function changeOwner(_deviceId){\n        return widgetContext.http.post(\"/api/owner/CUSTOMER/\"+vm.entity.customerId.id+\"/DEVICE/\"+_deviceId)\n    }\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveEngineObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            name: formValues.componentName,\n            type: formValues.itemType,\n            \"customerId\": vm.entity.customerId,\n            \"ownerId\": vm.entity.customerId\n        };\n        return assetService.saveAsset(entity);\n    }\n\n    function saveDeviceObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        var entity= {\n                name: formValues.device,\n                type: formValues.deviceType,\n                \"customerId\": vm.entity.customerId,\n                \"ownerId\": vm.entity.customerId,\n                \"additionalInfo\":formValues.deviceType==\"NPGateway\"?{\"gateway\":true,\"overwriteActivityTime\":false,\"description\":\"\"}:{}\n            };\n        \n        return widgetContext.deviceService.saveDevice(entity);\n    }\n    \n    \n    \n    function loadDevices(pageLink) {\n        deviceService.getUserDevices(pageLink,vm.addEntityFormGroup.value.deviceType)\n            .subscribe(function(result) {\n                    vm.devices = vm.devices.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadDevices(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            devices: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    \n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').controls;\n        let attributesArray = [];\n        for (let key in attributes) {\n            console.log(attributes[key])\n            if(attributes[key][\"status\"] == \"VALID\") {\n                attributesArray.push({key: key, value: attributes[key][\"value\"]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadShipData(){\n        widgetContext.rxjs.forkJoin(widgetContext.entityService.getEntity(entityId.entityType,entityId.id),attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"floorMap\"])).subscribe(function(res){\n\n            vm.entity=res[0];\n            vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n            init(res[1][0].value)\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    vm.placedItemSelected(vm.addEntityFormGroup.value[\"itemType\"])\n    loadShipData();\n\n\n    function mouseDownImage(evt) {\n\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            vm.FloorPlanCanvas.width = width;\n            vm.FloorPlanCanvas.height = height;\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        var scrollGap=oElement.parentNode.parentNode.scrollTop\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY-scrollGap];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "e778603f-880d-02d4-f14c-4f66335ba5f7"
              }, {
                "name" : "Edit Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--        <mat-form-field class=\"mat-block\" fxFlex>-->\n        <!--            <input matInput type=\"text\" -->\n        <!--                placeholder=\"Customer\" #entityInput-->\n        <!--                formControlName=\"customer\"-->\n        <!--                [matAutocomplete]=\"userAutocomplete\"-->\n        <!--                (focusin)=\"onCustomerFocus()\">-->\n        <!--            <mat-autocomplete-->\n        <!--                class=\"tb-autocomplete\"-->\n        <!--                [displayWith]=\"displayEntityFn\"-->\n        <!--                #userAutocomplete=\"matAutocomplete\">-->\n        <!--                <mat-option-->\n        <!--                    *ngFor=\"let entity of filteredCustomers | async\"-->\n        <!--                    [value]=\"entity\">-->\n        <!--                    <span-->\n        <!--                        [innerHTML]=\"entity.name\"></span>-->\n        <!--                </mat-option>-->\n        <!--            </mat-autocomplete>-->\n        <!--        </mat-form-field>-->\n        \n        <!--</div>-->\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--    <mat-form-field fxFlex>-->\n        <!--        <mat-label>Ship Name</mat-label>-->\n        <!--        <input matInput formControlName=\"shipName\">-->\n        <!--    </mat-form-field>-->\n        <!--</div>-->\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                                    <input matInput type=\"text\"\n                        #entityInput\n                        formControlName=\"customer\"\n                        [matAutocomplete]=\"userAutocomplete\"\n                        (focusin)=\"onCustomerFocus()\" readonly>\n            <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #userAutocomplete=\"matAutocomplete\">\n                        <mat-option\n                            *ngFor=\"let entity of filteredCustomers | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Ship Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                <input matInput formControlName=\"shipName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('shipName').hasError('required')\">\n                    Ship Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n\n        <div id=\"imageLoader\" fxLayout=\"column\" (click)=\"onfileSelectClicked($event)\" fxLayoutAlign=\"center center\">\n            <input class=\"npFileUploader\" matInput type=\"file\" accept=\"image/*\" color=\"primary\"\n            (change)=\"onFloorMapSelect($event)\" style=\"display:none\">\n            <img *ngIf=\"uploadIcon\" [src]=\"uploadIcon\" />\n            <span>Ship Image</span>\n        </div>\n        \n        <!--<div style=\"margin:auto;padding:0px 0 10px 0px \" fxLayout=\"row\" fxLayoutGap=\"8px\"-->\n        <!--    fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">-->\n        <!--    <img id=\"floormapPreview\" />-->\n\n        <!--</div>-->\n        \n\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "\n#floormapPreview{\n    max-height: 100px;\n    max-width: 100px;\n}\n#imageLoader{\n    height:128px;\n    width: 100%;\n    background: #EDEFF4;\n    border-radius: 10px;\n    text-align: center;\n    vertical-align: middle;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n\n}\n/*input[type=\"file\"]::file-selector-button {*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  color: white;*/\n/*}*/\n\n\n/*  fallback for older browsers supporting the -webkit prefix */\n\n/*input[type=\"file\"]::-webkit-file-upload-button {*/\n/*  color: white;*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  font-weight: 500;*/\n/*}*/",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    console.log(instance)\n    let vm = instance;\n    vm.customers = [];\n\n    vm.addEntityFormGroup = vm.fb.group({\n        customer: ['', [vm.validators.required]],\n        shipName: ['', [vm.validators.required]],\n        attributes: vm.fb.group({\n         floorMap:[null, [vm.validators.required]]\n        })\n    });\n\n\n    vm.onFloorMapSelect = function(event) {\n        var output = document.getElementById(\n            'imageLoader');\n\n\n        const file = event.target.files[0];\n        const reader = new FileReader();\n\n        reader.addEventListener(\"load\", function() {\n$(output).css('background-image', 'url(' + reader.result + ')');            \n\nvm.addEntityFormGroup.controls.attributes.controls.floorMap.patchValue(reader.result, {\n                            emitEvent: true\n                        });\n    vm.addEntityFormGroup.markAsDirty();\n\n        }, false);\n\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n    \n    };\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n\n    vm.onCustomerFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .customer.value == null) {\n            vm.addEntityFormGroup.patchValue({\n                customer: \"\"\n            }, {\n                emitEvent: true\n            });\n\n        }\n    }\n\n\n    function _filteredCustomers(value) {\n        if (value != null && value.id) {\n            return vm.customers.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.customers.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n\n    vm.onfileSelectClicked=function(event){\n        console.log(\"onfileSelectClicked\",event.target)\n        var inputElement=$(event.target).find('.npFileUploader')\n        if(inputElement.length==0){\n            inputElement=$(event.target).siblings('.npFileUploader')\n        }\n        if(inputElement.length!=0){\n            console.log(inputElement)\n            $(inputElement[0]).trigger('click');\n        }\n    }\n\n    vm.filteredCustomers = vm.addEntityFormGroup.controls\n        .customer.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomers(value))\n        );\n\n    loadCustomers(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        widgetContext.rxjs.forkJoin([saveEntityObservable(),saveAttributes(entityId)]).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            \n        })\n    };\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n    function saveEntityObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.entity[\"name\"]=formValues.shipName\n        return assetService.saveAsset(vm.entity);\n    }\n    \n    function loadCustomers(pageLink) {\n        customerService.getCustomers(pageLink)\n            .subscribe(function(result) {\n                    vm.customers = vm.customers.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadCustomers(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        console.log(vm.customers)\n                        loadData();\n                        vm.addEntityFormGroup.patchValue({\n                            customer: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"floorMap\"])]).subscribe(function(res){\n            vm.entity=res[0];\n\n            var cus=vm.customers.find(e=>e.id.id==vm.entity.customerId.id)\n            vm.addEntityFormGroup.patchValue({\n                    shipName: vm.entity.name,\n                    customer:cus\n                }, {\n                    emitEvent: true\n                });\n                // \n        var output = document.getElementById(\n            'imageLoader');\n\n            $(output).css('background-image', 'url(' + res[1][0].value+ ')');\n            vm.addEntityFormGroup.controls.attributes.controls.floorMap.patchValue(res[1][0].value, {\n                            emitEvent: true\n                        });\n\n                \n\n        })\n    }\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n    vm.uploadIcon =\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHrSURBVHgB7ZbLbcJAEIbHxgIkLk4H7iChgkAFIRWEHJCAkzsIVBDnBBIHQgehgrgEp4K4BF+QEOKRf4iNFuzgXbM38kvWrr278+1jxjtE1ybjXKPruvZisXBKpZJNiqpWq4HneRGpgLvdrmMYxhTVBl0g2HjfbrfD8Xgc5oI7nc6dZVmfXN/tdm8YHKzX6xCrjkhOTly2MfYepY3xzclkEvwJjleaQJtZM1WRYM+Gvbpozzzp+8Iz1gFlsQ22Fb+6YtsRGLNr8bnogJ7AZ7D7xM6aAmNbGvR7HnPSLEB9ts0RkgIfPpimlBP1+/1pr9d7lemLFe9timGZAqPxO88QQ2GsjarLdSogU7G/CGVFXC8CVwInUDxDvPp4Aq4XgUuDRSg8dZB853oRuBQYTtTKgmbBER1tGZtS4Eql4iPM6llQEY7iEZfDB0nIkukU3zJBXr/RaCQFZSl7tS79g2m1Wt2QnObw4i8qqINz8T8ahviH7pCcI3kkKdhMpU6HFZfL5RBFhAk0SLOwoAe2jZDzU2AOmeTe5MyBNCnOQjgNOgq10zPebx+nKzrgQuoTctIntp1L9iK+wDFgRoriM8Vzix3cpzu5yZ44UxQD3na6TD7gz1LprSjOkZbL5R0parPZRLVaLTyX0F+ffgBlshBlCmSaXQAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "a3792c98-4716-2d94-7ee4-88baaa21e2f4"
              }, {
                "name" : "Delete Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete Ship?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Ship</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <div class=\"errorText\" *ngIf=\"error!==''\">\n            {{error}}\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n.errorText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #ff0000;\n}\n\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.error=\"\";\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [entityName],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    vm.save = function() {\n        entityRelationService.findByFrom(entityId).subscribe(function(relations){\n            console.log(relations)\n            if(relations.length<=0){\n                assetService.deleteAsset(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            })\n            }\n            else{\n                vm.error=\"Cant delete Ship has devices/engines inside\"\n            }\n        })\n    };\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "9ae1ead0-411d-f7b9-ae36-da70424344e0"
              }, {
                "name" : "Add In Equipment",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device Type</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"deviceType\" (selectionChange)=\"deviceTypeSelected($event.value)\">\n                <mat-option *ngFor=\"let type of deviceTypes\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n        </div>\n\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field class=\"mat-block ntFormField\" fxFlex>\n                    <input matInput type=\"text\" #entityInput\n                        formControlName=\"device\"\n                        [matAutocomplete]=\"deviceAutocomplete\"\n                        (focusin)=\"onDeviceFocus()\">\n                    <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #deviceAutocomplete=\"matAutocomplete\"\n                        >\n                        <mat-option \n                            *ngFor=\"let entity of filteredCustomerDevices | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n        \n        </div>\n        <div class=\"ntInputControl\" fxFlex formGroupName=\"attributes\">\n            <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\"> \n                    <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >\n\n            </mat-form-field>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.deviceTypes = [];\n    vm.entity=undefined;\n    vm.devices=[];\n    vm.addEntityFormGroup = vm.fb.group({\n        deviceType:['', [vm.validators.required]],\n        device:['', [vm.validators.required]],\n        attributes: vm.fb.group({\n        inactivityTimeout:[0, [vm.validators.pattern(/^-?[0-9]+$/)]]\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n    vm.deviceTypeSelected=function(value){\n        vm.devices=[];\n        vm.addEntityFormGroup.controls[\"attributes\"].patchValue({\n                inactivityTimeout: value==\"Oil Condition Sensor\" ?60000:300000\n                }, {\n            emitEvent: true\n            });\n\n        loadDevices(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n        \n    }\n    vm.onDeviceFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .device.value == null || vm.addEntityFormGroup.controls\n            .device.value == \"\") {\n            vm.addEntityFormGroup.patchValue({\n                device: \"\"\n            }, {\n                emitEvent: true\n            });\n        }\n    }\n    \n    function _filteredCustomerDevices(value) {\n        if (value != null && value.id) {\n            return vm.devices.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.devices.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    vm.filteredCustomerDevices = vm.addEntityFormGroup.controls\n        .device.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomerDevices(value))\n        );\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        if(formValues.device.id==undefined){\n                saveDeviceObservable().subscribe(function(savedDevice){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedDevice.id),saveAttributes(savedDevice.id)]).subscribe(function(){\n                        widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n                    });\n                    \n                })\n            }       \n        else{\n                widgetContext.entityRelationService.findByTo(formValues.device.id).subscribe(function(haveRelation){\n                    console.log(haveRelation)\n                    if(haveRelation.length>=1){\n                        showErrorDialog(\"Can not add\",\"Already assigned to another ship/engine\");\n                    }\n                    else{\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,formValues.device.id),saveAttributes(entityId)]).subscribe(function(){\n                        widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n                    });\n                        \n                    }\n                })\n\n                    \n                }\n\n    };\n        function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n\n    function saveDeviceObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            name: formValues.device,\n            type: formValues.deviceType,\n            \"customerId\": vm.entity.customerId,\n            \"ownerId\": vm.entity.customerId,\n\n        };\n        return widgetContext.deviceService.saveDevice(entity);\n    }\n    \n    \n    \n    function loadDevices(pageLink) {\n        deviceService.getUserDevices(pageLink,vm.addEntityFormGroup.value.deviceType)\n            .subscribe(function(result) {\n                    vm.devices = vm.devices.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadDevices(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            devices: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n        function loadEngineData(){\n        widgetContext.rxjs.forkJoin(widgetContext.entityService.getEntity(entityId.entityType,entityId.id),entityRelationService.findByTo(entityId)).subscribe(function(res){\n            vm.entity=res[0];\n            if(vm.entity.type==\"Engine\"){\n                vm.deviceTypes.push(\"vBox-Core Engine\")\n            }\n            else if(vm.entity.type==\"Motor\"){\n                vm.deviceTypes.push(\"vBox-Core Motor\")\n            }\n            else if(vm.entity.type==\"Gearbox\"){\n                vm.deviceTypes.push(\"vBox-Core Gearbox\")\n            }\n            else if(vm.entity.type==\"Torque\"){\n                vm.deviceTypes.push(\"vBox-Core Torque\")\n            }            \n            else if(vm.entity.type==\"Turbine\"){\n                vm.deviceTypes.push(\"vBox-Core Turbine\")\n            }\n            vm.deviceTypes.push(\"Oil Condition Sensor\")\n            console.log(\"vm.entity: \",vm.entity)\n        })\n    }\n    loadEngineData();\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "d55b9e3e-7ccc-6274-17ca-b84b8313a4f7"
              }, {
                "name" : "Edit Equipment",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Inside Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Engine Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"engineName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('engineName').hasError('required')\">\n                    Engine Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Location on Ship</div>\n            <canvas id='FloorPlanCanvas'\n                    style=\"height:300px;width:600px\"></canvas>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.entity=undefined;\n    vm.addEntityFormGroup = vm.fb.group({\n        engineName: ['', [vm.validators.required]],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n            widgetContext.rxjs.forkJoin([saveEngineObservable(),saveAttributes(entityId)])\n            .subscribe(function(savedEntity){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n            });\n\n    };\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveEngineObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.entity[\"name\"]=formValues.engineName;\n        return assetService.saveAsset(vm.entity);\n    }\n\n\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"xPos\",\"yPos\"]),\n            widgetContext.entityRelationService.findByTo(entityId)]).subscribe(function(res){\n            vm.entity=res[0];\n            vm.addEntityFormGroup.patchValue({\n                    engineName: vm.entity.name,\n                }, {\n                    emitEvent: true\n                });\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: res[1][0].value,\n                    yPos:res[1][1].value,\n                }, {\n                    emitEvent: false\n                });\n            attributeService.getEntityAttributes(res[2][0].from,\"SERVER_SCOPE\",[\"floorMap\"]).subscribe(function(floorMap){\n                console.log(floorMap,res)\n                vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n                init(floorMap[0].value)\n\n            })\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    loadData();\n\n\n    function mouseDownImage(evt) {\n        console.log(\"mouseDownImage\")\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            vm.FloorPlanCanvas.width = width;\n            vm.FloorPlanCanvas.height = height;\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        vm.addEntityFormGroup.markAsDirty();\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c0cbce26-1771-a656-5415-b0573119519e"
              }, {
                "name" : "Delete Equipment",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete Engine?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Engine</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <div class=\"errorText\" *ngIf=\"error!==''\">\n            {{error}}\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n.errorText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #ff0000;\n}\n\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.error=\"\";\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [entityName],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    vm.save = function() {\n        entityRelationService.findByFrom(entityId).subscribe(function(relations){\n            console.log(relations)\n            if(relations.length<=0){\n                assetService.deleteAsset(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            })\n            }\n            else{\n                vm.error=\"Cant delete Engine has devices inside\"\n            }\n        })\n    };\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "8766bc65-1f15-6c2a-a68d-431f883162fb"
              }, {
                "name" : "Get Credentials",
                "icon" : "security",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Device {{entityName}}</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"ntInputControl\" fxLayout=\"row\" fxLayoutAlign=\"space-evenly center\" style=\"min-width:300px\">\n            <div class=\"ntInputFieldLabel\" >Credentials</div>\n            <div class=\"ntInputFieldLabel\">{{cred}}</div>\n        </div>\n\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.entityName=entityName\n    vm.cred=\"\";\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    deviceService.getDeviceCredentials(entityId.id).subscribe(function(data){\n        vm.cred=data.credentialsId\n    })\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "7056ceac-9e5e-a9a9-2cd2-65d85774d840"
              }, {
                "name" : "Edit Device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Inside Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"engineName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('engineName').hasError('required')\">\n                    Device Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\" *ngIf=\"isInsideEngine==false\" >\n            <div class=\"ntInputFieldLabel\">Location on Ship</div>\n            <canvas id='FloorPlanCanvas'\n                    style=\"height:300px;width:600px\"></canvas>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.entity=undefined;\n    vm.isInsideEngine=true;\n    vm.addEntityFormGroup = vm.fb.group({\n        engineName: ['', [vm.validators.required]],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        var req=[saveEntityObservable()]\n        if(vm.isInsideEngine==false){\n            req.push(saveAttributes(entityId))\n        }\n            widgetContext.rxjs.forkJoin(req)\n            .subscribe(function(savedEntity){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n            });\n\n    };\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveEntityObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.entity[\"name\"]=formValues.engineName;\n        return deviceService.saveDevice(vm.entity);\n    }\n\n\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n            widgetContext.entityRelationService.findByTo(entityId)]).subscribe(function(res){\n                console.log(res)\n            vm.entity=res[0];\n            vm.addEntityFormGroup.patchValue({\n                    engineName: vm.entity.name,}, {\n                    emitEvent: true\n                });\n\n            widgetContext.entityService.getEntity(res[1][0].from.entityType,res[1][0].from.id).subscribe(function(parentEntity){\n                console.log(\"parentEntity: \",parentEntity)\n                if(parentEntity.type==\"ship\"){\n                    vm.isInsideEngine=false\n\n                widgetContext.rxjs.forkJoin([attributeService.getEntityAttributes(parentEntity.id, 'SERVER_SCOPE',[\"floorMap\"]),attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"xPos\",\"yPos\"])])\n                .subscribe(function(mapData){\n                    console.log(mapData)\n                    vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: mapData[1][0].value,\n                    yPos:mapData[1][1].value,\n                }, {\n                    emitEvent: false\n                });\n                                vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n                init(mapData[0][0].value)\n                })\n\n                }\n                else{\n                                var controls=vm.addEntityFormGroup.controls['attributes'].controls\n            for (var control in controls) {\n                controls[control].disable()\n            }\n\n                }\n\n\n            })\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    loadData();\n\n\n    function mouseDownImage(evt) {\n        console.log(\"mouseDownImage\")\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            vm.FloorPlanCanvas.width = width;\n            vm.FloorPlanCanvas.height = height;\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        vm.addEntityFormGroup.markAsDirty();\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "1ad24f60-c37c-6545-ba49-7f360f117f4d"
              }, {
                "name" : "Delete Device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : true,
                "showWidgetActionFunction" : "return false;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete device?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <mat-checkbox class=\"example-margin\"\n                      (change)=\"deleteFromSystem($event.checked)\">\n          Remove Device from Database too?\n        </mat-checkbox>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [entityName],\n    });\n    vm.shouldDeleteFromSystem=false;\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    vm.save = function() {\n        console.log(vm.shouldDeleteFromSystem)\n        if(vm.shouldDeleteFromSystem){\n            deviceService.deleteDevice(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            })\n        }\n        else{\n            widgetContext.entityRelationService.findByTo(entityId).subscribe(function(relations){\n                widgetContext.rxjs.forkJoin([changeOwner(entityId.id),widgetContext.entityRelationService.deleteRelation(relations[0].from,\"Contains\",entityId)])\n                .subscribe(function(){\n                                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n    \n                })\n            })\n            \n        }\n\n    };\n\n    function changeOwner(_deviceId){\n        return widgetContext.http.post(\"/api/owner/TENANT/\"+widgetContext.currentUser.tenantId+\"/DEVICE/\"+_deviceId)\n    }\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "7dfcb47a-87e8-9003-2bc9-2c4eafb1d44e"
              } ],
              "headerButton" : [ ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "2a99c63b-9b1e-4d41-06be-8fe86e7200cb"
        },
        "a24a97f9-9296-0463-7e2e-5e4d6168283c" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div id=\"cardContainer\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <div class=\"section_title\">Asset Details:</div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"width:100%\"> \r\n        <div fxLayout=\"row\" fxLayoutAlign=\"start\">\r\n            <div style=\"height:70px;width:300px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_ships_filter_customer\"></tb-dashboard-state></div>\r\n        </div>\r\n        <div id=\"newCustomerButton\" class=\"button\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n            <span class=\"buttonIcon\"></span>\r\n            <span class=\"text\">Add Asset</span>\r\n        </div>\r\n    </div>\r\n    <!--<div fxLayout=\"column\" fxLayoutAlign=\"start\" style=\"width:100%;height:140px;border:1px solid blue\"> -->\r\n    <!--    <tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_ships_filter_customer\"></tb-dashboard-state>-->\r\n    <!--</div>-->\r\n    <div id=\"tableContainer\" fxLayout=\"column\" fxFill>\r\n        <div class=\"stateContainer\" flex=\"1\" fxLayout=\"row\" style=\"height:100%\">\r\n            <tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_ships_table_updated\"></tb-dashboard-state>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
              "markdownCss" : ".button{\n    padding: 16px 32px 16px 32px;\n    background: #1B4383;\n    border-radius: 6px;\n    max-height: 56px;\n    cursor: pointer;\n}\n.button > .buttonIcon{\n    height: 20px;\n    width: 20px;\n    background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBrZXhDcIgEIWfjQMwQkfQicpIbtA6gW6gI3QDR6AbnHeWJpiG9DW9L3l/yONxcBCAjIhE1UuVhCflORElOtDLcfqyMi9io5kd/OhOFgs/poY0vlVPwhfYCq+2uuqzZWQrTKSPDuSptP+hahcV3mXsIvOFXlGrMGTVmLJWsE1pzQvHptDsCQyM6QyOGxtoZ5hYM8Hv6Y3wY7TAO/yYs3Tbgxxn+IsWpy/gC4ECt99zp3W1AAAAAElFTkSuQmCC\");\n}\n.button > .text{\n    font-family: 'Poppins';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    text-transform: capitalize;\n    color: #FFFFFF;\n    \n}\n\n#tableContainer{\n    height: 100vh;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border: 1px solid #EDEFF4;\n    border-radius: 16px;\n}\n#cardContainer{\n    /*margin: 3vh 3vw 3vh 3vw;*/\n    height: 100%;\n}\n\n\n.section_title{\n        font-family: 'Inter';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 20px;\n    /*line-height: 19px;*/\n    text-transform: capitalize;\n    color: #000000;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "newCustomerButton",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Asset</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--        <mat-form-field class=\"mat-block\" fxFlex>-->\n        <!--            <input matInput type=\"text\" -->\n        <!--                placeholder=\"Customer\" #entityInput-->\n        <!--                formControlName=\"customer\"-->\n        <!--                [matAutocomplete]=\"userAutocomplete\"-->\n        <!--                (focusin)=\"onCustomerFocus()\">-->\n        <!--            <mat-autocomplete-->\n        <!--                class=\"tb-autocomplete\"-->\n        <!--                [displayWith]=\"displayEntityFn\"-->\n        <!--                #userAutocomplete=\"matAutocomplete\">-->\n        <!--                <mat-option-->\n        <!--                    *ngFor=\"let entity of filteredCustomers | async\"-->\n        <!--                    [value]=\"entity\">-->\n        <!--                    <span-->\n        <!--                        [innerHTML]=\"entity.name\"></span>-->\n        <!--                </mat-option>-->\n        <!--            </mat-autocomplete>-->\n        <!--        </mat-form-field>-->\n        \n        <!--</div>-->\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--    <mat-form-field fxFlex>-->\n        <!--        <mat-label>Ship Name</mat-label>-->\n        <!--        <input matInput formControlName=\"shipName\">-->\n        <!--    </mat-form-field>-->\n        <!--</div>-->\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                                    <input matInput type=\"text\"\n                        #entityInput\n                        formControlName=\"customer\"\n                        [matAutocomplete]=\"userAutocomplete\"\n                        (focusin)=\"onCustomerFocus()\">\n            <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #userAutocomplete=\"matAutocomplete\">\n                        <mat-option\n                            *ngFor=\"let entity of filteredCustomers | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n\n            </mat-form-field>\n        </div>\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" >\n            <div class=\"ntInputControl\">\n                <div class=\"ntInputFieldLabel\">Asset Name</div>\n                <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <!--<mat-label>Customer Title</mat-label>-->\n                    <input matInput formControlName=\"shipName\" required>\n                    <mat-error *ngIf=\"addEntityFormGroup.get('shipName').hasError('required')\">\n                        Asset Name is required.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"ntInputControl\">\n                <div class=\"ntInputFieldLabel\">Asset Label</div>\n                <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input matInput formControlName=\"shipLabel\">\n                </mat-form-field>\n            </div>\n        </div>\n\n\n\n        <div id=\"imageLoader\" fxLayout=\"column\" (click)=\"onfileSelectClicked($event)\" fxLayoutAlign=\"center center\">\n            <input class=\"npFileUploader\" matInput type=\"file\" accept=\"image/*\" color=\"primary\"\n            (change)=\"onFloorMapSelect($event)\" style=\"display:none\">\n            <img *ngIf=\"uploadIcon\" [src]=\"uploadIcon\" />\n            <span>Asset Image</span>\n        </div>\n        \n        <!--<div style=\"margin:auto;padding:0px 0 10px 0px \" fxLayout=\"row\" fxLayoutGap=\"8px\"-->\n        <!--    fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">-->\n        <!--    <img id=\"floormapPreview\" />-->\n\n        <!--</div>-->\n        \n\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "\n#floormapPreview{\n    max-height: 100px;\n    max-width: 100px;\n}\n#imageLoader{\n    height:128px;\n    width: 100%;\n    background: #EDEFF4;\n    border-radius: 10px;\n    text-align: center;\n    vertical-align: middle;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n\n}\n/*input[type=\"file\"]::file-selector-button {*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  color: white;*/\n/*}*/\n\n\n/*  fallback for older browsers supporting the -webkit prefix */\n\n/*input[type=\"file\"]::-webkit-file-upload-button {*/\n/*  color: white;*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  font-weight: 500;*/\n/*}*/",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    console.log(instance)\n    let vm = instance;\n    vm.customers = [];\n\n    vm.addEntityFormGroup = vm.fb.group({\n        customer: ['', [vm.validators.required]],\n        shipName: ['', [vm.validators.required]],\n        shipLabel: [''],\n        attributes: vm.fb.group({\n         floorMap:[null, [vm.validators.required]]\n        })\n    });\n\n\n    vm.onFloorMapSelect = function(event) {\n        var output = document.getElementById(\n            'imageLoader');\n\n\n        const file = event.target.files[0];\n        const reader = new FileReader();\n\n        reader.addEventListener(\"load\", function() {\n            vm.selectedFloorMap = reader.result;\n            output.src = reader.result;\n$(output).css('background-image', 'url(' + reader.result + ')');            \n\nvm.addEntityFormGroup.controls.attributes.controls.floorMap.patchValue(reader.result, {\n                            emitEvent: true\n                        });\n\n        }, false);\n\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n\n    };\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n\n    vm.onCustomerFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .customer.value == null) {\n            vm.addEntityFormGroup.patchValue({\n                customer: \"\"\n            }, {\n                emitEvent: true\n            });\n\n        }\n    }\n\n\n    function _filteredCustomers(value) {\n        if (value != null && value.id) {\n            return vm.customers.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.customers.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n\n    vm.onfileSelectClicked=function(event){\n        console.log(\"onfileSelectClicked\",event.target)\n        var inputElement=$(event.target).find('.npFileUploader')\n        if(inputElement.length==0){\n            inputElement=$(event.target).siblings('.npFileUploader')\n        }\n        if(inputElement.length!=0){\n            console.log(inputElement)\n            $(inputElement[0]).trigger('click');\n        }\n    }\n\n    vm.filteredCustomers = vm.addEntityFormGroup.controls\n        .customer.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomers(value))\n        );\n\n    loadCustomers(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        saveEntityObservable().subscribe(function(entity){\n            widgetContext.rxjs.forkJoin(entityRelationService.saveRelation({\n                \"from\":  formValues.customer.id,\n                \"to\": entity.id,\n                \"type\": \"Contains\",\n                \"typeGroup\": \"COMMON\",\n                \"additionalInfo\": {}\n            }),saveAttributes(entity.id)).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            });\n        });\n    };\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n    function saveEntityObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            name:formValues.customer.id.id+\"_\"+formValues.shipName,\n            label:formValues.shipLabel,\n            type: \"ship\",\n            \"customerId\": formValues.customer.id,\n            \"ownerId\": formValues.customer.id\n        };\n        return assetService.saveAsset(entity);\n    }\n    \n    function loadCustomers(pageLink) {\n        customerService.getCustomers(pageLink)\n            .subscribe(function(result) {\n                    vm.customers = vm.customers.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadCustomers(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            customer: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n    vm.uploadIcon =\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHrSURBVHgB7ZbLbcJAEIbHxgIkLk4H7iChgkAFIRWEHJCAkzsIVBDnBBIHQgehgrgEp4K4BF+QEOKRf4iNFuzgXbM38kvWrr278+1jxjtE1ybjXKPruvZisXBKpZJNiqpWq4HneRGpgLvdrmMYxhTVBl0g2HjfbrfD8Xgc5oI7nc6dZVmfXN/tdm8YHKzX6xCrjkhOTly2MfYepY3xzclkEvwJjleaQJtZM1WRYM+Gvbpozzzp+8Iz1gFlsQ22Fb+6YtsRGLNr8bnogJ7AZ7D7xM6aAmNbGvR7HnPSLEB9ts0RkgIfPpimlBP1+/1pr9d7lemLFe9timGZAqPxO88QQ2GsjarLdSogU7G/CGVFXC8CVwInUDxDvPp4Aq4XgUuDRSg8dZB853oRuBQYTtTKgmbBER1tGZtS4Eql4iPM6llQEY7iEZfDB0nIkukU3zJBXr/RaCQFZSl7tS79g2m1Wt2QnObw4i8qqINz8T8ahviH7pCcI3kkKdhMpU6HFZfL5RBFhAk0SLOwoAe2jZDzU2AOmeTe5MyBNCnOQjgNOgq10zPebx+nKzrgQuoTctIntp1L9iK+wDFgRoriM8Vzix3cpzu5yZ44UxQD3na6TD7gz1LprSjOkZbL5R0parPZRLVaLTyX0F+ffgBlshBlCmSaXQAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "dc936ee3-02f4-300e-1cb7-f625a8c5d5a6"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "a24a97f9-9296-0463-7e2e-5e4d6168283c"
        },
        "d540330f-c21b-719c-6161-4ee293ef88c9" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div id=\"cardContainer\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n    <div class=\"section_title\">Device Details</div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between end\" style=\"width:100%\"> \r\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"start\" fxLayoutGap=\"20px\">\r\n            <div style=\"height:85px;width:250px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_devices_filter_customer\"></tb-dashboard-state></div>\r\n            <div style=\"height:85px;width:250px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_devices_filter_ship\"></tb-dashboard-state></div>\r\n            <div style=\"height:85px;width:250px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_devices_filter_device_status\"></tb-dashboard-state></div>\r\n        </div>\r\n        <!--<div id=\"newDeviceButton\" class=\"button\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">-->\r\n        <!--    <span class=\"buttonIcon\"></span>-->\r\n        <!--    <span class=\"text\">Add Device</span>-->\r\n        <!--</div>-->\r\n    </div>\r\n    <!--<div fxLayout=\"row\" fxLayoutAlign=\"space-between\" style=\"width:100%\"> -->\r\n    <!--    <div id=\"newCustomerButton\" class=\"button\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">-->\r\n    <!--        <span class=\"buttonIcon\"></span>-->\r\n    <!--        <span class=\"text\">Add Ship</span>-->\r\n    <!--    </div>-->\r\n    <!--</div>-->\r\n    <div id=\"tableContainer\" fxLayout=\"column\" fxFill>\r\n        <div class=\"stateContainer\" flex=\"1\" fxLayout=\"row\" style=\"height:100%\">\r\n            <tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_devices_table\"></tb-dashboard-state>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
              "markdownCss" : ".button{\n    padding: 16px 32px 16px 32px;\n    background: #1B4383;\n    border-radius: 6px;\n    max-height: 56px;\n}\n.button > .buttonIcon{\n    height: 20px;\n    width: 20px;\n    background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBrZXhDcIgEIWfjQMwQkfQicpIbtA6gW6gI3QDR6AbnHeWJpiG9DW9L3l/yONxcBCAjIhE1UuVhCflORElOtDLcfqyMi9io5kd/OhOFgs/poY0vlVPwhfYCq+2uuqzZWQrTKSPDuSptP+hahcV3mXsIvOFXlGrMGTVmLJWsE1pzQvHptDsCQyM6QyOGxtoZ5hYM8Hv6Y3wY7TAO/yYs3Tbgxxn+IsWpy/gC4ECt99zp3W1AAAAAElFTkSuQmCC\");\n}\n.button > .text{\n    font-family: 'Poppins';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    text-transform: capitalize;\n    color: #FFFFFF;\n    \n}\n\n#tableContainer{\n    height: 100vh;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border: 1px solid #EDEFF4;\n    border-radius: 16px;\n}\n#cardContainer{\n    /*margin: 3vh 3vw 3vh 3vw;*/\n    height: 100%;\n}\n\n\n.section_title{\n        font-family: 'Inter';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 20px;\n    /*line-height: 19px;*/\n    text-transform: capitalize;\n    color: #000000;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "newDeviceButton",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Inside Ship</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device Type</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"deviceType\" (selectionChange)=\"deviceTypeSelected($event.value)\">\n                <mat-option *ngFor=\"let type of deviceTypes\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n        </div>\n\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field class=\"mat-block ntFormField\" fxFlex>\n                    <input matInput type=\"text\" #entityInput\n                        formControlName=\"device\"\n                        [matAutocomplete]=\"deviceAutocomplete\"\n                        (focusin)=\"onDeviceFocus()\">\n                    <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #deviceAutocomplete=\"matAutocomplete\"\n                        >\n                        <mat-option \n                            *ngFor=\"let entity of filteredCustomerDevices | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n        \n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.deviceTypes = ['NPGateway','Motor','GearBox','Torque','Turbine'];\n    vm.entity=undefined;\n    vm.devices=[];\n    vm.addEntityFormGroup = vm.fb.group({\n        deviceType:['', [vm.validators.required]],\n        device:['', [vm.validators.required]],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n    vm.deviceTypeSelected=function(value){\n        vm.devices=[];\n        loadDevices(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n        \n    }\n    vm.onDeviceFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .device.value == null || vm.addEntityFormGroup.controls\n            .device.value == \"\") {\n            vm.addEntityFormGroup.patchValue({\n                device: \"\"\n            }, {\n                emitEvent: true\n            });\n        }\n    }\n    \n    function _filteredCustomerDevices(value) {\n        if (value != null && value.id) {\n            return vm.devices.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.devices.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    vm.filteredCustomerDevices = vm.addEntityFormGroup.controls\n        .device.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomerDevices(value))\n        );\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        if(formValues.device.id==undefined){\n            saveDeviceObservable().subscribe(function(savedDevice){\n                widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n\n            })\n        }\n    };\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n\n    function saveDeviceObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            name: formValues.device,\n            type: formValues.deviceType,\n        };\n        return widgetContext.deviceService.saveDevice(entity);\n    }\n    \n    \n    \n    function loadDevices(pageLink) {\n        deviceService.getTenantDevices(widgetContext.currentUser.tenantId,pageLink,vm.addEntityFormGroup.value.deviceType)\n            .subscribe(function(result) {\n                    vm.devices = vm.devices.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadDevices(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            devices: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "0de67361-e14b-3a5a-b2f9-eac203a4b9a5"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "d540330f-c21b-719c-6161-4ee293ef88c9"
        },
        "af80da55-301a-930f-5deb-d29ef1c488b4" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nptable",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8.5,
          "sizeY" : 5.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "2f6ee1b0-1cf6-0dd8-b380-d6dfd91aa548",
              "filterId" : "64cfc8d6-caae-74e8-de85-59b3aa63269e",
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellContentFunction" : "const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\r\nvar underScoreSperated=value.split(\"_\")\r\nif(underScoreSperated.length>1){\r\n    if(regexExp.test(underScoreSperated[0])==true){\r\n        return value.replace(underScoreSperated[0]+\"_\",\"\")\r\n    }\r\n}\r\nreturn value\r\n"
                },
                "_hash" : 0.5363208916719666,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "active",
                "type" : "attribute",
                "label" : "Status",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.9948501773971863,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value==\"true\"){\n    return \"Active\"\n}\nelse {\n    return \"Inactive\"\n}\nreturn value;"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "enableSearch" : false,
              "enableSelectColumnDisplay" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "entityName",
              "useRowStyleFunction" : false,
              "entityNameColumnTitle" : "Name",
              "actionIcons" : [ {
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII=",
                "name" : "Edit"
              }, {
                "name" : "Delete",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              } ]
            },
            "title" : "New NPTable",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : ".mat-sort-header-content{\nfont-family: 'Inter';\nfont-style: normal;\nfont-weight: 500;\nfont-size: 16px;\nline-height: 19px;\ntext-transform: capitalize;\ncolor: #000000;\n}\n\n.mat-cell, .mat-header-cell {\n  /*border: none !important;*/\n    border-bottom: 1px solid #EDEFF4 !important;\n    \n}",
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "actionCellButton" : [ {
                "name" : "Edit",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Edit Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"deviceName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('deviceName').hasError('required')\">\n                    Device Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"deviceLabel\" >\n                </mat-form-field>\n        </div>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.entity=undefined;\n    vm.addEntityFormGroup = vm.fb.group({\n        deviceName: [entityName, [vm.validators.required]],\n        deviceLabel: [null],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n            widgetContext.rxjs.forkJoin([saveEngineObservable()])\n            .subscribe(function(savedEntity){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n            });\n\n    };\n    function saveEngineObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.entity[\"name\"]=getCustomerId(vm.entity.name)+formValues.deviceName;\n        vm.entity[\"label\"]=formValues.deviceLabel;\n        return deviceService.saveDevice(vm.entity);\n    }\n    function getCustomerId(value){\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\n        var underScoreSperated=value.split(\"_\")\n        if(underScoreSperated.length>1){\n            if(regexExp.test(underScoreSperated[0])==true){\n                return underScoreSperated[0]+\"_\"\n            }\n        }\n        return value\n        \n    }\n\n    function npNameToNormal(value){\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\n        var underScoreSperated=value.split(\"_\")\n        if(underScoreSperated.length>1){\n            if(regexExp.test(underScoreSperated[0])==true){\n                return value.replace(underScoreSperated[0]+\"_\",\"\")\n            }\n        }\n        return value\n\n    }\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id)]).subscribe(function(res){\n            vm.entity=res[0];\n            vm.addEntityFormGroup.patchValue({\n                    deviceName:npNameToNormal(vm.entity.name),\n                    deviceLabel:vm.entity.label,\n                }, {\n                    emitEvent: true\n                });\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    loadData();\n\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "86d80cd1-10aa-b542-d804-bc6f9667cc96"
              }, {
                "name" : "Delete",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : false,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete device?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [entityName],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    vm.save = function() {\n        console.log(vm.shouldDeleteFromSystem)\n        deviceService.deleteDevice(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            })\n\n\n    };\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "a85262b6-719b-2cfb-ddb2-4d757d9134e8"
              } ]
            },
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "af80da55-301a-930f-5deb-d29ef1c488b4"
        },
        "f60c1ee6-70b0-8305-c52a-fc438b288981" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nt_dropdown",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : { },
            "title" : "Customer",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "OnOptionSelected" : [ {
                "name" : "onOptionSelected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "console.log(\"selected customer: \",additionalParams)\n\nconsole.log(widgetContext)\nvar selectedAssetAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_ship_ships\")\n\nif(additionalParams==\"All\"){\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetNameFilter\"]=\"\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetType\"]=\"ship\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetType\"\n}\nelse{\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetTypes\"]=[\"ship\"]\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"defaultStateEntity\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"direction\"]=\"FROM\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"fetchLastLevelOnly\"]=false\n\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"maxLevel\"]=1\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"relationType\"]=\"Contains\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootEntity\"]=additionalParams.entity.id\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootStateEntity\"]=false\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"stateEntityParamName\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetSearchQuery\"\n\n    \n}\nvar entityAliasesToUpdate = widgetContext.aliasController\n    .entityAliases;\nvar selectedAssetAlias = widgetContext.aliasController\n    .entityAliases[selectedAssetAliasId];\nentityAliasesToUpdate[selectedAssetAliasId] =\n    selectedAssetAlias\n    \nwidgetContext.aliasController.updateEntityAliases(\n    entityAliasesToUpdate);\nwidgetContext.aliasController.updateAliases([\n    selectedAssetAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "04e51eb5-f661-7cdd-36e9-59d91f5b176e"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "f60c1ee6-70b0-8305-c52a-fc438b288981"
        },
        "d94cea19-5095-e30a-59fb-1d350fc2292f" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nt_dropdown",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : { },
            "title" : "Customer",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "OnOptionSelected" : [ {
                "name" : "onItemSelected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var selectedAssetAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_devices_filter_ship\")\n    \nvar DevicesAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"Devices\")\n\nconsole.log(\"Important: \",widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"])\n\nif(additionalParams==\"All\"){\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetNameFilter\"]=\"\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetType\"]=\"ship\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetType\"\n    \n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"entityType\"]=\"DEVICE\"\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"type\"]=\"entityType\"\n    \n}\nelse{\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetTypes\"]=[\"ship\"]\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"defaultStateEntity\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"direction\"]=\"FROM\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"fetchLastLevelOnly\"]=false\n\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"maxLevel\"]=1\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"relationType\"]=\"Contains\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootEntity\"]=additionalParams.entity.id\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootStateEntity\"]=false\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"stateEntityParamName\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetSearchQuery\"\n\n\n\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"deviceTypes\"]=[\"vBox-Core Engine\",\"Oil Condition Sensor\",\"vBox-Core Motor\",\"GearBox\",\"Motor\",\"Torque\",\"NPGateway\"]\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"defaultStateEntity\"]=null\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"direction\"]=\"FROM\"\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"fetchLastLevelOnly\"]=false\n\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"maxLevel\"]=3\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"relationType\"]=\"Contains\"\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"rootEntity\"]=additionalParams.entity.id\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"rootStateEntity\"]=false\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"stateEntityParamName\"]=null\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"type\"]=\"deviceSearchQuery\"\n\n    \n}\nvar entityAliasesToUpdate = widgetContext.aliasController\n    .entityAliases;\n\nvar selectedAssetAlias = widgetContext.aliasController\n    .entityAliases[selectedAssetAliasId];\nentityAliasesToUpdate[selectedAssetAliasId] =\n    selectedAssetAlias\n\nvar deviceAlias = widgetContext.aliasController\n    .entityAliases[DevicesAliasId];\nentityAliasesToUpdate[DevicesAliasId] =\n    deviceAlias\n    \n\nwidgetContext.aliasController.updateEntityAliases(\n    entityAliasesToUpdate);\nwidgetContext.aliasController.updateAliases([\n    selectedAssetAliasId,DevicesAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "eb936634-06ed-19b2-86c0-9bf50a924a82"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "d94cea19-5095-e30a-59fb-1d350fc2292f"
        },
        "37e34141-e999-5bde-e483-ca94a2199e57" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nt_dropdown",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "49d88cbd-ba4e-2465-3e38-e03641c609cd",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : { },
            "title" : "Asset",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "No ships available",
            "showLegend" : false,
            "actions" : {
              "OnOptionSelected" : [ {
                "name" : "onItemSelected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var selectedAssetAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_devices_filter_ship\")\n    \nvar DevicesAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"Devices\")\n\n// if(additionalParams==\"All\"){\n//     widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n//     widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetNameFilter\"]=\"\"\n//     widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetType\"]=\"ship\"\n//     widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n//     widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetType\"\n    \n//     widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"]={}\n//     widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"entityType\"]=\"DEVICE\"\n//     widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"resolveMultiple\"]=true\n//     widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"type\"]=\"entityType\"\n    \n// }\n// else{\n\n\n\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"deviceTypes\"]=[\"vBox-Core Motor\",\"GearBox\",\"Motor\",\"Torque\",\"NPGateway\",\"Oil Condition Sensor\",\"vBox-Core Engine\"]\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"defaultStateEntity\"]=null\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"direction\"]=\"FROM\"\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"fetchLastLevelOnly\"]=false\n\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"maxLevel\"]=3\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"relationType\"]=\"Contains\"\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"rootEntity\"]=additionalParams==\"All\"?widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"rootEntity\"]:additionalParams.entity.id\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"rootStateEntity\"]=false\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"stateEntityParamName\"]=null\n    widgetContext.aliasController.entityAliases[DevicesAliasId][\"filter\"][\"type\"]=\"deviceSearchQuery\"\n\n    \n// }\nvar entityAliasesToUpdate = widgetContext.aliasController\n    .entityAliases;\n\nvar deviceAlias = widgetContext.aliasController\n    .entityAliases[DevicesAliasId];\nentityAliasesToUpdate[DevicesAliasId] =\n    deviceAlias\n    \n\nwidgetContext.aliasController.updateEntityAliases(\n    entityAliasesToUpdate);\nwidgetContext.aliasController.updateAliases([\nDevicesAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "eb936634-06ed-19b2-86c0-9bf50a924a82"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "37e34141-e999-5bde-e483-ca94a2199e57"
        },
        "91545a6a-299a-e499-a0c7-40da13b83420" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "static_drop_down",
          "type" : "static",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "options" : [ {
                "name" : "All"
              }, {
                "name" : "Active"
              }, {
                "name" : "Inactive"
              } ],
              "onInitValue" : "var filters=widgetContext.aliasController.getFilters()\nvar filterId=undefined\nfor (const property in filters) {\n    if(filters[property][\"filter\"]==\"deviceStatus\"){\n        filterId=property\n        break;\n    }\n}\nvar activePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":true,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\nvar inActivePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":false,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\n\nif(filterId!==undefined){\n    console.log(JSON.stringify(filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"]))\n    var test=filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]\n    console.log(JSON.stringify(test))\n    if(test.length<=0){\n        return \"All\"        \n    }\n    else if (test[0][\"keyFilterPredicate\"][\"value\"][\"defaultValue\"]==true){\n        return \"Active\"\n    }\n    else{\n        return \"Inactive\"\n        \n    }\n\n}\n\n"
            },
            "title" : "Status",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "onItemSelected" : [ {
                "name" : "Item selected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var filters=widgetContext.aliasController.getFilters()\nvar filterId=undefined\nfor (const property in filters) {\n    if(filters[property][\"filter\"]==\"deviceStatus\"){\n        filterId=property\n        break;\n    }\n}\nvar activePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":true,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\nvar inActivePredicate={\"keyFilterPredicate\":{\"operation\":\"EQUAL\",\"type\":\"BOOLEAN\",\"value\":{\"defaultValue\":false,\"dynamicValue\":null}},\"userInfo\":{\"autogeneratedLabel\":true,\"editable\":true,\"label\":\"\",\"order\":0}};\n\nif(filterId!==undefined){\n    // console.log(JSON.stringify(filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]))\n    if(additionalParams==\"All\"){\n        filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[]\n    }\n    else if (additionalParams==\"Active\"){\n        filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[activePredicate]\n    }\n    else if (additionalParams==\"Inactive\"){\n        filters[filterId][\"keyFilters\"][0][\"predicates\"][0][\"keyFilterPredicate\"][\"predicates\"]=[inActivePredicate]\n    }\n}\n\n\nwidgetContext.aliasController.updateFilters(filters)\n\n\n\n\n\n// widgetContext.updateAliases()\nvar DevicesAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"Devices\")\n\nwidgetContext.aliasController.updateAliases([DevicesAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b967aac7-874a-d6ab-45c9-989bbffcf6cb"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "91545a6a-299a-e499-a0c7-40da13b83420"
        },
        "ebcb1d0c-908c-f7ea-664d-390ddb8edb1f" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "npexpandabletable",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 9,
          "sizeY" : 5.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "41431f63-6a2f-c82f-6a92-111f11b1a2fc",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellContentFunction" : "const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\r\nvar underScoreSperated=value.split(\"_\")\r\nif(underScoreSperated.length>1){\r\n    if(regexExp.test(underScoreSperated[0])==true){\r\n        return value.replace(underScoreSperated[0]+\"_\",\"\")\r\n    }\r\n}\r\nreturn value\r\n"
                },
                "_hash" : 0.5450186443765672,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "label",
                "type" : "entityField",
                "label" : "Label",
                "color" : "#607d8b",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.3493928987390671
              }, {
                "name" : "name",
                "type" : "entityField",
                "label" : "Equipments",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellContentFunction" : "let $injector = ctx.$scope.$injector;\r\nlet entityService = $injector.get(ctx.servicesMap.get('entityService'));\r\nlet customerService = $injector.get(ctx.servicesMap.get('customerService'));\r\n\r\nlet elementId = entity.id.id + '_components';\r\n\r\ngetEntityInfo(entity.id.entityType, entity.id.id);\r\n\r\nreturn '<span id=\"' + elementId + '\"><span>';\r\n\r\nfunction getEntityInfo(Type,Id) {\r\n  ctx.entityRelationService.findInfoByQuery(\r\n      {\"parameters\":{\"direction\":\"FROM\",\"fetchLastLevelOnly\":false,\"maxLevel\":1,\"relationTypeGroup\":\"COMMON\",\"rootId\":Id,\"rootType\":Type},filters:[{\"relationType\":\"Contains\",entityTypes:[Type]}]}).subscribe(function(result){\r\n    // console.log(\"@@: \",result.length)  ;\r\n            let el = $('#' + elementId, ctx.$container);\r\n            el.text(result.length)\r\n  })\r\n\r\n//   entityService.getEntity(Type, Id).subscribe(\r\n//     function (data) {\r\n//       if (data.customerId) {\r\n//         customerService.getCustomer(data.customerId.id).subscribe(\r\n//           function (data) {\r\n//             let el = $('#' + elementId, ctx.$container);\r\n//             el.text(data.name)\r\n//           })\r\n//       }\r\n//     }\r\n//   );\r\n}\r\n"
                },
                "_hash" : 0.08625625686446603,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              }, {
                "name" : "name",
                "type" : "entityField",
                "label" : "Devices",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellContentFunction" : "let $injector = ctx.$scope.$injector;\r\nlet entityService = $injector.get(ctx.servicesMap.get('entityService'));\r\nlet customerService = $injector.get(ctx.servicesMap.get('customerService'));\r\n\r\nlet elementId = entity.id.id + '_deivces';\r\n\r\ngetEntityInfo(entity.id.entityType, entity.id.id);\r\n\r\nreturn '<span id=\"' + elementId + '\"><span>';\r\n\r\nfunction getEntityInfo(Type,Id) {\r\n  ctx.entityRelationService.findInfoByQuery(\r\n      {\"parameters\":{\"direction\":\"FROM\",\"fetchLastLevelOnly\":false,\"maxLevel\":2,\"relationTypeGroup\":\"COMMON\",\"rootId\":Id,\"rootType\":Type},filters:[{\"relationType\":\"Contains\",entityTypes:[\"DEVICE\"]}]}).subscribe(function(result){\r\n    // console.log(\"@@: \",result.length)  ;\r\n            let el = $('#' + elementId, ctx.$container);\r\n            el.text(result.length)\r\n  })\r\n\r\n//   entityService.getEntity(Type, Id).subscribe(\r\n//     function (data) {\r\n//       if (data.customerId) {\r\n//         customerService.getCustomer(data.customerId.id).subscribe(\r\n//           function (data) {\r\n//             let el = $('#' + elementId, ctx.$container);\r\n//             el.text(data.name)\r\n//           })\r\n//       }\r\n//     }\r\n//   );\r\n}\r\n"
                },
                "_hash" : 0.4329853424881269,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "name",
                "type" : "entityField",
                "label" : "Customer",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellContentFunction" : "let $injector = ctx.$scope.$injector;\r\nlet entityService = $injector.get(ctx.servicesMap.get('entityService'));\r\nlet customerService = $injector.get(ctx.servicesMap.get('customerService'));\r\n\r\nlet elementId = entity.id.id + '_customer';\r\n\r\ngetEntityInfo(entity.id.entityType, entity.id.id);\r\n\r\nreturn '<span id=\"' + elementId + '\"><span>';\r\n\r\nfunction getEntityInfo(Type,Id) {\r\n//   ctx.entityRelationService.findInfoByQuery(\r\n//       {\"parameters\":{\"direction\":\"FROM\",\"fetchLastLevelOnly\":false,\"maxLevel\":2,\"relationTypeGroup\":\"COMMON\",\"rootId\":Id,\"rootType\":Type},filters:[{\"relationType\":\"Contains\",entityTypes:[\"DEVICE\"]}]}).subscribe(function(result){\r\n//     // console.log(\"@@: \",result.length)  ;\r\n//             let el = $('#' + elementId, ctx.$container);\r\n//             el.text(result.length)\r\n//   })\r\n\r\n  entityService.getEntity(Type, Id).subscribe(\r\n    function (data) {\r\n      if (data.customerId) {\r\n        customerService.getCustomer(data.customerId.id).subscribe(\r\n          function (data) {\r\n            let el = $('#' + elementId, ctx.$container);\r\n            el.text(data.name)\r\n          })\r\n      }\r\n    }\r\n  );\r\n}\r\n"
                },
                "_hash" : 0.21139438291574475,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "enableSearch" : false,
              "enableSelectColumnDisplay" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "entityName",
              "useRowStyleFunction" : false,
              "actionIcons" : [ {
                "name" : "Add In Asset",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBrZTNDYJAEIVndw3xSAnaASYUYAl2oN6Amx1oB14g3NQOKMGjBw50oFYgBfDjm7iejGES9ksG2M3kMTM7O4osURRtlFJrfAYwn2TUsKrv+0ue52feUPxIkuSEzQ2NAMGcsyzbKhvZiRyAoLbapukE1tJ4L8kdgRY6XmGFwM+fCJyoaZqdMaZGSqshX1GEnue9SIg0ZTH/BAu0wPxraZo+0biP7xolWNCnrmJBv23bv7eF60mfW/KDiuO4pwG01jP8AGei7oO+5BixIKIUDQxRH3ZddyThBGLBWuA82NCWmlOuyB2V5uFIjmAtU5ZlFYbhHC0R0Ajs1N4bXkC0gOgTolxLtqlQh+t/g9iBxXjjDZGjaejAQSTiAAAAAElFTkSuQmCC"
              }, {
                "name" : "Edit Asset",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              }, {
                "name" : "Delete Asset",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              } ],
              "expandedComponentStateName" : "page_ships_component_state",
              "expandedDeviceStateName" : "page_ships_device_state",
              "refreshChildPrefix" : "shipRefresh"
            },
            "title" : "New NPExpandableTable",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : ".mat-sort-header-content{\nfont-family: 'Inter';\nfont-style: normal;\nfont-weight: 500;\nfont-size: 16px;\nline-height: 19px;\ntext-transform: capitalize;\ncolor: #000000;\n}\n\n.mat-cell, .mat-header-cell {\n  /*border: none !important;*/\n    border-bottom: 1px solid #EDEFF4 !important;\n}",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "actionCellButton" : [ {
                "name" : "Add In Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add Inside Asset</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Type </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"itemType\" (selectionChange)=\"placedItemSelected($event.value)\">\n                <mat-option *ngFor=\"let type of placedItemType\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n\n\n              </mat-select>\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Equipment Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"componentName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('componentName').hasError('required')\">\n                    Equipment Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Equipment Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"componentLabel\">\n\n            </mat-form-field>\n        </div>\n\n\n\n\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Type</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"deviceType\" (selectionChange)=\"deviceTypeSelected($event.value)\">\n                <mat-option *ngFor=\"let type of deviceTypes\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n        </div>\n\n\n\n        </div>\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\" >\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field class=\"mat-block ntFormField\" fxFlex>\n                    <input matInput type=\"text\" #entityInput\n                        formControlName=\"device\"\n                        [matAutocomplete]=\"deviceAutocomplete\"\n                        (focusin)=\"onDeviceFocus()\">\n                    <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayNPEntityFn\"\n                        #deviceAutocomplete=\"matAutocomplete\"\n                        >\n                        <mat-option \n                            *ngFor=\"let entity of filteredCustomerDevices | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"displayNPEntityFn(entity)\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n        \n        </div>\n        <div class=\"ntInputControl\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"deviceLabel\">\n\n            </mat-form-field>\n        </div>\n\n        \n        <div class=\"ntInputControl\" fxFlex *ngIf=\"addEntityFormGroup.get('itemType').value=='Device'\"  >\n            <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\" formGroupName=\"attributes\">\n                    <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >\n\n            </mat-form-field>\n        </div>\n        </div>\n\n   \n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Location on Asset</div>\n            <canvas id='FloorPlanCanvas'\n                    style=\"height:300px;width:600px\"></canvas>\n        </div>\n\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" *ngIf=\"addEntityFormGroup.get('itemType').value!='Device'\">\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Warning </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdWarning\" >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Critical </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdCritical\"  >\n\n            </mat-form-field>\n        </div>\n        </div>\n        \n        {{addEntityFormGroup.values}}\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" *ngIf=\"addEntityFormGroup.get('itemType').value=='Engine'\">\n        <!--<div class=\"ntInputControl\" fxFlex >-->\n        <!--    <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>-->\n        <!--    <mat-form-field fxFlex class=\"mat-block ntFormField\" >-->\n        <!--            <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >-->\n\n        <!--    </mat-form-field>-->\n        <!--</div>            -->\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Mech Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"mechHealth\"  >\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Operating Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"operatingHealth\"  >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Fuel-loss threshold </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdFuelLoss\" >\n\n            </mat-form-field>\n        </div>\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "\nlet $injector = widgetContext.$scope.$injector;\nconst broadcastService = $injector.get(widgetContext.servicesMap.get('broadcastService'));\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.placedItemType = ['Engine','Motor','Gearbox','Torque','Turbine', 'Device','Zet Peller','Clutch'];\n    vm.deviceTypes = ['NPGateway'];\n    vm.entity=undefined;\n    vm.devices=[];\n    vm.addEntityFormGroup = vm.fb.group({\n        componentName: ['', [vm.validators.required]],\n        componentLabel: [''],\n        itemType:['Engine', [vm.validators.required]],\n        deviceType:['', [vm.validators.required]],\n        device:['', [vm.validators.required]],\n        deviceLabel:[''],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n        thresholdWarning:[3, [vm.validators.required]],\n        thresholdCritical:[5, [vm.validators.required]],\n        mechHealth:[25, [vm.validators.required]],\n        operatingHealth:[25, [vm.validators.required]],\n        thresholdFuelLoss:[4, [vm.validators.required]],\n        inactivityTimeout:[60000, [vm.validators.required]]\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n        vm.displayNPEntityFn = function(entity) {\n        return entity ? npNameToNormal(entity.name) : undefined;\n    }\n    function npNameToNormal(value){\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\n        var underScoreSperated=value.split(\"_\")\n        if(underScoreSperated.length>1){\n            if(regexExp.test(underScoreSperated[0])==true){\n                return value.replace(underScoreSperated[0]+\"_\",\"\")\n            }\n        }\n        return value\n\n    }\n    vm.deviceTypeSelected=function(value){\n        // if(value==\"NPGateway\"){\n            \n        // }\n        vm.devices=[];\n        loadDevices(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n        \n    }\n    vm.onDeviceFocus = function() {\n\n        if (vm.addEntityFormGroup.controls\n            .device.value == null || vm.addEntityFormGroup.controls\n            .device.value == \"\") {\n\n            vm.addEntityFormGroup.patchValue({\n                device: \"\"\n            }, {\n                emitEvent: true\n            });\n        }\n    }\n    \n    function _filteredCustomerDevices(value) {\n        if (value != null && value.id) {\n            return vm.devices.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.devices.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    vm.filteredCustomerDevices = vm.addEntityFormGroup.controls\n        .device.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomerDevices(value))\n        );\n\n    vm.placedItemSelected=function(value){\n        if(value!==\"Device\"){\n            vm.addEntityFormGroup.controls['componentName'].enable();\n            vm.addEntityFormGroup.controls['componentLabel'].enable();\n            vm.addEntityFormGroup.controls['deviceType'].disable();\n            vm.addEntityFormGroup.controls['device'].disable();\n            vm.addEntityFormGroup.controls['deviceLabel'].disable();\n            var controls=vm.addEntityFormGroup.controls['attributes'].controls\n\n            for (var control in controls) {\n                    controls[control].enable()\n                if(control==\"inactivityTimeout\"){\n                    controls[control].disable()\n                }\n                else{\n                    controls[control].enable()\n                }            }\n\n\n        }\n        else{\n            vm.addEntityFormGroup.controls['componentName'].disable();\n            vm.addEntityFormGroup.controls['componentLabel'].disable();\n            vm.addEntityFormGroup.controls['deviceType'].enable();\n            vm.addEntityFormGroup.controls['device'].enable();\n            vm.addEntityFormGroup.controls['deviceLabel'].enable();\n\n            var controls=vm.addEntityFormGroup.controls['attributes'].controls\n            for (var control in controls) {\n                if(control==\"xPos\" || control==\"yPos\" || control==\"inactivityTimeout\"){\n                    controls[control].enable()\n                }\n                else{\n                    controls[control].disable()\n                }\n            }\n        }\n    }\n\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        if(formValues.itemType!==\"Device\"){\n            saveEngineObservable().subscribe(function(savedEntity){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedEntity.id),saveAttributes(savedEntity.id)]).subscribe(saveSuccess());\n                \n            });\n        }\n        else {\n            if(formValues.device.id==undefined){\n                saveDeviceObservable().subscribe(function(savedDevice){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedDevice.id),saveAttributes(savedDevice.id)]).subscribe(saveSuccess());\n                    \n                })\n            }       \n            else{\n                widgetContext.entityRelationService.findByTo(formValues.device.id).subscribe(function(haveRelation){\n\n                    if(haveRelation.length>=1){\n                        showErrorDialog(\"Can not add\",\"Already assigned to another ship/engine\");\n                    }\n                    else{\n                        var _device=formValues.device;\n                        _device.customerId=vm.entity.customerId\n                        widgetContext.rxjs.forkJoin([changeOwner(_device.id),widgetContext.deviceService.saveDevice(_device), saveRelation(entityId,formValues.device.id),saveAttributes(entityId)]).subscribe(saveSuccess());\n                        \n                // widgetContext.rxjs.forkJoin([changeOwner(formValues.device.id.id),saveRelation(entityId,formValues.device.id),saveAttributes(formValues.device.id)]).subscribe(saveSuccess());\n                        \n                    }\n                })\n\n                    \n                }\n        }\n         \n    };\n    \n    function saveSuccess(){\n        broadcastService.broadcast(widgetContext.settings.refreshChildPrefix+entityId.id, {\n                referesh : 'true'\n        });\n        widgetContext.updateAliases();\n        vm.dialogRef.close(null);\n    }\n    function changeOwner(_deviceId){\n        return widgetContext.http.post(\"/api/owner/CUSTOMER/\"+vm.entity.customerId.id+\"/DEVICE/\"+_deviceId.id)\n    }\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveEngineObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            // name: formValues.componentName,\n            name:vm.entity.customerId.id+\"_\"+formValues.componentName,\n            label:formValues.componentLabel,\n            type: formValues.itemType,\n            \"customerId\": vm.entity.customerId,\n            \"ownerId\": vm.entity.customerId\n        };\n        console.log(\"Saving component: \",entity,vm.entity)\n        return assetService.saveAsset(entity);\n    }\n\n    function saveDeviceObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        var entity= {\n            name:vm.entity.customerId.id+\"_\"+formValues.device,\n                // name: formValues.device,\n                type: formValues.deviceType,\n                label:formValues.deviceLabel,\n                \"customerId\": vm.entity.customerId,\n                \"ownerId\": vm.entity.customerId,\n                \"additionalInfo\":formValues.deviceType==\"NPGateway\"?{\"gateway\":true,\"overwriteActivityTime\":false,\"description\":\"\"}:{}\n            };\n        \n        return widgetContext.deviceService.saveDevice(entity);\n    }\n    \n    \n    \n    function loadDevices(pageLink) {\n        deviceService.getUserDevices(pageLink,vm.addEntityFormGroup.value.deviceType)\n            .subscribe(function(result) {\n                    vm.devices = vm.devices.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadDevices(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            devices: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    \n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').controls;\n        let attributesArray = [];\n        for (let key in attributes) {\n            console.log(attributes[key])\n            if(attributes[key][\"status\"] == \"VALID\") {\n                attributesArray.push({key: key, value: attributes[key][\"value\"]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadShipData(){\n        widgetContext.rxjs.forkJoin(widgetContext.entityService.getEntity(entityId.entityType,entityId.id),attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"floorMap\"])).subscribe(function(res){\n\n            vm.entity=res[0];\n            vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n            init(res[1][0].value)\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    vm.placedItemSelected(vm.addEntityFormGroup.value[\"itemType\"])\n    loadShipData();\n\n\n    function mouseDownImage(evt) {\n\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            vm.FloorPlanCanvas.width = width;\n            vm.FloorPlanCanvas.height = height;\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        var scrollGap=oElement.parentNode.parentNode.scrollTop\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY-scrollGap];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "2a92cddd-776b-ad56-4402-96251245d958"
              }, {
                "name" : "Edit Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Edit Asset</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--        <mat-form-field class=\"mat-block\" fxFlex>-->\n        <!--            <input matInput type=\"text\" -->\n        <!--                placeholder=\"Customer\" #entityInput-->\n        <!--                formControlName=\"customer\"-->\n        <!--                [matAutocomplete]=\"userAutocomplete\"-->\n        <!--                (focusin)=\"onCustomerFocus()\">-->\n        <!--            <mat-autocomplete-->\n        <!--                class=\"tb-autocomplete\"-->\n        <!--                [displayWith]=\"displayEntityFn\"-->\n        <!--                #userAutocomplete=\"matAutocomplete\">-->\n        <!--                <mat-option-->\n        <!--                    *ngFor=\"let entity of filteredCustomers | async\"-->\n        <!--                    [value]=\"entity\">-->\n        <!--                    <span-->\n        <!--                        [innerHTML]=\"entity.name\"></span>-->\n        <!--                </mat-option>-->\n        <!--            </mat-autocomplete>-->\n        <!--        </mat-form-field>-->\n        \n        <!--</div>-->\n        <!--<div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">-->\n        <!--    <mat-form-field fxFlex>-->\n        <!--        <mat-label>Ship Name</mat-label>-->\n        <!--        <input matInput formControlName=\"shipName\">-->\n        <!--    </mat-form-field>-->\n        <!--</div>-->\n\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Customer</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                                    <input matInput type=\"text\"\n                        #entityInput\n                        formControlName=\"customer\"\n                        [matAutocomplete]=\"userAutocomplete\"\n                        (focusin)=\"onCustomerFocus()\" readonly>\n            <mat-autocomplete\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayEntityFn\"\n                        #userAutocomplete=\"matAutocomplete\">\n                        <mat-option\n                            *ngFor=\"let entity of filteredCustomers | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"entity.name\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n\n            </mat-form-field>\n        </div>\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Asset Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <!--<mat-label>Customer Title</mat-label>-->\n                <input matInput formControlName=\"shipName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('shipName').hasError('required')\">\n                    Asset Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Asset Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"shipLabel\" >\n            </mat-form-field>\n        </div>\n            \n        </div>\n\n\n        <div id=\"imageLoader\" fxLayout=\"column\" (click)=\"onfileSelectClicked($event)\" fxLayoutAlign=\"center center\">\n            <input class=\"npFileUploader\" matInput type=\"file\" accept=\"image/*\" color=\"primary\"\n            (change)=\"onFloorMapSelect($event)\" style=\"display:none\">\n            <img *ngIf=\"uploadIcon\" [src]=\"uploadIcon\" />\n            <span>Asset Image</span>\n        </div>\n        \n        <!--<div style=\"margin:auto;padding:0px 0 10px 0px \" fxLayout=\"row\" fxLayoutGap=\"8px\"-->\n        <!--    fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">-->\n        <!--    <img id=\"floormapPreview\" />-->\n\n        <!--</div>-->\n        \n\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "\n#floormapPreview{\n    max-height: 100px;\n    max-width: 100px;\n}\n#imageLoader{\n    height:128px;\n    width: 100%;\n    background: #EDEFF4;\n    border-radius: 10px;\n    text-align: center;\n    vertical-align: middle;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n\n}\n/*input[type=\"file\"]::file-selector-button {*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  color: white;*/\n/*}*/\n\n\n/*  fallback for older browsers supporting the -webkit prefix */\n\n/*input[type=\"file\"]::-webkit-file-upload-button {*/\n/*  color: white;*/\n/*  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);*/\n/*  background: #607d8b;*/\n/*  box-sizing: border-box;*/\n/*  position: relative;*/\n/*  -webkit-user-select: none;*/\n/*  -moz-user-select: none;*/\n/*  -ms-user-select: none;*/\n/*  user-select: none;*/\n/*  cursor: pointer;*/\n/*  outline: none;*/\n/*  border: none;*/\n/*  -webkit-tap-highlight-color: transparent;*/\n/*  display: inline-block;*/\n/*  white-space: nowrap;*/\n/*  text-decoration: none;*/\n/*  vertical-align: baseline;*/\n/*  text-align: center;*/\n/*  margin: 0;*/\n/*  min-width: 64px;*/\n/*  line-height: 36px;*/\n/*  padding: 0 16px;*/\n/*  border-radius: 4px;*/\n/*  overflow: visible;*/\n/*  transform: translate3d(0, 0, 0);*/\n/*  transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);*/\n/*  margin: 1rem;*/\n/*  font-weight: 500;*/\n/*}*/",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    console.log(instance)\n    let vm = instance;\n    vm.customers = [];\n\n    vm.addEntityFormGroup = vm.fb.group({\n        customer: ['', [vm.validators.required]],\n        shipName: ['', [vm.validators.required]],\n        shipLabel: [''],\n        attributes: vm.fb.group({\n         floorMap:[null, [vm.validators.required]]\n        })\n    });\n\n\n    vm.onFloorMapSelect = function(event) {\n        var output = document.getElementById(\n            'imageLoader');\n\n\n        const file = event.target.files[0];\n        const reader = new FileReader();\n\n        reader.addEventListener(\"load\", function() {\n$(output).css('background-image', 'url(' + reader.result + ')');            \n\nvm.addEntityFormGroup.controls.attributes.controls.floorMap.patchValue(reader.result, {\n                            emitEvent: true\n                        });\n    vm.addEntityFormGroup.markAsDirty();\n\n        }, false);\n\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n    \n    };\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n\n    vm.onCustomerFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .customer.value == null) {\n            vm.addEntityFormGroup.patchValue({\n                customer: \"\"\n            }, {\n                emitEvent: true\n            });\n\n        }\n    }\n\n\n    function _filteredCustomers(value) {\n        if (value != null && value.id) {\n            return vm.customers.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.customers.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    \n    function npNameToNormal(value){\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\n        var underScoreSperated=value.split(\"_\")\n        if(underScoreSperated.length>1){\n            if(regexExp.test(underScoreSperated[0])==true){\n                return value.replace(underScoreSperated[0]+\"_\",\"\")\n            }\n        }\n        return value\n\n    }\n\n    vm.onfileSelectClicked=function(event){\n        console.log(\"onfileSelectClicked\",event.target)\n        var inputElement=$(event.target).find('.npFileUploader')\n        if(inputElement.length==0){\n            inputElement=$(event.target).siblings('.npFileUploader')\n        }\n        if(inputElement.length!=0){\n            console.log(inputElement)\n            $(inputElement[0]).trigger('click');\n        }\n    }\n\n    vm.filteredCustomers = vm.addEntityFormGroup.controls\n        .customer.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomers(value))\n        );\n\n    loadCustomers(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        widgetContext.rxjs.forkJoin([saveEntityObservable(),saveAttributes(entityId)]).subscribe(function(){\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            \n        })\n    };\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n    function saveEntityObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.entity[\"name\"]=formValues.customer.id.id+\"_\"+formValues.shipName\n        vm.entity[\"label\"]=formValues.shipLabel\n        return assetService.saveAsset(vm.entity);\n    }\n    \n    function loadCustomers(pageLink) {\n        customerService.getCustomers(pageLink)\n            .subscribe(function(result) {\n                    vm.customers = vm.customers.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadCustomers(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        console.log(vm.customers)\n                        loadData();\n                        vm.addEntityFormGroup.patchValue({\n                            customer: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"floorMap\"])]).subscribe(function(res){\n            vm.entity=res[0];\n\n            var cus=vm.customers.find(e=>e.id.id==vm.entity.customerId.id)\n            vm.addEntityFormGroup.patchValue({\n                    shipName:npNameToNormal(vm.entity.name),\n                    shipLabel:vm.entity.label,\n                    customer:cus\n                }, {\n                    emitEvent: true\n                });\n                // \n        var output = document.getElementById(\n            'imageLoader');\n\n            $(output).css('background-image', 'url(' + res[1][0].value+ ')');\n            vm.addEntityFormGroup.controls.attributes.controls.floorMap.patchValue(res[1][0].value, {\n                            emitEvent: true\n                        });\n\n                \n\n        })\n    }\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n    vm.uploadIcon =\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHrSURBVHgB7ZbLbcJAEIbHxgIkLk4H7iChgkAFIRWEHJCAkzsIVBDnBBIHQgehgrgEp4K4BF+QEOKRf4iNFuzgXbM38kvWrr278+1jxjtE1ybjXKPruvZisXBKpZJNiqpWq4HneRGpgLvdrmMYxhTVBl0g2HjfbrfD8Xgc5oI7nc6dZVmfXN/tdm8YHKzX6xCrjkhOTly2MfYepY3xzclkEvwJjleaQJtZM1WRYM+Gvbpozzzp+8Iz1gFlsQ22Fb+6YtsRGLNr8bnogJ7AZ7D7xM6aAmNbGvR7HnPSLEB9ts0RkgIfPpimlBP1+/1pr9d7lemLFe9timGZAqPxO88QQ2GsjarLdSogU7G/CGVFXC8CVwInUDxDvPp4Aq4XgUuDRSg8dZB853oRuBQYTtTKgmbBER1tGZtS4Eql4iPM6llQEY7iEZfDB0nIkukU3zJBXr/RaCQFZSl7tS79g2m1Wt2QnObw4i8qqINz8T8ahviH7pCcI3kkKdhMpU6HFZfL5RBFhAk0SLOwoAe2jZDzU2AOmeTe5MyBNCnOQjgNOgq10zPebx+nKzrgQuoTctIntp1L9iK+wDFgRoriM8Vzix3cpzu5yZ44UxQD3na6TD7gz1LprSjOkZbL5R0parPZRLVaLTyX0F+ffgBlshBlCmSaXQAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "25a2489c-1357-1a50-365f-d4c214ecb843"
              }, {
                "name" : "Delete Asset",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Asset</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete Asset?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Asset</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <div class=\"errorText\" *ngIf=\"error!==''\">\n            {{error}}\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n.errorText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #ff0000;\n}\n\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nconst broadcastService = $injector.get(widgetContext.servicesMap.get('broadcastService'));\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.error=\"\";\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [npNameToNormal(entityName)],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    function npNameToNormal(value){\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\n        var underScoreSperated=value.split(\"_\")\n        if(underScoreSperated.length>1){\n            if(regexExp.test(underScoreSperated[0])==true){\n                return value.replace(underScoreSperated[0]+\"_\",\"\")\n            }\n        }\n        return value\n\n    }\n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    function saveSuccess(){\n        widgetContext.updateAliases();\n        vm.dialogRef.close(null);\n    }\n\n    vm.save = function() {\n        entityRelationService.findByFrom(entityId).subscribe(function(relations){\n            console.log(relations)\n            if(relations.length<=0){\n                assetService.deleteAsset(entityId.id).subscribe(saveSuccess())\n            }\n            else{\n                vm.error=\"Cant delete Asset has devices/equipment inside\"\n            }\n        })\n    };\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "a41036cf-2b53-1b41-4935-8de1e1388942"
              } ]
            },
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "ebcb1d0c-908c-f7ea-664d-390ddb8edb1f"
        },
        "60235970-9ec5-c253-e4da-28c873e1b561" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "componentwidget",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "70b810f0-7943-ba82-42d1-703034ea5da5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.6582753387897253
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "stateName" : "page_ships_device_state",
              "actionIcons" : [ {
                "name" : "Add In Equipment",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBrZTNDYJAEIVndw3xSAnaASYUYAl2oN6Amx1oB14g3NQOKMGjBw50oFYgBfDjm7iejGES9ksG2M3kMTM7O4osURRtlFJrfAYwn2TUsKrv+0ue52feUPxIkuSEzQ2NAMGcsyzbKhvZiRyAoLbapukE1tJ4L8kdgRY6XmGFwM+fCJyoaZqdMaZGSqshX1GEnue9SIg0ZTH/BAu0wPxraZo+0biP7xolWNCnrmJBv23bv7eF60mfW/KDiuO4pwG01jP8AGei7oO+5BixIKIUDQxRH3ZddyThBGLBWuA82NCWmlOuyB2V5uFIjmAtU5ZlFYbhHC0R0Ajs1N4bXkC0gOgTolxLtqlQh+t/g9iBxXjjDZGjaejAQSTiAAAAAElFTkSuQmCC"
              }, {
                "name" : "Edit Equipment",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              }, {
                "name" : "Delete",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              } ]
            },
            "title" : "New ShipComponentWidget",
            "actions" : {
              "actionButton" : [ {
                "name" : "Add In Equipment",
                "icon" : "add",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Add</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device Type</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n              <mat-select formControlName=\"deviceType\" (selectionChange)=\"deviceTypeSelected($event.value)\">\n                <mat-option *ngFor=\"let type of deviceTypes\" [value]=\"type\">\n                  {{type}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n        </div>\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field class=\"mat-block ntFormField\" fxFlex>\n                    <input matInput type=\"text\" #entityInput\n                        formControlName=\"device\"\n                        [matAutocomplete]=\"deviceAutocomplete\"\n                        (focusin)=\"onDeviceFocus()\">\n                    <mat-autocomplete\n                        (optionSelected)='deviceSelected($event.option.value)'\n                        class=\"tb-autocomplete\"\n                        [displayWith]=\"displayNPEntityFn\"\n                        #deviceAutocomplete=\"matAutocomplete\"\n                        >\n                        <mat-option \n                            *ngFor=\"let entity of filteredCustomerDevices | async\"\n                            [value]=\"entity\">\n                            <span\n                                [innerHTML]=\"displayNPEntityFn(entity)\"></span>\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n        \n        </div>\n        <div class=\"ntInputControl\">\n            <div class=\"ntInputFieldLabel\">Device Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"deviceLabel\" >\n            </mat-form-field>\n        </div>\n\n\n        </div>\n\n\n        <div class=\"ntInputControl\" fxFlex formGroupName=\"attributes\">\n            <div class=\"ntInputFieldLabel\">Inactivity TimeOut </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\"> \n                    <input type=\"number\" step=\"any\" matInput  formControlName=\"inactivityTimeout\" >\n\n            </mat-form-field>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.deviceTypes = [];\n    vm.entity=undefined;\n    vm.devices=[];\n    vm.addEntityFormGroup = vm.fb.group({\n        deviceType:['', [vm.validators.required]],\n        device:['', [vm.validators.required]],\n        deviceLabel:[''],\n        attributes: vm.fb.group({\n        inactivityTimeout:[0, [vm.validators.pattern(/^-?[0-9]+$/)]]\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.displayEntityFn = function(entity) {\n        return entity ? entity.name : undefined;\n    }\n    vm.displayNPEntityFn = function(entity) {\n        return entity ? widgetContext.npNameToNormal(entity.name) : undefined;\n    }\n    vm.deviceTypeSelected=function(value){\n        vm.devices=[];\n        vm.addEntityFormGroup.controls[\"attributes\"].patchValue({\n                inactivityTimeout: value==\"Oil Condition Sensor\" ?60000:300000\n                }, {\n            emitEvent: true\n            });\n\n        loadDevices(widgetContext.pageLink(pageSize = 100,\n        page = 0));\n        \n    }\n    vm.deviceSelected=function(_device){\n        console.log(\"Device Selected: \",_device)\n        vm.addEntityFormGroup.patchValue({\n                deviceLabel: _device.label\n        }, {\n                emitEvent: true\n        });\n    }\n    vm.onDeviceFocus = function() {\n        if (vm.addEntityFormGroup.controls\n            .device.value == null || vm.addEntityFormGroup.controls\n            .device.value == \"\") {\n            vm.addEntityFormGroup.patchValue({\n                device: \"\"\n            }, {\n                emitEvent: true\n            });\n        }\n    }\n    \n    function _filteredCustomerDevices(value) {\n        if (value != null && value.id) {\n            return vm.devices.filter(option => option\n                .name && option.name.toLowerCase()\n                .includes(value.name.toLowerCase()));\n        }\n        const filterValue = value.toLowerCase();\n        return vm.devices.filter(option => option\n            .name && option.name.toLowerCase().includes(\n                filterValue));\n    }\n    vm.filteredCustomerDevices = vm.addEntityFormGroup.controls\n        .device.valueChanges.pipe(window.rxjs.operators\n            .map(\n                value => _filteredCustomerDevices(value))\n        );\n\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        if(formValues.device.id==undefined){\n                saveDeviceObservable().subscribe(function(savedDevice){\n                widgetContext.rxjs.forkJoin([saveRelation(entityId,savedDevice.id),saveAttributes(savedDevice.id)]).subscribe(function(){\n                        widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n                    });\n                    \n                })\n            }       \n        else{\n\n                widgetContext.entityRelationService.findByTo(formValues.device.id).subscribe(function(haveRelation){\n                    if(haveRelation.length>=1){\n                        showErrorDialog(\"Can not add\",\"Already assigned to another ship/engine\");\n                    }\n                    else{\n                        console.log(\"@@ device: \",formValues.device)\n                        var _device=formValues.device;\n                        _device.customerId=vm.entity.customerId\n                        _device.label=formValues.deviceLabel,\n\n                widgetContext.rxjs.forkJoin([changeOwner(_device.id),widgetContext.deviceService.saveDevice(_device), saveRelation(entityId,formValues.device.id),saveAttributes(entityId)]).subscribe(function(){\n                        widgetContext.updateAliases();\n                        vm.dialogRef.close(null);\n                    });\n                        \n                    }\n                })\n\n                    \n                }\n\n    };\n    function changeOwner(_deviceId){\n        return widgetContext.http.post(\"/api/owner/CUSTOMER/\"+vm.entity.customerId.id+\"/\"+_deviceId.entityType+\"/\"+_deviceId.id)\n    }\n        function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n\n    function saveDeviceObservable() {\n        \n        const formValues = vm.addEntityFormGroup.value;\n        let entity = {\n            // name: formValues.device,\n            name:vm.entity.customerId.id+\"_\"+formValues.device,\n            label:formValues.deviceLabel,\n            type: formValues.deviceType,\n            \"customerId\": vm.entity.customerId,\n            \"ownerId\": vm.entity.customerId,\n\n        };\n        return widgetContext.deviceService.saveDevice(entity);\n    }\n    \n    \n    \n    function loadDevices(pageLink) {\n        deviceService.getUserDevices(pageLink,vm.addEntityFormGroup.value.deviceType)\n            .subscribe(function(result) {\n                    vm.devices = vm.devices.concat(result.data)\n                    if (result.hasNext ==true) {\n                        loadDevices(\n                            widgetContext.pageLink(pageSize =100,page =pageLink.page +1\n                            ));\n                    } else {\n                        vm.addEntityFormGroup.patchValue({\n                            devices: \"\"\n                        }, {\n                            emitEvent: true\n                        });\n\n                    }\n\n                },\n                function(err) {\n                    console.log(\"Error: \", err);\n                })\n\n    }\n        function loadEngineData(){\n        widgetContext.rxjs.forkJoin(widgetContext.entityService.getEntity(entityId.entityType,entityId.id),entityRelationService.findByTo(entityId)).subscribe(function(res){\n            vm.entity=res[0];\n            if(vm.entity.type==\"Engine\"){\n                vm.deviceTypes.push(\"vBox-Core Engine\")\n            }\n            else if(vm.entity.type==\"Motor\"){\n                vm.deviceTypes.push(\"vBox-Core Motor\")\n            }\n            else if(vm.entity.type==\"Gearbox\"){\n                vm.deviceTypes.push(\"vBox-Core Gearbox\")\n            }\n            else if(vm.entity.type==\"Torque\"){\n                vm.deviceTypes.push(\"vBox-Core Torque\")\n            }            \n            else if(vm.entity.type==\"Turbine\"){\n                vm.deviceTypes.push(\"vBox-Core Turbine\")\n            }\n            vm.deviceTypes.push(\"Oil Condition Sensor\")\n            console.log(\"vm.entity: \",vm.entity)\n        })\n    }\n    loadEngineData();\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "cdecb790-75ec-f8d0-53fa-e8ae42cfb423"
              }, {
                "name" : "Edit Equipment",
                "icon" : "edit",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Edit Equipment</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" >\n            <div class=\"ntInputControl\" fxFlex>\n                <div class=\"ntInputFieldLabel\">Equipment Name</div>\n                <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input matInput formControlName=\"engineName\" required>\n                    <mat-error *ngIf=\"addEntityFormGroup.get('engineName').hasError('required')\">\n                        Equipment Name is required.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"ntInputControl\" fxFlex>\n                <div class=\"ntInputFieldLabel\">Label</div>\n                <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input matInput formControlName=\"engineLabel\" >\n                </mat-form-field>\n            </div>\n\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Location on Ship</div>\n            <canvas id='FloorPlanCanvas'></canvas>\n        </div>\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" >\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Warning </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdWarning\" >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Threshold Critical </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdCritical\"  >\n\n            </mat-form-field>\n        </div>\n        </div>\n        \n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" *ngIf=\"equType=='Engine'\">\n           \n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Mech Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"mechHealth\"  >\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Operating Health </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"operatingHealth\"  >\n\n            </mat-form-field>\n        </div>\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Fuel-loss threshold </div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                    <input type=\"number\" step=\"any\" matInput formControlName=\"thresholdFuelLoss\" >\n\n            </mat-form-field>\n        </div>\n        </div>\n\n        \n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.entity=undefined;\n    vm.equType=widgetContext.data.find(e=> e.datasource.entityId==entityId.id && e.dataKey.name==\"type\").data[0][1]\n    vm.addEntityFormGroup = vm.fb.group({\n        engineName: ['', [vm.validators.required]],\n        engineLabel: [''],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n        thresholdWarning:[null, [vm.validators.required]],\n        thresholdCritical:[null, [vm.validators.required]],\n        mechHealth:[null, [vm.validators.required]],\n        operatingHealth:[null, [vm.validators.required]],\n        thresholdFuelLoss:[null, [vm.validators.required]],\n\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n            widgetContext.rxjs.forkJoin([saveEngineObservable(),saveAttributes(entityId)])\n            .subscribe(function(savedEntity){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n            });\n\n    };\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n\n\n    function saveEngineObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        // vm.entity[\"name\"]=formValues.engineName;\n        vm.entity[\"name\"]=vm.entity.customerId.id+\"_\"+formValues.engineName;\n        vm.entity[\"label\"]=formValues.engineLabel;\n        return assetService.saveAsset(vm.entity);\n    }\n\n\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadData(){\n        widgetContext.rxjs.forkJoin([\n            widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"xPos\",\"yPos\",\"thresholdWarning\",\"thresholdCritical\",\"mechHealth\",\"operatingHealth\",\"thresholdFuelLoss\"]),\n            \n\n            widgetContext.entityRelationService.findByTo(entityId)]).subscribe(function(res){\n            vm.entity=res[0];\n            vm.addEntityFormGroup.patchValue({\n                    engineName: widgetContext.npNameToNormal(vm.entity.name),\n                    engineLabel:vm.entity.label,\n                }, {\n                    emitEvent: true\n                });\n                var _attr={}\n                for (var i = 0; i < res[1].length; i++) {\n                    _attr[res[1][i].key] = res[1][i].value;\n                }\n                vm.addEntityFormGroup.patchValue({\n                    attributes: _attr,\n                }, {\n                    emitEvent: false\n                });\n            attributeService.getEntityAttributes(res[2][0].from,\"SERVER_SCOPE\",[\"floorMap\"]).subscribe(function(floorMap){\n                vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n                init(floorMap[0].value)\n\n            })\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    loadData();\n\n\n    function mouseDownImage(evt) {\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            // vm.FloorPlanCanvas.width = vm.FloorPlanCanvas.clientWidth;\n            var _width=parseFloat(window.getComputedStyle(vm.FloorPlanCanvas.parentElement).width)\n            console.log(_width)\n            vm.FloorPlanCanvas.width = _width;\n            vm.FloorPlanCanvas.height = height;\n            console.log(vm.FloorPlanCanvas)\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        vm.addEntityFormGroup.markAsDirty();\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "42168da8-e398-c2ca-fa28-7fcf91ea7a01"
              }, {
                "name" : "Delete",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Equipment</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete Equipment?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Equipment</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <div class=\"errorText\" *ngIf=\"error!==''\">\n            {{error}}\n        </div>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n.errorText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #ff0000;\n}\n\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.error=\"\";\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [widgetContext.npNameToNormal(entityName)],\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    vm.save = function() {\n        entityRelationService.findByFrom(entityId).subscribe(function(relations){\n            console.log(relations)\n            if(relations.length<=0){\n                assetService.deleteAsset(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                widgetContext.parentDashboard.aliasController.updateAliases();\n                vm.dialogRef.close(null);\n            })\n            }\n            else{\n                vm.error=\"Cant delete Equipment has devices inside\"\n            }\n        })\n    };\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "5b0f97e4-b2e8-98a6-ed7b-832e35a81dac"
              } ]
            },
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "60235970-9ec5-c253-e4da-28c873e1b561"
        },
        "8539c7b3-51f5-fff8-7b41-813b3635926d" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "device_component_widget",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "17d2fb5c-5ffe-db18-e174-58d1551591d1",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.6542154766673904
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "actionIcons" : [ {
                "name" : "Get Credentials",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG+SURBVHgB7VQ7bgIxEDW7CG25R1hOEJCQaJcbwAlIOlYUOULCCZJUIBqSji7cgO1BYnMCnBNkS4T45A0xkdeehE0aGp5kjT32fPxmbCEuODcKpw50Op3QcZz2fr8PsQwORoVCApHsdruXwWAQ/ysAHAdwNMI0FL9DIngDgSS36XDKbrfbhvNFDucESmRBNtymayqiKGoiozGmnsgPDzbNer0uZ7PZm76RuQHRAjFiHKRw0MMobzabKuQNdNI8hJo8Kh98AFx1CuEbdsRxFRzf06JYLAaYPxPvFNg466u62QEQ+VqoLtFBmWsFvMN4BY1Lz/PS7XbbEzZC5esr6eOEjLgARInK/EFoRVc0xch4yQRJ+v1+NXMDYV/3gFKp9OG6bkUYHQW+U7wPX/D41jtaRk/cSThqgY6JyBZVDofDCfYqnA3RepxnHhpomgq791NVZKla2KeAq9XKV00RGOcl6ClbN1CRiVeuM6ZUONRDYh2v1+tb9RADJpmGrrC+CnJkttof0EL2E11hveT5fJ7UarV3BAlF/tdMmUegcWxunPrsOI5NxETtT59dru8agmi7gjx2jcQ6zvNdX3B+fAIpUNISD/TIagAAAABJRU5ErkJggg=="
              }, {
                "name" : "Edit Device",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgB7VRBcoJAEBwwpVfzA/OD5An5QXyB8aZwEF8QfIGcgCou/iD+IMkL5AchP/AIVRSkR6EKyLIL0aN9YXeY6d6dmR2iGxTQqCdM05xlWeZgOdY0bYf1xvf96CoCi8ViAtLvhjnK8/y5TUSnHgD5VmBm0QOL06UCo9Fojs9e8Gus6/qbKOaOOsAwjFOw4zgbfKY4rY1T1whRi3tRrLIGy+XyBZ/3kzOKOhwO1xA6wn6A6bHiOvU8b99LoCjqB5aTijmic5qs0oAicyfZIg5pDQTkVOytyv6zjVwqgBRsBeRNcIvOZQ7CFKGoKwQ6pECapk9BEIQynz834LyD3CYFOO8qckbtBpZljZMk4e6YSIPQTa7rSlNTonaDOI475Z1blTpCb5zsVeF/5LnD74D+I0DnHm8FyNeyyakUAMEXtZPzY9pRT9RmEeZJOBgMZk0npC7EGLDLffFGrBbOCL4PQgFMRB4Bq2YAhJsd80M3XAu/5seQJlHk6rwAAAAASUVORK5CYII="
              }, {
                "name" : "Delete Device",
                "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB3VXBcYMwEFxBGHhSgtOBHxTgFlKBJz8YPpTgdOAPA8+kgkw6SAE83EHUQciPF+Q8Y2eEOKz4Ej/snWGQTne30nFagGuHcjnkeb7u+35Lw9ha0p7nbcqyfDkV78EBSr5hku+xOBBDTJCm6Wqf6IRLfPCZxahEWZa9YrzbJfjd23g3xm1VVQ/HyZ3luPplQjBxR2hzYUQQhuF913USgh9EUdSa80kXFUURE8kSMui6rrVpsEsESr5VSq0hAMU90+vRtHFd1EIIatsv2/avBFwsR6Ahh3YSUB3/UiL3CYZhEBOQNl22RL7vfzgJ7ItyDoIgmHQRK9ekSZ8QSAZp0CTfnJpKTqE54xzBDpckoE56w5mgGPbP5nPGpml2SZLQlVALuL+FpueJRK7GTeIbInVYoAlrOMwAAAAASUVORK5CYII="
              } ]
            },
            "title" : "New Device Component Widget",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "actionButton" : [ {
                "name" : "Get Credentials",
                "icon" : "security",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Device {{npEntityName}}</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"ntInputControl\" fxLayout=\"row\" fxLayoutAlign=\"space-evenly center\" style=\"min-width:300px\">\n            <div class=\"ntInputFieldLabel\" >Credentials</div>\n            <div class=\"ntInputFieldLabel\" style=\"  user-select: all;\">{{cred}}</div>\n        </div>\n\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.entityName=entityName\n    vm.npEntityName=widgetContext.npNameToNormal(entityName)\n    vm.cred=\"\";\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    deviceService.getDeviceCredentials(entityId.id).subscribe(function(data){\n        vm.cred=data.credentialsId\n    })\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "13f2ef1d-0913-0f82-6ad6-2385b9268e1f"
              }, {
                "name" : "Edit Device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Edit Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Name</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"engineName\" required>\n                <mat-error *ngIf=\"addEntityFormGroup.get('engineName').hasError('required')\">\n                    Device Name is required.\n                </mat-error>\n            </mat-form-field>\n        </div>\n\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Device Label</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"engineLabel\" >\n            </mat-form-field>\n        </div>\n        </div>\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\" formGroupName=\"attributes\" >\n        <div class=\"ntInputControl\" fxFlex>\n            <div class=\"ntInputFieldLabel\">Inactivity Timeout</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"inactivityTimeout\" required=\"\">\n            </mat-form-field>\n        </div>\n        </div>\n\n\n        <div class=\"ntInputControl\" *ngIf=\"isInsideEngine==false\" >\n            <div class=\"ntInputFieldLabel\">Location on Ship</div>\n            <canvas id='FloorPlanCanvas'></canvas>\n        </div>\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Submit\n        </button>\n    </div>\n    <!--<div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">-->\n    <!--    <button mat-button color=\"primary\"-->\n    <!--            type=\"button\"-->\n    <!--            [disabled]=\"(isLoading$ | async)\"-->\n    <!--            (click)=\"cancel()\" cdkFocusInitial>-->\n    <!--        Cancel-->\n    <!--    </button>-->\n    <!--    <button mat-button mat-raised-button color=\"primary\"-->\n    <!--            type=\"submit\"-->\n    <!--            [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">-->\n    <!--        Add-->\n    <!--    </button>-->\n    <!--</div>-->\n</form>\n",
                "customCss" : "#FloorPlanCanvas{\n    border: 1px solid #EDEFF4;\n    border-radius: 10px;\n}\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log(widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.zoomImage={};\n    vm.entity=undefined;\n    vm.isInsideEngine=true;\n    vm.addEntityFormGroup = vm.fb.group({\n        engineName: ['', [vm.validators.required]],\n        engineLabel: [''],\n        attributes: vm.fb.group({\n        xPos:[null, [vm.validators.required]],\n        yPos:[null, [vm.validators.required]],\n        inactivityTimeout:[null, [vm.validators.required]]\n     })\n    });\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        const formValues = vm.addEntityFormGroup.value;\n        vm.addEntityFormGroup.markAsPristine();\n        var req=[saveEntityObservable()]\n        req.push(saveAttributes(entityId))\n            widgetContext.rxjs.forkJoin(req)\n            .subscribe(function(savedEntity){\n                    widgetContext.updateAliases();\n                    vm.dialogRef.close(null);\n            });\n\n    };\n    function showErrorDialog(title,content) {\n        dialogs.alert(title, content, 'CLOSE').subscribe(\n            function(result) {}\n        );\n    }\n    function saveRelation(fromEntityId,toEntityId){\n        return entityRelationService.saveRelation({\n                    \"from\":  fromEntityId,\n                    \"to\": toEntityId,\n                    \"type\": \"Contains\",\n                    \"typeGroup\": \"COMMON\",\n                    \"additionalInfo\": {}\n                })\n    }\n    function saveEntityObservable() {\n        const formValues = vm.addEntityFormGroup.value;\n        // vm.entity[\"name\"]=formValues.engineName;\n        vm.entity[\"name\"]=vm.entity.customerId.id+\"_\"+formValues.engineName\n        vm.entity[\"label\"]=formValues.engineLabel\n\n        return deviceService.saveDevice(vm.entity);\n    }\n\n\n\n    function saveAttributes(entityId) {\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\n        let attributesArray = [];\n        for (let key in attributes) {\n            if(attributes[key] !== null) {\n                attributesArray.push({key: key, value: attributes[key]});\n            }\n        }\n        if (attributesArray.length > 0) {\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n        }\n        return widgetContext.rxjs.of([]);\n    }\n\n    function loadData(){\n        widgetContext.rxjs.forkJoin([widgetContext.entityService.getEntity(entityId.entityType,entityId.id),\n        widgetContext.entityRelationService.findByTo(entityId)]).subscribe(function(res){\n                vm.entity=res[0];\n                vm.addEntityFormGroup.patchValue({\n                    engineName: widgetContext.npNameToNormal(vm.entity.name),\n                    engineLabel: vm.entity.label,\n                }, {\n                    emitEvent: true\n                });\n                widgetContext.entityService.getEntity(res[1][0].from.entityType,res[1][0].from.id).subscribe(function(parentEntity){\n                    var query=[attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE',[\"xPos\",\"yPos\",\"inactivityTimeout\"])]\n                    if(parentEntity.type==\"ship\"){\n                        vm.isInsideEngine=false\n                        query.push(attributeService.getEntityAttributes(parentEntity.id, 'SERVER_SCOPE',[\"floorMap\"]))\n    \n                    }\n                    widgetContext.rxjs.forkJoin(query).subscribe(function(deviceData){\n                        console.log(\"deviceData: \",deviceData)\n                        var _attr={}\n                        for (var i = 0; i < deviceData[0].length; i++) {\n                            _attr[deviceData[0][i].key] = deviceData[0][i].value;\n                        }\n                        vm.addEntityFormGroup.patchValue({\n                            attributes: _attr,\n                        }, {\n                            emitEvent: true\n                        });\n                        if(parentEntity.type==\"ship\"){\n                            vm.FloorPlanCanvas = document.getElementById(\"FloorPlanCanvas\");\n                            init(deviceData[1][0].value)\n                        }\n                        else{\n                        var controls=vm.addEntityFormGroup.controls['attributes'].controls\n                        for (var control in controls) {\n                            if(control!==\"inactivityTimeout\"){\n                                controls[control].disable()\n                            }\n                        }\n                            \n                        }\n                    })\n\n            })\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n    loadData();\n\n\n    function mouseDownImage(evt) {\n        console.log(\"mouseDownImage\")\n        if (evt.ctrlKey) {\n        document.body.style.mozUserSelect =\n                    document.body.style.webkitUserSelect = document\n                    .body.style.userSelect = 'none';\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragStart = vm.zoomImage.ct.transformedPoint(\n                    vm.zoomImage.lastX, vm.zoomImage.lastY);\n                dragged = false;\n            } else {\n                var p1 = vm.zoomImage.ct.transformedPoint(0, 0);\n                var canvasPoints = GetCoordinates(\n                    evt);\n                processClick([p1[\"x\"] + (\n                    canvasPoints[0] /\n                    vm.zoomImage.currentScale), p1[\n                    \"y\"] + (\n                    canvasPoints[1] /\n                    vm.zoomImage.currentScale)]);\n            }\n        }\n\n    function mouseMoveImage(evt) {\n            if (evt.ctrlKey) {\n                vm.zoomImage.lastX = evt.offsetX || (evt.pageX -\n                    vm.zoomImage.can.offsetLeft);\n                vm.zoomImage.lastY = evt.offsetY || (evt.pageY -\n                    vm.zoomImage.can.offsetTop);\n                dragged = true;\n                if (dragStart) {\n                    var pt = vm.zoomImage.ct.transformedPoint(\n                        vm.zoomImage.lastX, vm.zoomImage.lastY);\n                    vm.zoomImage.ct.translate(pt.x - dragStart.x,\n                        pt.y - dragStart.y);\n                    redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n                }\n            }\n        }\n        \n    function mouseUpImage(evt) {\n            console.log(\"mouseUp\")\n            if (evt.ctrlKey) {\n                dragStart = null;\n                if (!dragged) zoom(evt.shiftKey ? -\n                    1 : 1);\n            }\n        }\n    function handleScroll(evt) {\n            var delta = evt.wheelDelta ? evt\n                .wheelDelta / 40 : evt.detail ? -evt\n                .detail : 0;\n            if (delta) zoom(delta);\n            return evt.preventDefault() && false;\n        };\n    var zoom = function(clicks) {\n            var pt = vm.zoomImage.ct.transformedPoint(vm.zoomImage.lastX, vm.zoomImage.lastY);\n            vm.zoomImage.ct.translate(pt.x, pt.y);\n            var factor = Math.pow(vm.zoomImage.scaleFactor, clicks);\n            vm.zoomImage.currentScale = vm.zoomImage.currentScale * factor;\n            vm.zoomImage.ct.scale(factor, factor);\n            vm.zoomImage.ct.translate(-pt.x, -pt.y);\n            redraw(vm.zoomImage.ct, vm.zoomImage.can, vm.zoomImage.image);\n        }\n\n    function setupZoomAndPan(ct, can, image) {\n        trackTransforms(ct);\n        vm.zoomImage.ct=ct;\n        vm.zoomImage.can=can;\n        vm.zoomImage.image=image;\n        redraw(ct, can, image);\n        vm.zoomImage.lastX = can.width / 2;\n        vm.zoomImage.lastY = can.height / 2;\n        vm.zoomImage.dragStart;\n        vm.zoomImage.dragged;\n        vm.zoomImage.scaleFactor = 1.1;\n        vm.zoomImage.currentScale = 1.0;\n        vm.zoomImage.canvasLastX = vm.zoomImage.lastX;\n        vm.zoomImage.canvasLastY = vm.zoomImage.lastY;\n\n        setToPosition(ct, can, image, image.width / 2, image\n            .height / 2);\n\n        can.removeEventListener('mousedown', mouseDownImage)\n        can.addEventListener('mousedown',mouseDownImage , false);\n\n        can.removeEventListener('mousemove', mouseMoveImage)\n        can.addEventListener('mousemove',mouseMoveImage , false);\n\n        can.removeEventListener('mouseup', mouseUpImage)\n        can.addEventListener('mouseup',mouseUpImage , false);\n\n\n\n\n        can.removeEventListener('DOMMouseScroll', handleScroll)\n        can.addEventListener('DOMMouseScroll', handleScroll,\n            false);\n        can.removeEventListener('mousewheel', handleScroll)\n        can.addEventListener('mousewheel', handleScroll, {\n            passive: false\n        });\n    }\n\n    function init(imageDataURL) {\n        var img = new Image();\n        img.onload = function() {\n            var width = 600;\n            var height = 300;\n            // vm.FloorPlanCanvas.width = vm.FloorPlanCanvas.clientWidth;\n            var _width=parseFloat(window.getComputedStyle(vm.FloorPlanCanvas.parentElement).width)\n            vm.FloorPlanCanvas.width = _width;\n            vm.FloorPlanCanvas.height = height;\n            var FloorPlanCtx = vm.FloorPlanCanvas\n                .getContext(\"2d\");\n            FloorPlanCtx.drawImage(img, 0, 0);\n            vm.floorImage = img;\n            setupZoomAndPan(FloorPlanCtx,\n                vm.FloorPlanCanvas, img);\n        }\n        img.src = imageDataURL;\n    }\n\n    function redraw(ct, can, image, ) {\n        var p1 = ct.transformedPoint(0, 0);\n        var p2 = ct.transformedPoint(can.width, can.height);\n        ct.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n        ct.save();\n        ct.setTransform(1, 0, 0, 1, 0, 0);\n        ct.clearRect(0, 0, can.width, can.height);\n        ct.restore();\n        ct.drawImage(image, 0, 0);\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n    }\n\n    function setToPosition(ct, can, image, x, y) {\n        var pt = ct.transformedPoint(vm.zoomImage.canvasLastX,\n            vm.zoomImage.canvasLastY);\n        ct.translate((pt.x - x), (pt.y - y));\n        redraw(ct, can, image);\n    }\n\n    function trackTransforms(ctx) {\n        var svg = document.createElementNS(\n            \"http://www.w3.org/2000/svg\", 'svg');\n        var xform = svg.createSVGMatrix();\n        ctx.getTransform = function() {\n            return xform;\n        };\n\n        var savedTransforms = [];\n        var save = ctx.save;\n        ctx.save = function() {\n            savedTransforms.push(xform.translate(0, 0));\n            return save.call(ctx);\n        };\n\n        var restore = ctx.restore;\n        ctx.restore = function() {\n            xform = savedTransforms.pop();\n            return restore.call(ctx);\n        };\n\n        var scale = ctx.scale;\n        ctx.scale = function(sx, sy) {\n            xform = xform.scaleNonUniform(sx, sy);\n            return scale.call(ctx, sx, sy);\n        };\n\n        var rotate = ctx.rotate;\n        ctx.rotate = function(radians) {\n            xform = xform.rotate(radians * 180 / Math\n                .PI);\n            return rotate.call(ctx, radians);\n        };\n\n        var translate = ctx.translate;\n        ctx.translate = function(dx, dy) {\n            xform = xform.translate(dx, dy);\n            return translate.call(ctx, dx, dy);\n        };\n\n        var transform = ctx.transform;\n        ctx.transform = function(a, b, c, d, e, f) {\n            var m2 = svg.createSVGMatrix();\n            m2.a = a;\n            m2.b = b;\n            m2.c = c;\n            m2.d = d;\n            m2.e = e;\n            m2.f = f;\n            xform = xform.multiply(m2);\n            return transform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var setTransform = ctx.setTransform;\n        ctx.setTransform = function(a, b, c, d, e, f) {\n            xform.a = a;\n            xform.b = b;\n            xform.c = c;\n            xform.d = d;\n            xform.e = e;\n            xform.f = f;\n            return setTransform.call(ctx, a, b, c, d, e,\n                f);\n        };\n\n        var pt = svg.createSVGPoint();\n        ctx.transformedPoint = function(x, y) {\n            pt.x = x;\n            pt.y = y;\n            return pt.matrixTransform(xform.inverse());\n        }\n    }\n\n    function processClick(coordinates) {\n        var xCord = coordinates[0];\n        var yCord = coordinates[1];\n        vm.addEntityFormGroup.controls.attributes.patchValue({\n                    xPos: xCord/vm.floorImage.width,\n                    yPos:yCord/vm.floorImage.height,\n                }, {\n                    emitEvent: false\n                });\n        // floorPlan[\"co-ord\"].push(data);\n        vm.addEntityFormGroup.markAsDirty();\n        drawItemsOnFloorPlan(vm.FloorPlanCanvas);\n\n    }\n\n\n    function drawItemsOnFloorPlan(can) {\n        var ctx = can.getContext('2d');\n        ctx.clearRect(0, 0, vm.floorImage.width, vm.floorImage\n            .height);\n        ctx.globalAlpha = 1.0;\n        ctx.drawImage(vm.floorImage, 0, 0);\n        if(vm.addEntityFormGroup.controls.attributes.value.xPos!==undefined && vm.addEntityFormGroup.controls.attributes.value.yPos!==undefined ){\n              ctx.beginPath();\n              ctx.strokeStyle = \"#00FF00\";\n              ctx.arc(vm.addEntityFormGroup.controls.attributes.value.xPos*vm.floorImage.width, vm.addEntityFormGroup.controls.attributes.value.yPos*vm.floorImage.height, 10, 0, 2 * Math.PI);\n              ctx.fill();\n              ctx.closePath();\n              ctx.lineWidth = 2;\n              ctx.stroke();\n\n            \n        }\n\n\n    }\n\n    function FindPosition(oElement) {\n        if (typeof(oElement.offsetParent) != \"undefined\") {\n            for (var posX = 0, posY =\n                    0; oElement; oElement = oElement\n                .offsetParent) {\n                posX += oElement.offsetLeft;\n                posY += oElement.offsetTop;\n            }\n            return [posX, posY];\n        } else {\n            return [oElement.x, oElement.y];\n        }\n    }\n\n    function GetCoordinates(e) {\n\n        var PosX = 0;\n        var PosY = 0;\n        var ImgPos;\n        ImgPos = FindPosition(vm.FloorPlanCanvas);\n        if (!e) var e = window.event;\n        if (e.pageX || e.pageY) {\n            PosX = e.pageX;\n            PosY = e.pageY;\n        } else if (e.clientX || e.clientY) {\n            PosX = e.clientX + document.body.scrollLeft +\n                document.documentElement.scrollLeft;\n            PosY = e.clientY + document.body.scrollTop +\n                document.documentElement.scrollTop;\n        }\n        PosX = PosX - ImgPos[0];\n        PosY = PosY - ImgPos[1];\n        return [PosX, PosY];\n    }\n\n}",
                "customResources" : [ {
                  "url" : "https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.1.0/rxjs.umd.js"
                } ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "1b389320-a9b4-9165-dda2-941804a622a7"
              }, {
                "name" : "Delete Device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "\n<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form ntForm\">\n    <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"center center\"  style=\"position:relative;background-color:#ffffff\">\n        <span class=\"npFormTitle\">Delete Device</span>\n        <span style=\"position:absolute;right:0\">\n            <button mat-button (click)=\"cancel()\" type=\"button\">\n                <img *ngIf=\"closeIcon\" [src]=\"closeIcon\" />\n            </button>            \n        </span>\n\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"center center\">\n        <div class=\"deleteText\">\n            Are you sure you want to delete device?\n        </div>\n        <div class=\"ntInputControl\" >\n            <div class=\"ntInputFieldLabel\">Device</div>\n            <mat-form-field fxFlex class=\"mat-block ntFormField\">\n                <input matInput formControlName=\"entityName\" readonly>\n            </mat-form-field>\n        </div>\n        <mat-checkbox class=\"example-margin\"\n                      (change)=\"deleteFromSystem($event.checked)\">\n          Remove Device from Database too?\n        </mat-checkbox>\n\n    </div>\n        <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-button mat-raised-button class=\"danger\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid \">\n            Submit\n        </button>\n    </div>\n\n</form>\n",
                "customCss" : ".deleteText{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 29px;\n    text-align: center;\n    color: #000000;\n}\n/*.danger{*/\n/*        padding: 6px 32px;*/\n/*    background: #1B4383;*/\n/*    border-radius: 6px;*/\n/*    color: red;*/\n\n/*}*/\n/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap\n    .get('customDialog'));\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap\n    .get('assetService'));\nlet customerService = $injector.get(widgetContext.servicesMap\n    .get('customerService'));\nlet deviceService = $injector.get(widgetContext.servicesMap\n    .get('deviceService'));\nlet attributeService = $injector.get(widgetContext\n    .servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext\n    .servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext\n    .servicesMap.get('entityGroupService'));\nlet userService = $injector.get(widgetContext\n    .servicesMap.get('userService'));\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate,\n        AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.entity=undefined\n    vm.addEntityFormGroup = vm.fb.group({\n        entityName: [widgetContext.npNameToNormal(entityName)],\n    });\n    vm.shouldDeleteFromSystem=false;\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    \n    vm.deleteFromSystem=function(value){\n        vm.shouldDeleteFromSystem=value\n    }\n    vm.save = function() {\n        console.log(vm.shouldDeleteFromSystem)\n        if(vm.shouldDeleteFromSystem){\n            deviceService.deleteDevice(entityId.id).subscribe(function(){\n                widgetContext.updateAliases();\n                widgetContext.parentDashboard.aliasController.updateAliases();\n\n                vm.dialogRef.close(null);\n            })\n        }\n        else{\n            // name:vm.entity.customerId.id+\"_\"+formValues.componentName,\n            // _device=\n            // vm.entity.customerId=widgetContext.currentUser.tenantId\n            var coreName=widgetContext.npNameToNormal(vm.entity.name)\n            vm.entity.name=widgetContext.currentUser.tenantId+\"_\"+coreName\n            // vm.entity.customerId={entityType:\"TENANT\",id:widgetContext.currentUser.tenantId}\n            // console.log(\"vm.entity: \",vm.entity)\n            // widgetContext.\n            widgetContext.deviceService.saveDevice(vm.entity).subscribe(function(){\n                widgetContext.entityRelationService.findByTo(entityId).subscribe(function(relations){\n                    widgetContext.rxjs.forkJoin([changeOwner(entityId.id),widgetContext.entityRelationService.deleteRelation(relations[0].from,\"Contains\",entityId)])\n                    .subscribe(function(){\n                        \n                        widgetContext.updateAliases();\n                    widgetContext.parentDashboard.aliasController.updateAliases();\n                    vm.dialogRef.close(null);\n        \n                    })\n                })\n                \n            })\n            \n        }\n\n    };\n    loadData();\n    function changeOwner(_deviceId){\n        return widgetContext.http.post(\"/api/owner/TENANT/\"+widgetContext.currentUser.tenantId+\"/DEVICE/\"+_deviceId)\n    }\n    function loadData(){\n        widgetContext.entityService.getEntity(entityId.entityType,entityId.id).subscribe(function(result){\n            console.log(\"delete device: \",result)\n            vm.entity=result;\n\n        })\n    }\n\n    vm.closeIcon =\n        \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7Vi9bhpBEB7Akt2FPEHOTxAsWVY6zm9AngBSWPJPYecJOHfpTCTLtuQily5d7CcI7iwZKeQJcunS5dKBhMDfwBysl927Aw7R8Emwu3d7M9/Ozsz+EK2xxmqRozlxdnZW7HQ6lXw+X0azNBgMHJRFeR3mcrkAZbvf7z9sbW3dNRqNkObAzAQPDw8dFHUQqCiEkhXlcj7Int/c3AQ0A1ITZIt1u906V7VXbJkmLPhH6owiCL1FWaLpQTQ2NzfP01o0FUG2GhT+QNUZfziyyFdYpJnwrYuihv5V5XGAAe2nsWYiwYODg9LGxsZ3hRxb68OsUyWD/IKqG5Hs9Xrvb29v2zQvQd1yIMY+5NECgEwPMuvSDCFzJ26wVoLicz9pYrmP19fXDcoAR0dH7McX0gzgkzs2n8zbhEhAOFxny2VFjsGyWKY0HdFlhNGCMrW/pdmEwH1aAmBJdh+X6yC8bZpqmwXHI+KAoCVBlY2Eb7TilAXF9/4NXyKVXF1dGQmKlS+g5B4j9019JAPUEa3ntmiFHF9SUAhf3NZ9ccqCvHxFdc5zZEcNvwqnjuPj47qFHE9hpVAoeDFyfCmLqm4rQaAsZZiQhH38Aq7Aip5KUiE3XEV4JmxCRMfQarKuxxOEsJJUYxMoOzSvBjpJnRz7GYLsjuLRlL6lRII0SS2/KAEmkjo5m3+qkHV8rDuJ4HjLRCmgkAzV79OS03QV0xCcGQiCsi4c/vSGMoCJoHU0JpycnFQR7b7yKOA/PXASYJ01E8FASodmJMfTagqcJDmyd1R12wlGwYGPyhQD3ufp5NjnTIEjm4M4lERnO5EgScgDRdls2uDq5KK2TlKx0BREx3CK+fxCSQT5gEOTxFm1CUa/4Y5Edsa+/j4iyX34LEJ2VDXdL2DbzUTro3WXkQXUXZNt3belGS+qyDZ9KVBl26xcMD1stVrh7u7uawh4h6azt7dHT09PD5QhJLprXMcsfcYsfTP1syZq+INH8+W0NOROWaY0A9FlRMH24vHxsQMr3isHdDcLS/JAQe5TRI4D6fLy8q+t/yqPnSE2svsLHTs14Ysc3KvoX1MeZ3dwjyCXRXymPdVecc5kK7Sh9D+NyL+i0WBc0tZ0Dgj2uUyvPlTI5ZGnXWUkgW+77pZ6eaQjun5D1ZWlzKGXu5KA19ZFr9/WWGPVeAYPwRcXNwWS8gAAAABJRU5ErkJggg==\"\n\n}",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "9e3de5d8-565b-8bbe-c79c-ee8f5570175c"
              } ]
            },
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "8539c7b3-51f5-fff8-7b41-813b3635926d"
        },
        "f98583e9-b136-3cbe-364f-d4d176c89170" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "markdown_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#f2f2f2",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div id=\"cardContainer\" fxLayout=\"column\" fxLayoutGap=\"10px\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between\" style=\"width:100%\"> \n        <div class=\"section_title\">Alerts</div>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between end\" style=\"width:100%\">\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"start\" fxLayoutGap=\"20px\">\n            <div style=\"height:85px;width:250px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_alerts_filter_customer\"></tb-dashboard-state></div>\n            <div style=\"height:85px;width:250px\"><tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_alerts_filter_asset\"></tb-dashboard-state></div>\n        </div>\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"start\" fxLayoutGap=\"20px\">\n            <tb-dashboard-state style=\"height:50px;width:136px\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"alarm_filter\"></tb-dashboard-state>\n            <tb-dashboard-state style=\"height:50px;width:300px\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"custom_timewindow\"></tb-dashboard-state>\n        </div>\n    </div>\n    <div id=\"tableContainer\" fxLayout=\"column\" fxFill>\n        <div class=\"stateContainer\" flex=\"1\" fxLayout=\"row\" style=\"height:100%\">\n            <!--<tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"test_state\"></tb-dashboard-state>-->\n            <tb-dashboard-state style=\"height:100%\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"page_alerts_table\"></tb-dashboard-state>\n        </div>\n    </div>\n</div>\n\n",
              "markdownCss" : "#tableContainer{\n    height: 100vh;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border: 1px solid #EDEFF4;\n    border-radius: 16px;\n}\n#cardContainer{\n    /*margin: 1vh 1vw 1vh 1vw;*/\n    height: 100%;\n}\n\n\n.section_title{\n        font-family: 'Inter';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 20px;\n    /*line-height: 19px;*/\n    text-transform: capitalize;\n    color: #000000;}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "f98583e9-b136-3cbe-364f-d4d176c89170"
        },
        "af405f92-bf4c-2f3f-fe80-042237e3e0bc" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets_3",
          "typeAlias" : "np_alarm_widget",
          "type" : "alarm",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "realtime" : {
                "interval" : 1000,
                "timewindowMs" : 86400000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "enableSelection" : false,
              "enableSearch" : false,
              "enableSelectColumnDisplay" : false,
              "enableFilter" : false,
              "enableStickyHeader" : false,
              "enableStickyAction" : false,
              "reserveSpaceForHiddenAction" : "false",
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "-createdTime",
              "useRowStyleFunction" : false,
              "filterSubscribeTopic" : "onAlarmFilter"
            },
            "title" : "New NP Alarm Widget",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "90956482-154e-fa94-d2e7-271a4639ef4a",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "createdTime",
                "type" : "alarm",
                "label" : "Created time",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "100%",
                  "useCellStyleFunction" : true,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "console.log(\"@@value: \",value,alarm,ctx)\nvar values=[]\nif(alarm.details[\"thresholds\"][\"mechHealth\"]>alarm.details[\"currentValue\"][\"mechHealth\"]){\n    values.push(\"Engine Health is  low\")\n}\nif(alarm.details[\"thresholds\"][\"operatingHealth\"]>alarm.details[\"currentValue\"][\"engineEfficiency\"]){\n    values.push(\"Operating Condition is  low\")\n}\nif(alarm.details[\"thresholds\"][\"thresholdFuelLoss\"]<alarm.details[\"currentValue\"][\"powerLoss\"]){\n    values.push(\"Fuel loss is High\")\n}\n\nreturn 'Engine Summary: '+values.join(' | ')",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible",
                  "cellStyleFunction" : "return {\"color\": \"#696969\",\n\"font-family\": 'Inter',\n\"font-style\": \"normal\",\n\"font-weight\": 400,\n\"font-size\": \"16px\",\n\"line-height\": \"19px\"\n}\n\n"
                },
                "_hash" : 0.021092237451093787,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              }, {
                "name" : "originator",
                "type" : "alarm",
                "label" : "Originator",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "never"
                },
                "_hash" : 0.2780007688856758,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "startTime",
                "type" : "alarm",
                "label" : "Start time",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.18892537070282378,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "label",
                "type" : "entityField",
                "label" : "Label",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.026510611116066674
              } ]
            },
            "alarmSearchStatus" : "ANY",
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "more_horiz",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "alarmStatusList" : [ ],
            "alarmSeverityList" : [ ],
            "alarmTypeList" : [ ],
            "searchPropagatedAlarms" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "datasources" : [ ],
            "enableDataExport" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "af405f92-bf4c-2f3f-fe80-042237e3e0bc"
        },
        "91ba1200-9d42-b5ac-7790-55ef170fbb68" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets_2",
          "typeAlias" : "tbtimewindow",
          "type" : "timeseries",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false
            },
            "title" : "New TBTimewindow",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "legendConfig" : {
              "direction" : "column",
              "position" : "bottom",
              "sortDataKeys" : false,
              "showMin" : false,
              "showMax" : false,
              "showAvg" : true,
              "showTotal" : false,
              "showLatest" : false
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "91ba1200-9d42-b5ac-7790-55ef170fbb68"
        },
        "d5c04872-66e2-60b5-b295-ed384dde949e" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nt_dropdown",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : { },
            "title" : "Customers",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "OnOptionSelected" : [ {
                "name" : "onItemSelected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "console.log(\"selected customer: \",additionalParams)\n\nvar selectedAssetAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_alert_assets\")\n\nvar targetPageAlertsAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_alerts\")\nconsole.log(\"@@->\",JSON.stringify(widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"]))\nif(additionalParams==\"All\"){\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetNameFilter\"]=\"\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetType\"]=\"ship\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetType\"\n    \n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"]=    {\"type\":\"relationsQuery\",\"resolveMultiple\":true,\"rootStateEntity\":false,\"stateEntityParamName\":null,\"defaultStateEntity\":null,\"rootEntity\":{\"entityType\":\"TENANT\",\"id\":\"9c28c0b0-b106-11ed-a5f7-cdf9aa24320a\"},\"direction\":\"FROM\",\"maxLevel\":10,\"fetchLastLevelOnly\":false,\"filters\":[{\"relationType\":\"Contains\",\"entityTypes\":[\"ASSET\",\"DEVICE\"]}]}\n}\nelse{\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"]={}\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"assetTypes\"]=[\"ship\"]\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"defaultStateEntity\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"direction\"]=\"FROM\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"fetchLastLevelOnly\"]=false\n\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"maxLevel\"]=1\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"relationType\"]=\"Contains\"\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"resolveMultiple\"]=true\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootEntity\"]=additionalParams.entity.id\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootStateEntity\"]=false\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"stateEntityParamName\"]=null\n    widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"type\"]=\"assetSearchQuery\"\n\n\n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"]= {\"type\":\"relationsQuery\",\"resolveMultiple\":true,\"rootStateEntity\":false,\"stateEntityParamName\":null,\"defaultStateEntity\":null,\"rootEntity\":{\"entityType\":\"ASSET\",\"id\":\"f5dc7c90-b404-11ed-b907-3bebb3a56b7b\"},\"direction\":\"FROM\",\"maxLevel\":5,\"fetchLastLevelOnly\":false,\"filters\":[{\"relationType\":\"Contains\",\"entityTypes\":[\"DEVICE\",\"ASSET\"]}]}\n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"][\"rootEntity\"]=additionalParams.entity.id\n    \n}\n\n\n\n\n\nvar entityAliasesToUpdate = widgetContext.aliasController\n    .entityAliases;\n\nvar selectedAssetAlias = widgetContext.aliasController\n    .entityAliases[selectedAssetAliasId];\nentityAliasesToUpdate[selectedAssetAliasId] =\n    selectedAssetAlias\n\nvar tagetPageAlertAlias = widgetContext.aliasController\n    .entityAliases[targetPageAlertsAliasId];\nentityAliasesToUpdate[targetPageAlertsAliasId] =\n    tagetPageAlertAlias\n\n    \nwidgetContext.aliasController.updateEntityAliases(\n    entityAliasesToUpdate);\nwidgetContext.aliasController.updateAliases([\n    selectedAssetAliasId,targetPageAlertsAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "eb936634-06ed-19b2-86c0-9bf50a924a82"
              } ]
            },
            "useDashboardTimewindow" : true,
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "d5c04872-66e2-60b5-b295-ed384dde949e"
        },
        "f05b63d4-cfae-bb44-c461-f70d46113001" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets",
          "typeAlias" : "nt_dropdown",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 5.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "8e3eeb55-2de0-0390-d9ab-ea2c4712c64c",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : { },
            "title" : "Assets",
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "actions" : {
              "OnOptionSelected" : [ {
                "name" : "onItemSelected",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var selectedAssetAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_alert_assets\")\n    \nvar targetPageAlertsAliasId = Object.keys(widgetContext\n    .aliasController.entityAliases).find(key =>\n    widgetContext.aliasController.entityAliases[key]\n    .alias === \"page_alerts\")\nif(widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootEntity\"]==undefined && additionalParams==\"All\"){\n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"] = {\"type\":\"relationsQuery\",\"resolveMultiple\":true,\"rootStateEntity\":false,\"stateEntityParamName\":null,\"defaultStateEntity\":null,\"rootEntity\":{\"entityType\":\"TENANT\",\"id\":\"9c28c0b0-b106-11ed-a5f7-cdf9aa24320a\"},\"direction\":\"FROM\",\"maxLevel\":10,\"fetchLastLevelOnly\":false,\"filters\":[{\"relationType\":\"Contains\",\"entityTypes\":[\"ASSET\",\"DEVICE\"]}]}\n}\nelse{\n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"]= {\"type\":\"relationsQuery\",\"resolveMultiple\":true,\"rootStateEntity\":false,\"stateEntityParamName\":null,\"defaultStateEntity\":null,\"rootEntity\":{\"entityType\":\"ASSET\",\"id\":\"f5dc7c90-b404-11ed-b907-3bebb3a56b7b\"},\"direction\":\"FROM\",\"maxLevel\":5,\"fetchLastLevelOnly\":false,\"filters\":[{\"relationType\":\"Contains\",\"entityTypes\":[\"DEVICE\",\"ASSET\"]}]}\n\n    widgetContext.aliasController.entityAliases[targetPageAlertsAliasId][\"filter\"][\"rootEntity\"]=additionalParams==\"All\"?widgetContext.aliasController.entityAliases[selectedAssetAliasId][\"filter\"][\"rootEntity\"] :additionalParams.entity.id\n\n}\n\n\nvar entityAliasesToUpdate = widgetContext.aliasController\n    .entityAliases;\n\nvar deviceAlias = widgetContext.aliasController\n    .entityAliases[targetPageAlertsAliasId];\nentityAliasesToUpdate[targetPageAlertsAliasId] =\n    deviceAlias\n    \n\nwidgetContext.aliasController.updateEntityAliases(\n    entityAliasesToUpdate);\nwidgetContext.aliasController.updateAliases([\ntargetPageAlertsAliasId]);\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "eb936634-06ed-19b2-86c0-9bf50a924a82"
              } ]
            },
            "pageSize" : 1024,
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "f05b63d4-cfae-bb44-c461-f70d46113001"
        },
        "9c019e35-b695-d764-6113-42e14739d9fc" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "entities_table",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225875,
                  "endTimeMs" : 1685364625875
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "entitiesTitle" : "",
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : true,
              "entityNameColumnTitle" : "",
              "displayEntityLabel" : false,
              "displayEntityType" : true,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "entityName",
              "useRowStyleFunction" : false
            },
            "title" : "New Entities table",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "90956482-154e-fa94-d2e7-271a4639ef4a",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.08744084144619313
              } ]
            } ],
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "9c019e35-b695-d764-6113-42e14739d9fc"
        },
        "975c4569-84fc-c29e-c534-3627eca76652" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets_3",
          "typeAlias" : "np_card_overlay_submit",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1685278225876,
                  "endTimeMs" : 1685364625876
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "getFormGroup" : "console.log(widgetContext)\nreturn widgetContext.$scope.fb.group({\n    isClear: [false],\n    isActive: [false],\n    isAck: [false],\n    isUnack: [false],\n    isCritical: [false],\n    isWarning: [false],\n});\n",
              "markdownTextPattern" : "<div class=\"container\">\r\n<button class=\"filterButton\" (click)=\"isOpen = !isOpen\" type=\"button\" cdkOverlayOrigin #trigger=\"cdkOverlayOrigin\">\r\n  <span class=\"filterIcon\"></span><span>Filter</span>\r\n</button>\r\n<ng-template cdkConnectedOverlayBackdropClass=\"cdk-overlay-transparent-backdrop\" [cdkConnectedOverlayHasBackdrop]=\"true\" (detach)=\"isOpen = false\" (backdropClick)=\"isOpen = false\" cdkConnectedOverlay [cdkConnectedOverlayOrigin]=\"trigger\" [cdkConnectedOverlayOpen]=\"isOpen\">\r\n    <form [formGroup]=\"ctx.form\" style=\"padding: 16px 32px;background: white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);  border-radius: 4px;\" (ngSubmit)=\"onFormSubmit()\" fxLayout=\"column\" >\r\n        <span style=\"font-family: 'Inter'; font-style: normal; font-weight: 500; font-size: 14px; line-height: 17px; text-transform: capitalize; color: #333333;\">Status</span>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isClear\" >Clear</mat-checkbox>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isActive\" >Active</mat-checkbox>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isAck\" >Acknowledged</mat-checkbox>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isUnack\" >UnAcknowledged</mat-checkbox>\r\n        <span style=\"margin-top:16px;font-family: 'Inter'; font-style: normal; font-weight: 500; font-size: 14px; line-height: 17px; text-transform: capitalize; color: #333333;\">Saverity</span>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isCritical\" >Critical</mat-checkbox>\r\n        <mat-checkbox class=\"ntcheckbox\" formControlName=\"isWarning\" >Warning</mat-checkbox>\r\n        <button style=\"margin-top:16px;padding: 16px;background: #1B4383;border-radius: 6px;font-family: 'Poppins';font-style: normal;font-weight: 600;font-size: 16px;line-height: 24px;text-transform: capitalize;color: #FFFFFF;\" (click)=\"ctx.onSubmitClicked(this)\" type=\"button\" >\r\n            Submit\r\n        </button>\r\n    </form> \r\n</ng-template>\r\n</div>",
              "markdownCss" : ".container{\ndisplay: flex; justify-content: center; align-items: center;\n    padding: 0;\n    margin: 0;\n    height: 100%;\n    width: 100%;\n    background: #F2F6FC;\n}\n.filterIcon {\n    display: inline-block;\n    margin-right: 11px;\n    height: 20px;\n    width: 20px;\n    background-position: center;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG+SURBVHgBrZRPTsJAFMbfm2FnBNwZNRH1AHID2+LCnXoEd+6sa1MtgQVL2LkTTyAuTYTWE4gXgJpAdElg44J2fK9BgoT/8CUw05n3/dpOvxkE0paRuUMEDZZQAFD6KlsFuW1kTYLlaKxFvx9YUAhwub6nYQRQndK12yxbOiyh7VTmHVEcCVid+A1BgAo+qE1uanYCFlToVZCkF/eEH6g8XYCU0lkEyh72ct/3u2nx7doeBEInaJwn4podnxXGtSGMvMxgVriGTfemigLOqZtYi8wG5RquZQ/DmMHj/Y/SeLVcUOqC12JNyqdpwBBGtYI8fzCWHCzq1J1qdE//BEQzup9KdOqV51GwrVT2gXJ3QnXXjbJ1Pzgnh4sZGjswqB7M6IEe79Scl3+wY9pVNIcK0pTd3LBfjnqCds1xY/vGBsXAjO0ab23P8Xicv6hAUWJYo2LZo7xjgx3xfZvWqKVkcNa/u0CT227gF8f5xgI9127RBvUUYKI/iOKQ/t0wavMCe2ohYAzm0Cr38nzAXtinBn4m4E4qc0Vhr1M3SeF/XBao0dmRp7ZKB7HerNwWJxVHYPLdCorPOYRCuDVn0C9bzJ0/ZFzokAAAAABJRU5ErkJggg==');\n}\n\n.filterButton {\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    flex-direction: row;\n    background: #F2F6FC;\n    border: none;\n    border-radius: 8px;\n    padding: 12px 16px;\n\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    text-transform: capitalize;\n\n    color: #1B4383;\n}"
            },
            "title" : "New NP Card Overlay submit",
            "actions" : {
              "elementClick" : [ ],
              "onSubmit" : [ {
                "name" : "On Submit",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "const $injector = widgetContext.$scope.$injector;\nconst broadcastService = $injector.get(widgetContext.servicesMap.get('broadcastService'));\n\nvar status=[]\nif(additionalParams[\"isClear\"]==true){\n    status.push(\"CLEARED\")\n}\nif(additionalParams[\"isActive\"]==true){\n    status.push(\"ACTIVE\")\n}\nif(additionalParams[\"isAck\"]==true){\n    status.push(\"ACK\")\n}\nif(additionalParams[\"isUnack\"]==true){\n    status.push(\"UNACK\")\n}\n\nvar severity=[]\nif(additionalParams[\"isCritical\"]==true){\n    severity.push(\"CRITICAL\")\n}\nif(additionalParams[\"isWarning\"]==true){\n    severity.push(\"WARNING\")\n}\n\n\nbroadcastService.broadcast('onAlarmFilter', {\"status\":status,\"severity\":severity});\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "cb1e9d50-8b1c-37f2-171d-9b8f2ed8ac50"
              } ]
            },
            "useDashboardTimewindow" : true,
            "showTitleIcon" : false,
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "975c4569-84fc-c29e-c534-3627eca76652"
        },
        "2d2e81f6-f411-7c6c-6493-599526f2b82c" : {
          "isSystemType" : false,
          "bundleAlias" : "nt_widgets_2",
          "typeAlias" : "alarm_widget",
          "type" : "alarm",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 2592000000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "icon" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcCAYAAAB75n/uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHESURBVHgBtZZPUsIwFMa/BGdkXNWNf1baE1B3yApvwA3AG+AJHE8gNwBPoJ4A3eEKbiDO6DjjhrhRxrGNX2oZC6V/hPa3aecleV/ykrw8gRReqzgUGg0hUBHAobFpDaWBey1wsz/AOGm8SHJcArp0VEeyg54LXMQJLRV4q6IJjQ5naCELAoqrbO8McBVtWuDlGI0NjWusAJ21FkXmBPywaAwzzzyqoDyNo3C4ZLidMT9f2blBw+JhaIdNcqFDA2vCkDSXCjzX4Kw1+xlcxaSGg4hAycvBecDUgx0RKIpCBGQoGmGBOvJCwpn9+vfAnH8q9RHkmrXhffjYhG3fQfkr4M29zM25gSdp6xNdX4uzb1GliwLwgBPJm+egIDjxpuRyKigI835I5vsnFAQT37tkHh+hIMyLJyYOrK8yhsjzFP0y3h3Altsj5nDutjEgLwRGgc/Ig9My6ZYb8+/MylAr37HG7d4DOn9aCfgvnAvLLUXFaFe0K/OfVFkkCsx4rMMqT+dFpmUokwrSxqYKsMLox5UupmThI3+aND49Xev4m64zZOBUAVfgbJndbOp3TNtcP2TAbDZPVVsGacWUjfz00spGww90sod4q0X80gAAAABJRU5ErkJggg==",
              "getCounts" : "var warning=0\nvar critical=0\nwidgetContext.defaultSubscription.alarms.data.forEach(function(e){\n    if(e.severity=='CRITICAL'){\n        critical=critical+1\n    }\n    else{\n        warning=warning+1\n    }\n})\nreturn {warning:warning,critical:critical}"
            },
            "title" : "Alarms",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "90956482-154e-fa94-d2e7-271a4639ef4a",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "createdTime",
                "type" : "alarm",
                "label" : "Created time",
                "color" : "#2196f3",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.021092237451093787
              }, {
                "name" : "originator",
                "type" : "alarm",
                "label" : "Originator",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.2780007688856758
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Type",
                "color" : "#f44336",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.7323586880398418
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Severity",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false
                },
                "_hash" : 0.09927019860088193
              }, {
                "name" : "status",
                "type" : "alarm",
                "label" : "Status",
                "color" : "#607d8b",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.6588418951443418
              } ]
            },
            "alarmSearchStatus" : "ANY",
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "more_horiz",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : false,
            "actions" : { },
            "alarmStatusList" : [ "ACTIVE" ],
            "alarmSeverityList" : [ ],
            "alarmTypeList" : [ ],
            "searchPropagatedAlarms" : false,
            "datasources" : [ ],
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "2d2e81f6-f411-7c6c-6493-599526f2b82c"
        }
      },
      "states" : {
        "default" : {
          "name" : "CustomUI",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "681737cf-0f1f-b4b8-95d7-e35513bdc89d" : {
                  "sizeX" : 25,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                },
                "a04176e5-74c2-2a47-241a-7fcc7ffc28ca" : {
                  "sizeX" : 25,
                  "sizeY" : 1,
                  "row" : 11,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "page_overview" : {
          "name" : "page_overview",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e287b2f9-0382-519b-2d67-b06d986c9f09" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_not_found" : {
          "name" : "page_not_found",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "19ff1d21-1d89-32f4-99ba-28396403dacc" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "customers_map" : {
          "name" : "customers_map",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "788606e3-0854-f6bb-845f-54362f8fa5f5" : {
                  "sizeX" : 24,
                  "sizeY" : 10,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_overview_total_customer_card" : {
          "name" : "page_overview_total_customer_card",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "8b3947f5-880d-e8d8-0ba8-38e2996e10f9" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_overview_total_ship_card" : {
          "name" : "page_overview_total_ship_card",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "3bc1ea3b-ff84-8e6d-0862-982d6eca52b4" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_overview_total_engine_card" : {
          "name" : "page_overview_total_engine_card",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "28dace2b-1aab-61cc-f308-f484797e7f58" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_overview_device_status_card" : {
          "name" : "page_overview_device_status_card",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "231c499d-5b7a-c9da-6765-37d70b1436ed" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_overview_alerts_card" : {
          "name" : "page_overview_alerts_card",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "2d2e81f6-f411-7c6c-6493-599526f2b82c" : {
                  "sizeX" : 10,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "admin_sidebar" : {
          "name" : "admin_sidebar",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "72704b04-e096-21be-d5d8-ca251cbf4785" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_customers" : {
          "name" : "page_customers",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "36f69bbf-fe69-e05e-e6d6-adb66c4e6dbf" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_customer_table" : {
          "name" : "page_customer_table",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "7c8dcfbf-40aa-b058-43c6-694bd14b9a3b" : {
                  "sizeX" : 5,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships_table" : {
          "name" : "page_ships_table",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "2a99c63b-9b1e-4d41-06be-8fe86e7200cb" : {
                  "sizeX" : 8,
                  "sizeY" : 5,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships" : {
          "name" : "page_ships",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "a24a97f9-9296-0463-7e2e-5e4d6168283c" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_devices" : {
          "name" : "page_devices",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "d540330f-c21b-719c-6161-4ee293ef88c9" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_devices_table" : {
          "name" : "page_devices_table",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "af80da55-301a-930f-5deb-d29ef1c488b4" : {
                  "sizeX" : 8,
                  "sizeY" : 5,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships_filter_customer" : {
          "name" : "page_ships_filter_customer",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "f60c1ee6-70b0-8305-c52a-fc438b288981" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_devices_filter_customer" : {
          "name" : "page_devices_filter_customer",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "d94cea19-5095-e30a-59fb-1d350fc2292f" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_devices_filter_ship" : {
          "name" : "page_devices_filter_ship",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "37e34141-e999-5bde-e483-ca94a2199e57" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_devices_filter_device_status" : {
          "name" : "page_devices_filter_device_status",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "91545a6a-299a-e499-a0c7-40da13b83420" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships_table_updated" : {
          "name" : "page_ships_table_updated",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "ebcb1d0c-908c-f7ea-664d-390ddb8edb1f" : {
                  "sizeX" : 9,
                  "sizeY" : 5,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships_component_state" : {
          "name" : "page_ships_component_state",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "60235970-9ec5-c253-e4da-28c873e1b561" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_ships_device_state" : {
          "name" : "page_ships_device_state",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "8539c7b3-51f5-fff8-7b41-813b3635926d" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_alerts" : {
          "name" : "page_alerts",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "f98583e9-b136-3cbe-364f-d4d176c89170" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_alerts_table" : {
          "name" : "page_alerts_table",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "af405f92-bf4c-2f3f-fe80-042237e3e0bc" : {
                  "sizeX" : 10,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "custom_timewindow" : {
          "name" : "custom_timewindow",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "91ba1200-9d42-b5ac-7790-55ef170fbb68" : {
                  "sizeX" : 8,
                  "sizeY" : 5,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_alerts_filter_customer" : {
          "name" : "page_alerts_filter_customer",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "d5c04872-66e2-60b5-b295-ed384dde949e" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "page_alerts_filter_asset" : {
          "name" : "page_alerts_filter_asset",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "f05b63d4-cfae-bb44-c461-f70d46113001" : {
                  "sizeX" : 5,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "test_state" : {
          "name" : "test_state",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "9c019e35-b695-d764-6113-42e14739d9fc" : {
                  "sizeX" : 7,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "alarm_filter" : {
          "name" : "alarm_filter",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "975c4569-84fc-c29e-c534-3627eca76652" : {
                  "sizeX" : 7,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        }
      },
      "entityAliases" : {
        "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb" : {
          "id" : "c876d8d6-3a0d-994a-9a71-9a1be0b9f8cb",
          "alias" : "customers",
          "filter" : {
            "type" : "entityType",
            "resolveMultiple" : true,
            "entityType" : "CUSTOMER"
          }
        },
        "38534fde-33e3-dc5d-f466-1da610545efe" : {
          "id" : "38534fde-33e3-dc5d-f466-1da610545efe",
          "alias" : "Ships",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetType" : "ship",
            "assetNameFilter" : ""
          }
        },
        "e19fba01-5941-e0cd-369f-44c1d9e7ad18" : {
          "id" : "e19fba01-5941-e0cd-369f-44c1d9e7ad18",
          "alias" : "Engines",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetType" : "Engine",
            "assetNameFilter" : ""
          }
        },
        "2f6ee1b0-1cf6-0dd8-b380-d6dfd91aa548" : {
          "id" : "2f6ee1b0-1cf6-0dd8-b380-d6dfd91aa548",
          "alias" : "Devices",
          "filter" : {
            "type" : "entityType",
            "resolveMultiple" : true,
            "entityType" : "DEVICE"
          }
        },
        "3600b7ad-5dee-3f4a-2f0a-d075b9bcd55d" : {
          "id" : "3600b7ad-5dee-3f4a-2f0a-d075b9bcd55d",
          "alias" : "currentUser",
          "filter" : {
            "type" : "singleEntity",
            "resolveMultiple" : false,
            "singleEntity" : {
              "entityType" : "CURRENT_USER",
              "id" : "13814000-1dd2-11b2-8080-808080808080"
            }
          }
        },
        "41431f63-6a2f-c82f-6a92-111f11b1a2fc" : {
          "id" : "41431f63-6a2f-c82f-6a92-111f11b1a2fc",
          "alias" : "page_ship_ships",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetType" : "ship",
            "assetNameFilter" : ""
          }
        },
        "49d88cbd-ba4e-2465-3e38-e03641c609cd" : {
          "id" : "49d88cbd-ba4e-2465-3e38-e03641c609cd",
          "alias" : "page_devices_filter_ship",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetType" : "ship",
            "assetNameFilter" : ""
          }
        },
        "c91eeeac-038b-ad76-5197-1124214a793c" : {
          "id" : "c91eeeac-038b-ad76-5197-1124214a793c",
          "alias" : "page_devices_devices",
          "filter" : {
            "type" : "entityType",
            "resolveMultiple" : true,
            "entityType" : "DEVICE"
          }
        },
        "70b810f0-7943-ba82-42d1-703034ea5da5" : {
          "id" : "70b810f0-7943-ba82-42d1-703034ea5da5",
          "alias" : "page_ships_components",
          "filter" : {
            "type" : "assetSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "assetTypes" : [ "Engine", "Motor", "Clutch", "Zet Peller", "Gearbox", "Turbine" ]
          }
        },
        "17d2fb5c-5ffe-db18-e174-58d1551591d1" : {
          "id" : "17d2fb5c-5ffe-db18-e174-58d1551591d1",
          "alias" : "page_ships_devices",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : {
              "entityType" : "ASSET",
              "id" : "b3a44b90-9b19-11ed-b2da-6d22c7180174"
            },
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "NPGateway", "Oil Condition Sensor", "vBox-Core Engine", "vBox-Core Motor" ]
          }
        },
        "90956482-154e-fa94-d2e7-271a4639ef4a" : {
          "id" : "90956482-154e-fa94-d2e7-271a4639ef4a",
          "alias" : "page_alerts",
          "filter" : {
            "type" : "relationsQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : false,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : {
              "entityType" : "TENANT",
              "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
            },
            "direction" : "FROM",
            "maxLevel" : 10,
            "fetchLastLevelOnly" : false,
            "filters" : [ {
              "relationType" : "Contains",
              "entityTypes" : [ "ASSET", "DEVICE" ]
            } ]
          }
        },
        "8e3eeb55-2de0-0390-d9ab-ea2c4712c64c" : {
          "id" : "8e3eeb55-2de0-0390-d9ab-ea2c4712c64c",
          "alias" : "page_alert_assets",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetType" : "ship",
            "assetNameFilter" : ""
          }
        }
      },
      "filters" : {
        "64cfc8d6-caae-74e8-de85-59b3aa63269e" : {
          "id" : "64cfc8d6-caae-74e8-de85-59b3aa63269e",
          "filter" : "deviceStatus",
          "keyFilters" : [ {
            "key" : {
              "type" : "ATTRIBUTE",
              "key" : "active"
            },
            "valueType" : "BOOLEAN",
            "predicates" : [ {
              "keyFilterPredicate" : {
                "operation" : "OR",
                "predicates" : [ {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : false,
                      "dynamicValue" : null
                    },
                    "type" : "BOOLEAN"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                } ],
                "type" : "COMPLEX"
              },
              "userInfo" : {
                "editable" : true,
                "label" : "",
                "autogeneratedLabel" : true,
                "order" : 0
              }
            } ]
          } ],
          "editable" : true
        }
      },
      "timewindow" : {
        "hideInterval" : false,
        "hideLastInterval" : false,
        "hideQuickInterval" : false,
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "timewindowMs" : 2592000000,
          "quickInterval" : "CURRENT_DAY",
          "interval" : 7200000
        },
        "aggregation" : {
          "type" : "AVG",
          "limit" : 25000
        }
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : true,
        "showDashboardTimewindow" : true,
        "showDashboardExport" : true,
        "toolbarAlwaysOpen" : true,
        "titleColor" : "rgba(0,0,0,0.870588)",
        "showDashboardLogo" : false,
        "dashboardLogoUrl" : null,
        "hideToolbar" : true,
        "showFilters" : true,
        "showUpdateDashboardImage" : true,
        "dashboardCss" : "gridster-item,\ngridster {\n    padding: 0px !important;\n    margin: 0px !important;\n    padding-right: 0px !important;\n    margin-right: 0px !important;\n    height: 100% !important;\n    width: 100% !important;\n}\n\ngridster>gridster-item:nth-of-type(2) {\n    display: none !important;\n}\n\n"
      }
    },
    "customerId" : null,
    "externalId" : null,
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "cd3c0ad0-b3ff-11ed-b907-3bebb3a56b7b"
    },
    "image" : null,
    "mobileHide" : false,
    "mobileOrder" : null,
    "name" : "CusUI Development",
    "ownerId" : null,
    "title" : "CusUI Development"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}