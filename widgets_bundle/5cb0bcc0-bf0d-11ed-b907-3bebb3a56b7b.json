{
  "entityType" : "WIDGETS_BUNDLE",
  "entity" : {
    "alias" : "nt_widgets_3",
    "description" : null,
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGETS_BUNDLE",
      "id" : "5cb0bcc0-bf0d-11ed-b907-3bebb3a56b7b"
    },
    "image" : null,
    "name" : "NT-Widgets-3",
    "title" : "NT-Widgets-3"
  },
  "widgets" : [ {
    "alias" : "headerguages",
    "name" : "HeaderGuages",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 11.5,
      "sizeY" : 6.5,
      "resources" : [ ],
      "templateHtml" : "<div class=\"ntContainer\">\n\n<div class= \"wrapper\" fxLayout=\"row\" *ngIf=\"ctx.slider\" >\n\n\n    <div *ngFor=\"let item of ctx.slider.data\" class=\"card\"  [fxFlex]=\"ctx.slider.flexSize\" fxShrink=\"0\" >\n        <!--{{item | json}}-->\n        <div class=\"sub-card\" *ngIf=\"item!=null\" fxLayout=\"column\" fxLayoutAlign=\"start center\">  \n            <div class=\"barOverflow\"  >\n\n                <div class=\"bar\"  [ngStyle]=\"{'background-image': 'conic-gradient(from -90deg at 50% 100%, '+ (item.data[0][1] < item.dataKey.settings.critical ? '#E93800' : (item.data[0][1] < item.dataKey.settings.warning ? '#EF7F30' : '#0EC23E')) +' 0deg '+(getConigPercentage(item.data[0][1],item.dataKey.settings.min,item.dataKey.settings.max))+'deg, #EDEFF4 '+(getConigPercentage(item.data[0][1],item.dataKey.settings.min,item.dataKey.settings.max))+'deg 180deg'+')'}\">\n                    <div class=\"incircle\" fxLayout=\"column\" >\n                          <div class=\"per\" fxLayoutAlign=\"center\"  [ngStyle]=\"{'top.px': '20'}\">\n                            {{item.data[0][1] | number:'0.0-'+(item.dataKey.decimals!=undefined?item.dataKey.decimals:2)}}{{item.dataKey.units}}\n                          </div>          \n                    </div>\n                </div>\n                <div class=\"range\" >\n                    <div class=\"min\">{{item.dataKey.settings.min}}</div>\n                    <div class=\"time_string\" >{{item.data[0][0]| date: 'dd/MM/yyyy hh:mm a'}}</div>\n                    <div class=\"max\">{{item.dataKey.settings.max}}</div>\n                </div>\n                <span [ngStyle]=\"{'font-size':item.dataKey.label.length<36?'16px':'14px'}\" class=\"label\" fxLayout=\"column\" fxLayoutAlign=\"start center\" [title]=\"item.dataKey.label\">{{item.dataKey.label}}</span>\n\n                            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class=\"dots-wrapper\" fxLayout=\"row\" fxLayoutGap=\"20px\" fxLayoutAlign=\"center center\">\n     <div class=\"dots\" *ngFor=\"let n of ctx.sliderPages; let i= index\"   (click)=\"currentslide(n)\" [ngClass]=\"n==0?'active':'dots'\">\n     </div>\n</div>    \n    \n</div>\n",
      "templateCss" : "#container{\n    overflow: hidden;\n}\n.label{\n    justify-content: center;\n      word-break: word-break;\n      max-height: 36px;\n      overflow: hidden;\n      line-height: 18px;\n      font-weight: 500;\n      font-style: normal;\n      color:#1B4383;\n        text-align: center;\n\n}\n.wrapper{\n    width: 100%;\n    overflow: hidden; \n}\n\n.card {\n    padding: 5px;\n    display: flex;\n    justify-content: center; /* center horizontally */\n    align-items: center; /* center vertically */\n    height:auto;\n    /*border:1px solid green;*/\n}\n.sub-card{\n    /*width:120px;*/\n    height:100%;\n    /*background-color: pink;*/ \n    /*border:1px solid red;*/\n}\n.dots-wrapper{\n   width:100%;\n   /*margin-top:20px;*/\n}\n.dots{\n    width:14px;\n    height:14px;\n    border-radius:50%;\n    border:4px solid #EDEFF4;\n    background-color: #fff;\n    margin-bottom: 2px; \n}\n.active{\n    width:14px;\n    height:14px;\n    border-radius:50%;\n    border:4px solid  #0B2461;\n    background-color: #fff;\n    margin-bottom: 2px; \n}\n\n.barOverflow{\n    width:150px;\n    /*height:60px;*/\n    position: relative;\n    overflow: hidden;\n}\n.bar{\n    width:150px; \n    height:75px;\n    /*border-radius:50%;*/\n    border-radius: 150px 150px 0 0;\n    background-color: #EDEFF4;\n    position: relative;\n    background-image:conic-gradient(orange,green);\n}\n.incircle{\n    /*z-index: 0;*/\n    /*position: absolute;*/\n    /*top:33%;*/\n    /*left:17%;  */\n    /*width:100px;*/\n    /*height:100px; */\n    /*background: #fff;*/\n    /*border-radius:100%;*/\n    /*overflow: hidden; */\n    \n    width: 110px;\n    height: 55px;\n    border-radius: 110px 110px 0 0;\n    background-color: white;\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    \n    \n}\n.time_string{ \n    /*z-index:10;*/\n    display: inline-block;\n    /*position: relative;*/\n    font-size: 10px;\n}\n.per{\n    position: relative; \n    bottom:0;\n}\n.range{\n      display: flex;\n\n    width: 100%;\n    padding:  10px 0;\n    font-size: 12px;\n      justify-content: center; /* horizontally center the contents */\n  align-items: center; /* vertically center the contents */\n  text-align: center; /* center the text within the div */\n}\n\n.min{ \n    display: inline-block;\n    position: absolute;\n    left: 0;\n    /*float:left;*/\n}\n.max{\n    position: absolute;\n    display: inline-block;\n    /*float:right;*/\n    right: 0;\n\n}",
      "controllerScript" : "self.onInit = function() {\n    //  var dots = $($(self.ctx.$container).find('.dots-wrapper')).children()[0]\n    self.ctx.cardWidth=\"150\";\n    self.ctx.$scope.getConigPercentage=function(value,min,max){\n        if(value>=max){\n            return 180;\n        }\n        else if (value<=0){\n            return 0\n        }\n        else {\n             return self.convertRange(value,min,max,0,180);\n        }\n    }\n    self.ctx.slider={\n        sliderItems:0,\n        totalItems:0,\n        flexSize:100,\n        data:[]\n    }\n\n    self.ctx.$scope.currentslide= function(index){\n        \n        var dots = $($(self.ctx.$container).find('.dots-wrapper')).children()  \n         for(var i=0;i<dots.length;i++){\n          if(dots[index]==dots[i]){ \n             dots[i].classList.add('active')\n          }   \n          else{\n             dots[i].classList.remove('active')\n          }\n         }\n        \n        var CardWrapperChild = $($(self.ctx.$container).find('.card')).children();\n        var parent=$(self.ctx.$container).find('.wrapper:eq(0)')\n\n        var child=$(self.ctx.$container).find('.card:eq('+(index*self.ctx.slider.sliderItems)+')')\n        parent.animate({ scrollLeft: child[0].offsetLeft }, 1000);\n    }\n      \n    self.ctx.detectChanges()\n}\n\nself.convertRange=function(value, oldMin, oldMax, newMin, newMax) {\n  const oldRange = oldMax - oldMin;\n  const newRange = newMax - newMin;\n  const newValue = (((value - oldMin) * newRange) / oldRange) + newMin;\n  return newValue;\n}\nself.onDataUpdated = function() {\n\n    \nfor(var i=0;i< self.ctx.data.length;i++)\n  self.ctx.dataItems=[]\n    for(var i=0;i<self.ctx.data.length;i++){\n        if(self.ctx.data[i].data.length > 0){\n            if(self.ctx.data[i].data[0][1] != null && self.ctx.data[i].data[0][1] != \"\")\n            {\n\n                self.ctx.dataItems.push(self.ctx.data[i])\n            }\n        }\n    }\n    \n    self.ctx.slider.data=self.ctx.dataItems\n    // self.ctx.detectChanges();\n    self.onResize()\n} \n\nself.onResize = function() {\n\n\n\n\n\n    var wrapperWidth = $(self.ctx.$container).find('.wrapper:eq(0)').width();\n    var cardWidth = parseInt(self.ctx.cardWidth);\n    self.ctx.slider.sliderItems=parseInt(wrapperWidth / cardWidth)\n    if(wrapperWidth>=(cardWidth+20)*6){\n        self.ctx.slider.sliderItems=6\n    }\n    else{\n        self.ctx.slider.sliderItems=Math.floor(wrapperWidth/(cardWidth+20)) \n    }\n\n    self.ctx.slider.totalItems= (Math.floor((self.ctx.slider.data.length + self.ctx.slider.sliderItems - 1) / self.ctx.slider.sliderItems)) * self.ctx.slider.sliderItems;\n\n    var array=[... self.ctx.slider.data]\n \n    array.push(...Array(self.ctx.slider.totalItems-self.ctx.slider.data.length).fill(null));\n    self.ctx.slider.data=array\n    var slide =Math.ceil(self.ctx.slider.totalItems/self.ctx.slider.sliderItems); \n    self.ctx.sliderPages = Array(slide).fill().map((x,i)=>i)\n\n    self.ctx.slider.flexSize=100/self.ctx.slider.sliderItems\n\n\n\n\n    self.ctx.detectChanges(); \n\n    var container=$(self.ctx.$container).find(\".ntContainer\")\n    var stateContainer=$(self.ctx.$container).closest('tb-dashboard-state')\n    console.log(container,container.height(),stateContainer.height())\n    stateContainer.height(container.height())\n\n    \n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{}",
      "dataKeySettingsSchema" : "{\n    \"schema\":{\n  \"type\": \"object\",\n  \"title\": \"RangeValue\",\n  \"properties\": {\n    \"min\": {\n      \"title\": \"Min\",\n      \"type\": \"number\"\n    },\n   \"max\": {\n      \"title\": \"Max\",\n      \"type\": \"number\"\n    },\n    \"warning\": {\n      \"title\": \"Warning\",\n      \"type\": \"number\"\n    },\n    \"critical\": {\n      \"title\": \"Critical\",\n      \"type\": \"number\"\n    }\n  }\n},\n\"form\":[\n  {\n    \"key\": \"min\",\n    \"type\":\"number\"\n  },\n  {\n    \"key\": \"max\",\n    \"type\":\"number\"\n  },\n  {\n    \"key\": \"warning\",\n    \"type\":\"number\"\n  },\n  {\n    \"key\": \"critical\",\n    \"type\":\"number\"\n  }\n  \n]\n    \n}\n\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"2 Operating Condition\",\"color\":\"#2196f3\",\"settings\":{\"min\":0,\"max\":10,\"warning\":70,\"critical\":50},\"_hash\":0.08144214860532561,\"funcBody\":\"var value = (Math.random()*(10-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":\"status\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#4caf50\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.03943313555564587,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":\"%\",\"decimals\":2,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Condition of Engine Governing and Crank driven Accessories\",\"color\":\"#f44336\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.0975975837200127,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":\"%\",\"decimals\":2,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 4\",\"color\":\"#ffc107\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.22253542460470133,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":\"%\",\"decimals\":2,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 5\",\"color\":\"#607d8b\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.4644370130119564,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 6\",\"color\":\"#9c27b0\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.3899004891366522,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 7\",\"color\":\"#8bc34a\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.2685838363845998,\"funcBody\":\"var value = (Math.random()*(100-0)+0).toFixed(2);\\n\\nreturn value;\\n\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 8\",\"color\":\"#3f51b5\",\"settings\":{\"min\":0,\"max\":100,\"warning\":70,\"critical\":50},\"_hash\":0.22820922309144498,\"funcBody\":\"var value = null;\\nreturn value;\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{},\"title\":\"HeaderGuages\",\"useDashboardTimewindow\":true}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1681795368894,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "0efbade0-dda9-11ed-ae53-6961b2cafa27"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "np_alarm_widget",
    "name" : "NP Alarm Widget",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "alarm",
      "sizeX" : 10.5,
      "sizeY" : 6.5,
      "resources" : [ {
        "url" : "static/thingsboard-extension-widgets.js",
        "isModule" : true
      } ],
      "templateHtml" : "<custom-alarms-table-widget\n    [ctx]=\"ctx\">\n</custom-alarms-table-widget>   \n\n<!--tb-alarms-table-widget-settings-->\n<!--tb-alarms-table-key-settings-->",
      "templateCss" : ".mat-header-row {\r\n  display: none;\r\n}\r\n.test{\r\n    color: red;\r\n}\r\n.timeStamp{\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n    color: #696969;\r\n}\r\n.entityName{\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 20px;\r\n    line-height: 24px;\r\n    color: #000000;\r\n}\r\n.actionButton{\r\n    padding: 10px 16px ;\r\n    background: #FFFFFF;\r\n    border: 1px solid #1B4383;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    color: #1B4383;\r\n    font-weight: 600;\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n}\r\n.severity_CRITICAL{\r\n    background: #FFF5F2;\r\n    border-radius: 8px;\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 19px;\r\n    text-transform: capitalize;\r\n    color: #E93800;\r\npadding: 10px 16px;\r\n}\r\n.severity_WARNING, .severity_INDETERMINATE,.severity_MAJOR,.severity_MINOR{\r\n    padding: 10px 16px;\r\n\r\n    background: #FFF5F2;\r\n    border-radius: 8px;\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 19px;\r\n    text-transform: capitalize;\r\n    color: #EF7F30;\r\n}\r\n\r\n\r\n.entityType_DEVICE{\r\n    padding: 10px 16px;\r\n    background: rgba(60, 109, 238, 0.05);\r\n    border-radius: 8px;\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 19px;\r\n    text-transform: capitalize;\r\n    color: #3C6DEE;\r\n}\r\n.entityType_ASSET{\r\n    padding: 10px 16px;\r\n    background: rgba(26, 190, 161, 0.05);\r\n    border-radius: 8px;\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 19px;\r\n    text-transform: capitalize;\r\n    color: #1ABEA1;\r\n}\r\n.customAlarmCell {\r\n    padding: 24px 10px !important; \r\n}\r\n.ack_clear_time{\r\n    font-family: 'Inter';\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n    color: #1B4383;\r\n}\r\n",
      "controllerScript" : "self.onInit = function() {\n    const $injector = self.ctx.$scope.$injector;\n    const broadcastService = $injector.get(self.ctx.servicesMap.get('broadcastService'));\n\n    if(self.ctx.settings.filterSubscribeTopic!=undefined || self.ctx.settings.filterSubscribeTopic=='')\n    self.ctx.subHandle=broadcastService.on(self.ctx.settings.filterSubscribeTopic, function(evt, msg){\n        if(msg!=undefined && msg.length>=1){\n            self.ctx.$scope.alarmsTableWidget.pageLink.statusList = msg[0][\"status\"];\n            self.ctx.$scope.alarmsTableWidget.pageLink.severityList = msg[0][\"severity\"];\n            \n        }\n        self.ctx.$scope.alarmsTableWidget.updateData();\n    });\n}\n\nself.onDataUpdated = function() {\n    self.ctx.$scope.alarmsTableWidget.onDataUpdated();\n}\n \nself.actionSources = function() {\n    return {\n        'actionCellButton': {  \n            name: 'widget-action.action-cell-button',\n            multiple: true,\n            hasShowCondition: true\n        },\n        'rowClick': {\n            name: 'widget-action.row-click',\n            multiple: false\n        }\n    };\n}\n\nself.onDestroy = function() {\n                self.ctx.subHandle.unsubscribe();\n}\n",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"AlarmTableSettings\",\n        \"properties\": {\n            \"alarmsTitle\": {\n                \"title\": \"Alarms table title\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n        \"filterSubscribeTopic\":{\n            \"title\":\"Filter Subscribe Topic\",\n            \"type\":\"string\"\n            },\n            \"enableSelection\": {\n                \"title\": \"Enable alarms selection\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableSearch\": {\n                \"title\": \"Enable alarms search\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableSelectColumnDisplay\": {\n                \"title\": \"Enable select columns to display\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableFilter\": {\n                \"title\": \"Enable alarm filter\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableStickyHeader\": {\n                \"title\": \"Always display header\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableStickyAction\": {\n                \"title\": \"Always display actions column\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"reserveSpaceForHiddenAction\": {\n                \"title\": \"Hidden cell button actions display mode\",\n                \"type\": \"string\",\n                \"default\": \"true\"\n            },\n            \"displayDetails\": {\n                \"title\": \"Display alarm details\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"allowAcknowledgment\": {\n                \"title\": \"Allow alarms acknowledgment\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"allowClear\": {\n                \"title\": \"Allow alarms clear\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"displayPagination\": {\n                \"title\": \"Display pagination\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"defaultPageSize\": {\n                \"title\": \"Default page size\",\n                \"type\": \"number\",\n                \"default\": 10\n            },\n            \"defaultSortOrder\": {\n                \"title\": \"Default sort order\",\n                \"type\": \"string\",\n                \"default\": \"-createdTime\"\n            },\n            \"useRowStyleFunction\": {\n                \"title\": \"Use row style function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"rowStyleFunction\": {\n                \"title\": \"Row style function: f(alarm, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        \"alarmsTitle\",\n        \"filterSubscribeTopic\",\n        \"enableSelection\",\n        \"enableSearch\",\n        \"enableSelectColumnDisplay\",\n        \"enableFilter\",\n        \"enableStickyHeader\",\n        \"enableStickyAction\",\n        {\n          \"key\": \"reserveSpaceForHiddenAction\",\n          \"type\": \"rc-select\",\n          \"multiple\": false,\n          \"items\": [\n            {\n              \"value\": \"true\",\n              \"label\": \"Show empty space instead of hidden cell button action\"\n            },\n            {\n              \"value\": \"false\",\n              \"label\": \"Don't reserve space for hidden action buttons\"\n            }\n          ]\n        },\n        \"displayDetails\",\n        \"allowAcknowledgment\",\n        \"allowClear\",\n        \"displayPagination\",\n        \"defaultPageSize\",\n        \"defaultSortOrder\",\n        \"useRowStyleFunction\",\n        {\n            \"key\": \"rowStyleFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/alarm/row_style_fn\",\n            \"condition\": \"model.useRowStyleFunction === true\"\n        }\n    ]\n}",
      "dataKeySettingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"DataKeySettings\",\n        \"properties\": {\n            \"columnWidth\": {\n                \"title\": \"Column width (px or %)\",\n                \"type\": \"string\",\n                \"default\": \"0px\"\n            },\n            \"useCellStyleFunction\": {\n                \"title\": \"Use cell style function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"cellStyleFunction\": {\n                \"title\": \"Cell style function: f(value, alarm, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"useCellContentFunction\": {\n                \"title\": \"Use cell content function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"cellContentFunction\": {\n                \"title\": \"Cell content function: f(value, alarm, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"defaultColumnVisibility\": {\n                \"title\": \"Default column visibility\",\n                \"type\": \"string\",\n                \"default\": \"visible\"\n            },\n            \"columnSelectionToDisplay\": {\n                \"title\": \"Column selection in 'Columns to Display'\",\n                \"type\": \"string\",\n                \"default\": \"enabled\"\n            },\n            \"columnExportOption\": {\n                \"title\": \"Include column in export\",\n                \"type\": \"string\",\n                \"default\": \"onlyVisible\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        \"columnWidth\",\n        \"useCellStyleFunction\",\n        {\n            \"key\": \"cellStyleFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/alarm/cell_style_fn\",\n            \"condition\": \"model.useCellStyleFunction === true\"\n        },\n        \"useCellContentFunction\",\n        {\n            \"key\": \"cellContentFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/alarm/cell_content_fn\",\n            \"condition\": \"model.useCellContentFunction === true\"\n        },\n        {\n            \"key\": \"defaultColumnVisibility\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [\n                {\n                    \"value\": \"visible\",\n                    \"label\": \"Visible\"\n                },\n                {\n                    \"value\": \"hidden\",\n                    \"label\": \"Hidden\"\n                }    \n            ]\n        },\n        {\n            \"key\": \"columnSelectionToDisplay\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [\n                {\n                    \"value\": \"enabled\",\n                    \"label\": \"Enabled\"\n                },\n                {\n                    \"value\": \"disabled\",\n                    \"label\": \"Disabled\"\n                }    \n            ]\n        },\n        {\n            \"key\": \"columnExportOption\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [\n                {\n                    \"value\": \"always\",\n                    \"label\": \"Always\"\n                },\n                {\n                    \"value\": \"onlyVisible\",\n                    \"label\": \"Only if column visible\"\n                },\n                {\n                    \"value\": \"never\",\n                    \"label\": \"Never\"\n                }     \n            ]\n        }\n    ]\n}",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "",
      "defaultConfig" : "{\"timewindow\":{\"realtime\":{\"interval\":1000,\"timewindowMs\":86400000},\"aggregation\":{\"type\":\"NONE\",\"limit\":200}},\"showTitle\":true,\"backgroundColor\":\"rgb(255, 255, 255)\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"4px\",\"settings\":{\"enableSelection\":false,\"enableSearch\":false,\"enableSelectColumnDisplay\":false,\"enableFilter\":true,\"enableStickyHeader\":true,\"enableStickyAction\":false,\"reserveSpaceForHiddenAction\":\"false\",\"displayDetails\":false,\"allowAcknowledgment\":true,\"allowClear\":true,\"displayPagination\":true,\"defaultPageSize\":10,\"defaultSortOrder\":\"-createdTime\",\"useRowStyleFunction\":false},\"title\":\"NP Alarm Widget\",\"dropShadow\":false,\"enableFullscreen\":false,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400,\"padding\":\"5px 10px 5px 10px\"},\"useDashboardTimewindow\":true,\"showLegend\":false,\"alarmSource\":{\"type\":\"function\",\"name\":\"alarms\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"createdTime\",\"type\":\"alarm\",\"label\":\"Created time\",\"color\":\"#2196f3\",\"settings\":{\"columnWidth\":\"100%\",\"useCellStyleFunction\":true,\"useCellContentFunction\":true,\"cellContentFunction\":\"console.log(value,alarm) \\nreturn 'Engine Summery: Mechanical Health(30%) < 25%(threshold)  |  Operating Condition(30%) < 25%(threshold)  |  Fuel Loss(3%) > 4%(threshold)'\",\"defaultColumnVisibility\":\"visible\",\"columnSelectionToDisplay\":\"enabled\",\"columnExportOption\":\"onlyVisible\",\"cellStyleFunction\":\"return {\\\"color\\\": \\\"#696969\\\",\\n\\\"font-family\\\": 'Inter',\\n\\\"font-style\\\": \\\"normal\\\",\\n\\\"font-weight\\\": 400,\\n\\\"font-size\\\": \\\"16px\\\",\\n\\\"line-height\\\": \\\"19px\\\"\\n}\\n\\n\"},\"_hash\":0.021092237451093787,\"units\":null,\"decimals\":null,\"funcBody\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"originator\",\"type\":\"alarm\",\"label\":\"Originator\",\"color\":\"#4caf50\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"useCellContentFunction\":false,\"defaultColumnVisibility\":\"hidden\",\"columnSelectionToDisplay\":\"enabled\",\"columnExportOption\":\"never\"},\"_hash\":0.2780007688856758,\"units\":null,\"decimals\":null,\"funcBody\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"startTime\",\"type\":\"alarm\",\"label\":\"Start time\",\"color\":\"#f44336\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"useCellContentFunction\":false,\"defaultColumnVisibility\":\"hidden\",\"columnSelectionToDisplay\":\"enabled\",\"columnExportOption\":\"onlyVisible\"},\"_hash\":0.18892537070282378,\"units\":null,\"decimals\":null,\"funcBody\":null,\"usePostProcessing\":null,\"postFuncBody\":null}]},\"alarmSearchStatus\":\"ANY\",\"alarmsPollingInterval\":5,\"showTitleIcon\":false,\"titleIcon\":\"more_horiz\",\"iconColor\":\"rgba(0, 0, 0, 0.87)\",\"iconSize\":\"24px\",\"titleTooltip\":\"\",\"widgetStyle\":{},\"displayTimewindow\":true,\"actions\":{},\"alarmStatusList\":[],\"alarmSeverityList\":[],\"alarmTypeList\":[],\"searchPropagatedAlarms\":false,\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\"}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1679893945848,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "f687e780-cc5d-11ed-9f61-7740f095b0ed"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "np_card_overlay_submit",
    "name" : "NP Card Overlay submit",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7.5,
      "sizeY" : 3,
      "resources" : [ ],
      "templateHtml" : "<tb-markdown-widget \n    [ctx]=\"ctx\">\n</tb-markdown-widget>",
      "templateCss" : "#container {\n    overflow: auto;\n}\n.tb-markdown-view{\n    height: 100%;\n}",
      "controllerScript" : "self.onInit = function() {\n    self.ctx.getFormGroup =\n        new Function([\"widgetContext\"], self.ctx.settings.getFormGroup)\n   self.ctx.$scope.markdownWidget.ctx.form=self.ctx.getFormGroup(self.ctx)\n   self.ctx.$scope.markdownWidget.ctx.onSubmitClicked=function(item){\n        item.isOpen=false\n        var submitAction = self.ctx.actionsApi.getActionDescriptors('onSubmit');\n            if (submitAction.length>=1 ) {\n                self.ctx.actionsApi.handleWidgetAction(\n                    null, submitAction[0], undefined,\n                    undefined,self.ctx.$scope.markdownWidget.ctx.form.value);\n            }\n   }\n} \n\nself.onDataUpdated = function() {\n   self.ctx.$scope.markdownWidget.onDataUpdated();\n}\n\nself.actionSources = function() {\n    return {\n        'elementClick': {\n            name: 'widget-action.element-click',\n            multiple: true\n        },\n        'onSubmit':{\n            name: 'On Submit',\n            multiple: false\n        }\n    };\n}\n\nself.typeParameters = function() {\n    return {\n        dataKeysOptional: true,\n        datasourcesOptional: true,\n        hasDataPageLink: true\n    };\n}\n\nself.onDestroy = function() {\n}\n\n",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Markdown/HTML card\",\n        \"properties\": {\n            \"markdownTextPattern\": {\n                \"title\": \"Markdown/HTML pattern (markdown or HTML with variables, for ex. '${entityName} or ${keyName} - some text.')\",\n                \"type\": \"string\",\n                \"default\": \"# Markdown/HTML card \\n - **Current entity**: **${entityName}**. \\n - **Current value**: **${Random}**.\"\n            },\n            \"markdownCss\": {\n                \"title\": \"Markdown/HTML CSS\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"useMarkdownTextFunction\": {\n                \"title\": \"Use markdown/HTML value function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"markdownTextFunction\": {\n                \"title\": \"Markdown/HTML value function: f(data)\",\n                \"type\": \"string\",\n                \"default\": \"return '# Some title\\\\n - Entity name: ' + data[0]['entityName'];\"\n            },\n            \"getFormGroup\": {\n                \"title\": \"Dynamic form group(widgetContext)\",\n                \"type\": \"string\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n          {\n            \"key\": \"getFormGroup\",\n            \"type\": \"javascript\"\n        },\n        \"useMarkdownTextFunction\",\n        {\n            \"key\": \"markdownTextPattern\",\n            \"type\": \"markdown\",\n            \"condition\": \"model.useMarkdownTextFunction !== true\"\n        },\n        {\n            \"key\": \"markdownTextFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/markdown/markdown_text_fn\",\n            \"condition\": \"model.useMarkdownTextFunction === true\"\n        },\n        {\n            \"key\": \"markdownCss\",\n            \"type\": \"css\"\n        }\n    ]\n}\n",
      "dataKeySettingsSchema" : "{}\n",
      "settingsDirective" : "",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"0\",\"settings\":{\"useMarkdownTextFunction\":false,\"markdownTextPattern\":\"<div class=\\\"container\\\">\\r\\n<button class=\\\"filterButton\\\" (click)=\\\"isOpen = !isOpen\\\" type=\\\"button\\\" cdkOverlayOrigin #trigger=\\\"cdkOverlayOrigin\\\">\\r\\n  <span class=\\\"filterIcon\\\"></span><span>Filter</span>\\r\\n</button>\\r\\n<ng-template cdkConnectedOverlayBackdropClass=\\\"cdk-overlay-transparent-backdrop\\\" [cdkConnectedOverlayHasBackdrop]=\\\"true\\\" (detach)=\\\"isOpen = false\\\" (backdropClick)=\\\"isOpen = false\\\" cdkConnectedOverlay [cdkConnectedOverlayOrigin]=\\\"trigger\\\" [cdkConnectedOverlayOpen]=\\\"isOpen\\\">\\r\\n    <form [formGroup]=\\\"ctx.form\\\" style=\\\"padding: 16px 32px;background: white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);  border-radius: 4px;\\\" (ngSubmit)=\\\"onFormSubmit()\\\" fxLayout=\\\"column\\\" >\\r\\n        <span style=\\\"font-family: 'Inter'; font-style: normal; font-weight: 500; font-size: 14px; line-height: 17px; text-transform: capitalize; color: #333333;\\\">Status</span>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isClear\\\" >Clear</mat-checkbox>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isActive\\\" >Active</mat-checkbox>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isAck\\\" >Acknowledged</mat-checkbox>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isUnack\\\" >UnAcknowledged</mat-checkbox>\\r\\n        <span style=\\\"margin-top:16px;font-family: 'Inter'; font-style: normal; font-weight: 500; font-size: 14px; line-height: 17px; text-transform: capitalize; color: #333333;\\\">Saverity</span>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isCritical\\\" >Critical</mat-checkbox>\\r\\n        <mat-checkbox class=\\\"ntcheckbox\\\" formControlName=\\\"isWarning\\\" >Warning</mat-checkbox>\\r\\n        <button style=\\\"margin-top:16px;padding: 16px;background: #1B4383;border-radius: 6px;font-family: 'Poppins';font-style: normal;font-weight: 600;font-size: 16px;line-height: 24px;text-transform: capitalize;color: #FFFFFF;\\\" (click)=\\\"ctx.onSubmitClicked(this)\\\" type=\\\"button\\\" >\\r\\n            Submit\\r\\n        </button>\\r\\n    </form> \\r\\n</ng-template>\\r\\n</div>\",\"markdownCss\":\".container{\\ndisplay: flex; justify-content: center; align-items: center;\\n    padding: 0;\\n    margin: 0;\\n    height: 100%;\\n    width: 100%;\\n    background: #F2F6FC;\\n}\\n.filterIcon {\\n    display: inline-block;\\n    margin-right: 11px;\\n    height: 20px;\\n    width: 20px;\\n    background-position: center;\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG+SURBVHgBrZRPTsJAFMbfm2FnBNwZNRH1AHID2+LCnXoEd+6sa1MtgQVL2LkTTyAuTYTWE4gXgJpAdElg44J2fK9BgoT/8CUw05n3/dpOvxkE0paRuUMEDZZQAFD6KlsFuW1kTYLlaKxFvx9YUAhwub6nYQRQndK12yxbOiyh7VTmHVEcCVid+A1BgAo+qE1uanYCFlToVZCkF/eEH6g8XYCU0lkEyh72ct/3u2nx7doeBEInaJwn4podnxXGtSGMvMxgVriGTfemigLOqZtYi8wG5RquZQ/DmMHj/Y/SeLVcUOqC12JNyqdpwBBGtYI8fzCWHCzq1J1qdE//BEQzup9KdOqV51GwrVT2gXJ3QnXXjbJ1Pzgnh4sZGjswqB7M6IEe79Scl3+wY9pVNIcK0pTd3LBfjnqCds1xY/vGBsXAjO0ab23P8Xicv6hAUWJYo2LZo7xjgx3xfZvWqKVkcNa/u0CT227gF8f5xgI9127RBvUUYKI/iOKQ/t0wavMCe2ohYAzm0Cr38nzAXtinBn4m4E4qc0Vhr1M3SeF/XBao0dmRp7ZKB7HerNwWJxVHYPLdCorPOYRCuDVn0C9bzJ0/ZFzokAAAAABJRU5ErkJggg==');\\n}\\n\\n.filterButton {\\n    display: flex;\\n    justify-content: center;\\n    align-content: center;\\n    flex-direction: row;\\n    background: #F2F6FC;\\n    border: none;\\n    border-radius: 8px;\\n    padding: 12px 16px;\\n\\n    font-family: 'Inter';\\n    font-style: normal;\\n    font-weight: 500;\\n    font-size: 16px;\\n    line-height: 19px;\\n    text-transform: capitalize;\\n\\n    color: #1B4383;\\n}\",\"getFormGroup\":\"return widgetContext.$scope.fb.group({\\n    isClear: [false],\\n    isActive: [false],\\n    isAck: [false],\\n    isUnack: [false],\\n    isCritical: [false],\\n    isWarning: [false],\\n});\\n\"},\"title\":\"NP Card Overlay submit\",\"actions\":{\"elementClick\":[],\"onSubmit\":[{\"name\":\"On Submit\",\"icon\":\"more_horiz\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"custom\",\"customFunction\":\"const $injector = widgetContext.$scope.$injector;\\nconst broadcastService = $injector.get(widgetContext.servicesMap.get('broadcastService'));\\n\\nvar status=[]\\nif(additionalParams[\\\"isClear\\\"]==true){\\n    status.push(\\\"CLEARED\\\")\\n}\\nif(additionalParams[\\\"isActive\\\"]==true){\\n    status.push(\\\"ACTIVE\\\")\\n}\\nif(additionalParams[\\\"isAck\\\"]==true){\\n    status.push(\\\"ACK\\\")\\n}\\nif(additionalParams[\\\"isUnack\\\"]==true){\\n    status.push(\\\"UNACK\\\")\\n}\\n\\nvar severity=[]\\nif(additionalParams[\\\"isCritical\\\"]==true){\\n    severity.push(\\\"CRITICAL\\\")\\n}\\nif(additionalParams[\\\"WARNING\\\"]==true){\\n    severity.push(\\\"UNACK\\\")\\n}\\n\\n\\nbroadcastService.broadcast('onAlarmFilter', {\\\"status\\\":status,\\\"severity\\\":severity});\\n\",\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"cb1e9d50-8b1c-37f2-171d-9b8f2ed8ac50\"}]},\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{\"height\":\"100%\"},\"widgetCss\":\"\",\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":false}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1679998643667,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "bb4b4230-cd51-11ed-ae53-6961b2cafa27"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "np_dynamic_keys_chart",
    "name" : "NP Dynamic Keys Chart",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "timeseries",
      "sizeX" : 8,
      "sizeY" : 5,
      "resources" : [ {
        "url" : "https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"
      } ],
      "templateHtml" : "<!--tb-flot-line-widget-settings-->\r\n<!--<div id=\"header\" fxLayout=\"row\" -->\r\n<!--    fxLayoutAlign=\"space-between start\"  >-->\r\n<!--    <div class=\"widgetTitle\" >{{ctx.widgetConfig.title}}-->\r\n<!--    </div>-->\r\n<!--    <span *ngIf=\"ctx.widget.config.actions!==undefined\"-->\r\n<!--        fxLayout=\"row\" fxLayoutGap=\"20px\" class=\"actions\">-->\r\n<!--        <ng-container-->\r\n<!--            *ngFor=\"let action of ctx.widget.config.actions.action_button ; let i = index\">-->\r\n            <!--<mat-icon (click)=\"actionClicked($event,i,item)\">{{action.icon}}</mat-icon>-->\r\n<!--            <img *ngIf=\"ctx.customActionIcons!==undefined && ctx.customActionIcons[action.name]!=undefined\"-->\r\n<!--                [src]=\"ctx.customActionIcons[action.name]\"-->\r\n<!--                alt=\"\"-->\r\n<!--                (click)=\"actionClicked($event,i,item)\">-->\r\n<!--            <mat-icon (click)=\"actionClicked($event,i,item)\"-->\r\n<!--                *ngIf=\"ctx.customActionIcons==undefined ||  ctx.customActionIcons[action.name]==undefined\">-->\r\n<!--                {{action.icon}}-->\r\n<!--            </mat-icon>-->\r\n\r\n\r\n\r\n<!--        </ng-container>-->\r\n\r\n<!--        <mat-icon (click)=\"turnToFullScreen($event)\">-->\r\n<!--            {{ctx.dashboardWidget.isFullscreen?'fullscreen_exit':'fullscreen'}}-->\r\n<!--        </mat-icon>-->\r\n\r\n<!--    </span>-->\r\n\r\n<!--</div>-->\r\n<!--<div id=\"flotcontainer\" style=\"height:100%\">-->\r\n<!--</div>-->",
      "templateCss" : "mat-icon{\n    cursor: pointer;\n}\n.actions{\n    padding: 0 15px 0 0 ;\n}\n.nt-actions{\n    display: inline-block;   \n}\n.widgetTitle{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    color: #696969;\n}\n.legend {\n    font-size: 13px;\n    line-height: 10px;\n}\n\n.legend table { \n    border-spacing: 0px;\n    border-collapse: separate;\n}\n\n\n.mouse-events .flot-overlay {\n    cursor: crosshair; \n}\n\n.tooltip {\n    border-radius: 100px ;\n    color: red;\n}\n\n.tb-legend-keys td .tb-legend-line{\n    height: 8px !important;\n    width: 21px !important;\n}\n.tb-legend-label{\n    font-family: 'Inter' !important; \n    font-style: normal !important;\n    font-weight: 400 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    color: #4F4F4F !important;\n}\n.tb-legend-value{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #696969;\n}\n\n.tb-legend-header th{\n    padding-top: 10px !important;\n    /*padding-bottom: 24px !important;*/\n    font-family: 'Inter' !important;\n    font-style: normal !important;\n    font-weight: 500 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    /*text-align: center !important;*/\n    text-transform: capitalize !important;\n    color: #000000 !important;\n}\n.tb-legend-keys td{\n    padding:  12px !important;\n    \n}\ntb-legend{\n    max-height: 181px !important;\n}",
      "controllerScript" : "self.onInit = function() {\n    // self.ctx.$containerBackup=self.ctx.$container\n    // self.ctx.$container = self.ctx.$container.find(\"#flotcontainer\")  \n    self.subscribeDynamicKeysData()\n\t$(\"<div id='tooltip\"+self.ctx.widget.id+\"' class='tooltip'></div>\").css({\n\t\t\tposition: \"absolute\",\n\t\t\tdisplay: \"none\",  \n\t\t\tborder: \"1px solid #BEBEBE\", \n\t\t\t\"border-radius\":\"8px\",\n\t\t\tpadding: \"24px\", \n\t\t\t\"padding-bottom\":\"8px\",\n\t\t\t\"background-color\": \"#FFFFFF\",\n\t\t\tzIndex:10000\n    }).appendTo(\"body\");\n\n    // self.ctx.$scope.turnToFullScreen= function($event){\n    //     $event.stopPropagation(); \n    //     self.ctx.dashboardWidget.isFullscreen =!self.ctx.dashboardWidget.isFullscreen;\n    //     self.ctx.detectChanges();\n    //     self.ctx.$containerBackup.width('100%');\n    //     self.onResize();\n    // }\n\t   // self.ctx.$scope.actionClicked=function($event,i,item){\n    //         $event.stopPropagation();\n    //         var menuAction = ctx.actionsApi\n    //             .getActionDescriptors(\n    //                 'action_button');\n    //         if (menuAction != undefined) {\n    //             self.ctx.actionsApi.handleWidgetAction(\n    //                 null, menuAction[i], item.entity.id,\n    //                 item.entity.name,\n    //                 item);\n    //         }\n\n        \n    // }\n\n}\n\nself.subscribeDynamicKeysData=function(){\n        self.ctx.http.get(\"/api/plugins/telemetry/\"+(self.ctx.datasources[0].type==\"function\"?\"ASSET\":self.ctx.datasources[0].entityType)+\"/\"+(self.ctx.datasources[0].type==\"function\"?\"0a5ebb10-b405-11ed-b907-3bebb3a56b7b\":self.ctx.datasources[0].entityId)+\"/keys/timeseries\").subscribe(function (result){\n        var keys=result.filter(e=>e.startsWith(self.ctx.settings.keyPrefix))\n        let datasources = self.ctx.defaultSubscription.configuredDatasources;\n        let datakeys = datasources[0].dataKeys=[];\n        // let protokey = {\"name\":\"Bearing_cylinderValues_0\",\"type\":\"timeseries\",\"label\":\"Bearing_cylinderValues_0\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.0810279353074943};\n        // let protokey = ctx.widgetConfig.datasources[0].dataKeys[0];\n\n        // console.log(JSON.stringify(protokey)) \n        \n        if(self.ctx.datasources[0].type==\"function\"){\n            protokey = {\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.6974252438991668,\"funcBody\":\"return Math.round(100*Math.random(time));\"}\n        }\n        else{ \n            protokey = {\"name\":\"Bearing_cylinderValues_0\",\"type\":\"timeseries\",\"label\":\"Bearing_cylinderValues_0\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.0810279353074943};\n            \n        } \n        var colors=generateColors(keys.length)\n        for (var i = 0; i < keys.length; i++) {\n            var key_split=keys[i].split(\"_\")\n        let objClone = Object.assign({},protokey) \n            // objClone.name = objClone.pattern =keys[i];\n            objClone.name =keys[i];\n            objClone.label = \"C\"+key_split.pop();\n            objClone.color = colors[i]; \n            objClone._hash = Math.random();\n            datakeys.push(objClone);\n        }\n        // ctx.widgetConfig.datasources[0].dataKeys=Object.assign({},datakeys) \n \n        // self.ctx.defaultSubscription.initDataSubscription(); \n        var test=self.ctx.defaultSubscription.initDataSubscription()\n        test.subscribe(function(result){\n        // self.ctx.defaultSubscription.entityDataListeners[1].subscription.pageData = Object.assign({},self.ctx.defaultSubscription.entityDataListeners[0].subscription.pageData) \n\n        // self.ctx.defaultSubscription.update() \n        // var test=self.ctx.defaultSubscription.entityDataListeners.shift()\n        // test.subscription.unsubscribe()\n        \n        // self.ctx.newSubInitialized=false\n        // self.ctx.flot = new TbFlot(self.ctx); \n        // self.initFlotEvents();  \n\n        // self.initializeNewSubscription();\n        // self.ctx.flot.redrawPlot();\n        self.ctx.defaultSubscription.entityDataListeners[1].subscription.pageData = Object.assign({},self.ctx.defaultSubscription.entityDataListeners[0].subscription.pageData) \n        self.ctx.defaultSubscription.update() \n        var test=self.ctx.defaultSubscription.entityDataListeners.shift()\n        test.subscription.unsubscribe()\n\n        self.ctx.flot = new TbFlot(self.ctx); \n        self.initFlotEvents();  \n        self.initializeNewSubscription();\n        self.ctx.flot.redrawPlot();\n\n        })\n        \n        // self.ctx.defaultSubscription.entityDataListeners[1].subscription.pageData = Object.assign({},self.ctx.defaultSubscription.entityDataListeners[0].subscription.pageData) \n        // self.ctx.defaultSubscription.update() \n        // self.ctx.defaultSubscription.entityDataListeners.shift()\n    \n        // self.ctx.flot = new TbFlot(self.ctx); \n        // self.initFlotEvents();  \n        // self.ctx.flot.update();\n        // self.ctx.flot.updateData();\n        \n\n    });\n}\n \nself.initializeNewSubscription=function(){\n        var colors=[];\n        for (let i = 0; i < self.ctx.flot.subscription.data.length; i++) {\n        self.ctx.flot.subscription.data[i][\"curvedLines\"]={apply:true}  \n        self.ctx.flot.subscription.data[i][\"lines\"]={fill:false,show:true}\n        self.ctx.flot.subscription.data[i][\"points\"]={radius:8,show:false}\n        self.ctx.flot.subscription.data[i][\"stack\"]=false\n        self.ctx.flot.subscription.data[i][\"xaxis\"]=1 \n        self.ctx.flot.subscription.data[i][\"xaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"yaxis\"]=false\n        self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"highlightColor\"]=\"rgba(33, 150, 243, 0.75)\"\n     \n\n\n        const series = self.ctx.flot.subscription.data[i];\n        const yaxisIndex = series.yaxisIndex;\n    self.ctx.flot.yaxes.push({\"font\":{\"color\":\"#545454\",\"size\":10,\"family\":\"Roboto\"},\"labelFont\":{\"color\":\"#545454\",\"size\":12,\"family\":\"Roboto\",\"weight\":\"bold\"},\"min\":null,\"max\":null,\"label\":null,\"tickSize\":null,\"tickDecimals\":0,\"tickUnits\":\"\",\"alignTicksWithAxis\":null,\"position\":\"left\",\"keysInfo\":[{\"hidden\":false}],\"show\":true}) \n    \n    colors.push(hslToRgb(self.ctx.flot.subscription.data[i].dataKey.color))\n\n    }\n        self.ctx.flot.options.colors = colors;\n}\n\nself.onDataUpdated = function() {\n    if (self.ctx.flot ) {\n        // if(self.newSubInitialized==undefined){\n        //     self.initializeNewSubscription();\n        //     self.newSubInitialized=true;\n        //     console.log(self.ctx.flot)\n        //     self.ctx.flot.redrawPlot();\n\n        // }\n        self.ctx.flot.update();\n    }\n} \n\nself.onLatestDataUpdated = function() {\n    if (self.ctx.flot) {\n        self.ctx.flot.latestDataUpdate();\n    }\n}\nself.initFlotEvents=function(){\n    \tself.ctx.flot.$element.bind(\"plothover\", function (event, pos, item) {\n\t\tif (!pos.x || !pos.y) {\n\t\t\treturn;\n\t\t}  \n        var axes = self.ctx.flot.plot.getAxes();\n        var offset=self.ctx.flot.plot.getPlotOffset()\n\n        var canvasBound=self.ctx.flot.plot.getCanvas().getBoundingClientRect()\n        \n\t\t$(\"#tooltip\"+self.ctx.widget.id).css({\n\t\t    top: (canvasBound.y+axes.yaxis.p2c(pos.y) + $(\"#tooltip\"+self.ctx.widget.id).outerHeight()) <= $(\"body\").height() ? canvasBound.y+axes.yaxis.p2c(pos.y) : (canvasBound.y+axes.yaxis.p2c(pos.y) - $(\"#tooltip\"+self.ctx.widget.id).outerHeight()), \n\t\t    left:(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20+$(\"#tooltip\"+self.ctx.widget.id).outerWidth() <=$(\"body\").width() )?(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20):(\n\t\t        (canvasBound.x+axes.xaxis.p2c(pos.x))-($(\"#tooltip\"+self.ctx.widget.id).outerWidth())\n\t\t        )\n\t\t}).show();\n\n\n        var _time=\"\";\n\t    var data=self.ctx.flot.plot.getData().map(function(e){\n\t        var _value=undefined;\n\t        if(e.data.length>=1){\n    \t        for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>pos.x ){\n    \t                if(i==0){\n                            _time=e.data[i][0]\n        \t                _value=e.data[i][1]\n    \t                }\n    \t                else{\n                            _time=e.data[i-1][0]\n        \t                _value=e.data[i-1][1]\n    \t                }\n    \t                break;\n    \t            } \n    \t        }\n    \t        if(_value==undefined){\n                    _value=e.data[e.data.length-1][1]\n    \t        }\n\t        }\n\t        return {\"label\":e.dataKey.label,\"value\":_value,\"color\":e.dataKey.color}\n\t    })\n\t    self.ctx.flot.hoveredPoint=pos.x\n\t\tvar newTooltip=$('<span></span>');\n\t\tvar timeObject = $(\"<div class='tooltip'></div>\");\n        timeObject.text(moment.unix(_time/1000).format(\"DD-MM-YYYY, hh:mm:ss\"));\n        timeObject.css({\"font-family\": 'Inter',\n            \"font-style\": \"normal\",\n            \"font-weight\": \"500\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"20px\",\n            \"margin-bottom\":\"16px\",\n            \"color\": \"#505D6F\"});\n        timeObject.appendTo(newTooltip);\n\n        data.forEach(function(e){\n            if(e.value==undefined){\n                return;\n            }\n    \t\tvar toolTipItem=$('<span></span>');\n    \t\ttoolTipItem.css({\"display\":\"block\",\"margin-bottom\":\"16px\"});\n\n    \t\tvar _toolTipItemColor=$('<span></span>');\n    \t\t_toolTipItemColor.css({\"height\":\"8px\",\"width\":\"21px\",\"display\":\"inline-block\",\"background-color\":e.color,\"margin-right\":\"16px\"});\n            _toolTipItemColor.appendTo(toolTipItem);\n            toolTipItem.appendTo(newTooltip)\n\n    \t\tvar _toolTipItemLabel=$('<span>'+e.label+'</span>');\n    \t\t_toolTipItemLabel.css({\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 400,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#4F4F4F\"\n    \t\t    \n    \t\t});\n            _toolTipItemLabel.appendTo(toolTipItem);\n            \n    \t\tvar _toolTipItemValue=$('<span>'+e.value+'</span>');\n    \t\t_toolTipItemValue.css({\n    \t\t    \"float\":\"right\",\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 500,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#696969\"\n    \t\t    \n    \t\t});\n            _toolTipItemValue.appendTo(toolTipItem);\n            \n            toolTipItem.appendTo(newTooltip)\n        })\n\n        $(\"#tooltip\"+self.ctx.widget.id).html(newTooltip)\n        // self.onResize();\n               self.ctx.flot.update();\n\t});\n \n\tself.ctx.flot.$element.bind(\"mouseleave\", function(){\n\t\t\t\t$(\"#tooltip\"+self.ctx.widget.id).hide();\n\t\t\t\tself.ctx.flot.hoveredPoint=undefined\n                self.ctx.flot.update();\n\t});\n\n}\nself.onResize = function() {\n    if (self.ctx.flot) {\n    self.ctx.detectChanges();\n\n    self.ctx.flot.plot.getOptions().crosshair = {\n        mode: null, \n    }\n    if($.inArray(self.onFlotDraw,self.ctx.flot.plot.hooks.draw) == -1){\n        self.ctx.flot.plot.hooks.draw.push(self.onFlotDraw)\n    }\n    self.ctx.flot.updateData();\n    self.ctx.flot.resize(); \n    }\n}\n\nself.onEditModeChanged = function() {\n    self.ctx.flot.checkMouseEvents();\n    self.onResize();\n    // self.ctx.flot.resize();\n    // self.ctx.flot.updateData();\n}\n\nself.onDestroy = function() {\n    self.ctx.flot.destroy();\n}\n\nself.actionSources = function() {\n    return {\n        'action_button': {\n            name: 'Action Button',\n            multiple: true\n        }\n    };\n}\n\n\nself.typeParameters = function() {\n    return {\n        // hasAdditionalLatestDataKeys: true,\n        dataKeysOptional: true, //Whether this widget can be configured with datasources without data keys\n    };\n}\nself.onFlotDraw=function(plot, ctx){\n        axes = plot.getAxes();\n        xrange = {} \n        yrange = {}\n         \n        yrange.from = axes.yaxis.min;\n        yrange.to = axes.yaxis.max;\n\n        if (xrange.from == null) {\n            xrange.from = axes.xaxis.min;\n        } \n        if (xrange.to == null) {\n            xrange.to = axes.xaxis.max;\n        }\n        var offset=plot.getPlotOffset()\n        // //Draw Pointer\n        if(self.ctx.flot.hoveredPoint!=undefined){\n\t    self.ctx.flot.plot.getData().forEach(function(e){\n\t        var _value;\n\t        if(e.data.length>=1){\n    \t       // if(self.ctx.flot.hoveredPoint==\"\"){\n    \t       //     _value=e.data[e.data.length-1]\n    \t       // }\n    \t       // else{\n        \t   //     _value=e.data.find(value=>value[0]==parseFloat(self.ctx.flot.hoveredPoint))\n    \t       // }\n                for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>parseFloat(self.ctx.flot.hoveredPoint)){\n    \t                if(i==0){\n        \t                _value=e.data[i]\n    \t                }\n    \t                else{\n        \t                _value=e.data[i-1]\n    \t                }\n    \t                break;\n    \t            } \n        \t        if(_value==undefined){\n                        _value=e.data[e.data.length-1]\n        \t        }\n\t            }\n                ctx.beginPath();\n                // ctx.moveTo(axes.xaxis.p2c(_value[0])+offset.left, axes.yaxis.p2c(_value[1])+offset.top);\n                ctx.strokeStyle = e.dataKey.color;\n                ctx.lineWidth = 13;\n                ctx.arc(axes.xaxis.p2c(_value[0])+offset.left, axes.yaxis.p2c(_value[1])+offset.top, 3, 0, 2 * Math.PI);\n                ctx.stroke();            \n                \n                ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n                ctx.fill();\n                ctx.closePath();\t            \n\t        }\n\t    })\n        }\n}\n \n\nfunction generateColors(n) {\n//   const seedValue = 'mySeedValue'; // set the seed value\n//   Math.seedrandom(seedValue); // set the seed value for the random number generator\n\n//   const colors = {};\n//   const colorArray = [];\n\n//   while (colorArray.length < 300) {\n//     const hue = Math.floor(Math.random() * 100) + 200; // random hue between 200 and 300\n//     const saturation = Math.floor(Math.random() * 50) + 50; // random saturation between 50% and 100%\n//     const lightness = Math.floor(Math.random() * 40) + 30; // random lightness between 30% and 70%\n//     const color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n\n//     if (!colors[color]) {\n//       colors[color] = true;\n//       colorArray.push(color);\n//     }\n//   }\n  var colors = [];\n  for (var i = 0; i < n; i++) {\n    var hue = i * (360 / n);\n    var saturation = 80;\n    var lightness = 50;\n\n    var color = 'hsl(' + hue + ',' + saturation + '%,' + lightness + '%)';\n    colors.push(color);\n  }\n  return colors;\n}\n\n\nfunction hslToRgb(hslString){\n    var _split=hslString.split(\",\") \n    var h = parseInt(_split[0].match(/\\d/g).join(\"\"));\n    var s = parseInt(_split[1].match(/\\d/g).join(\"\"));\n    var l = parseInt(_split[2].match(/\\d/g).join(\"\"));\n  l /= 100;\n  const a = s * Math.min(l, 1 - l) / 100;\n  const f = n => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\n  };\n  return `#${f(0)}${f(8)}${f(4)}`;\n    \n}",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Settings\",\n        \"properties\": {\n            \"keyPrefix\": {\n                            \"title\": \"Name\",\n                            \"type\": \"string\"\n\n                        },\n            \"stack\": {\n                \"title\": \"Stacking\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"smoothLines\": {\n                \"title\": \"Display smooth (curved) lines\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"thresholdsLineWidth\": {\n                \"title\": \"Default line width for all thresholds\",\n                \"type\": \"number\"\n            },\n            \"shadowSize\": {\n                \"title\": \"Shadow size\",\n                \"type\": \"number\",\n                \"default\": 4\n            },\n            \"fontColor\": {\n                \"title\": \"Font color\",\n                \"type\": \"string\",\n                \"default\": \"#545454\"\n            },\n            \"fontSize\": {\n                \"title\": \"Font size\",\n                \"type\": \"number\",\n                \"default\": 10\n            },\n            \"tooltipIndividual\": {\n                \"title\": \"Hover individual points\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipCumulative\": {\n                \"title\": \"Show cumulative values in stacking mode\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipValueFormatter\": {\n                \"title\": \"Tooltip value format function, f(value)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"hideZeros\": {\n                \"title\": \"Hide zero/false values from tooltip\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"showTooltip\": {\n                \"title\": \"Show tooltip\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"grid\": {\n                \"title\": \"Grid settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"color\": {\n                        \"title\": \"Primary color\",\n                        \"type\": \"string\",\n                        \"default\": \"#545454\"\n                    },\n                    \"backgroundColor\": {\n                        \"title\": \"Background color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"tickColor\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": \"#DDDDDD\"\n                    },\n                    \"outlineWidth\": {\n                        \"title\": \"Grid outline/border width (px)\",\n                        \"type\": \"number\",\n                        \"default\": 1\n                    },\n                    \"verticalLines\": {\n                        \"title\": \"Show vertical lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"horizontalLines\": {\n                        \"title\": \"Show horizontal lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    }\n                }\n            },\n            \"xaxis\": {\n                \"title\": \"X axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"yaxis\": {\n                \"title\": \"Y axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"min\": {\n                        \"title\": \"Minimum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"max\": {\n                        \"title\": \"Maximum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"ticksFormatter\": {\n                        \"title\": \"Ticks formatter function, f(value)\",\n                        \"type\": \"string\",\n                        \"default\": \"\"\n                    },\n                    \"tickDecimals\": {\n                        \"title\": \"The number of decimals to display\",\n                        \"type\": \"number\",\n                        \"default\": 0\n                    },\n                    \"tickSize\": {\n                        \"title\": \"Step size between ticks\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"comparisonEnabled\": {\n                \"title\": \"Enable comparison\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"timeForComparison\": {\n                \"title\": \"Time to show historical data\",\n                \"type\": \"string\",\n                \"default\": \"previousInterval\"\n            },\n            \"comparisonCustomIntervalValue\": {\n                \"title\": \"Custom interval value (ms)\",\n                \"type\": \"number\",\n                \"default\": 7200000\n            },\n            \"xaxisSecond\": {\n                \"title\": \"Second X axis\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"axisPosition\": {\n                        \"title\": \"Axis position\",\n                        \"type\": \"string\",\n                        \"default\": \"top\"\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"customLegendEnabled\": {\n                \"title\": \"Enable custom legend (this will allow you to use attribute/timeseries values in key labels)\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"dataKeysListForLabels\": {\n                \"title\": \"Datakeys list to use in labels\",\n                \"type\": \"array\",\n                \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"title\": \"Key name\",\n                            \"type\": \"string\"\n                        },\n                        \"type\": {\n                            \"title\": \"Key type\",\n                            \"type\": \"string\",\n                            \"default\": \"attribute\"\n                        }\n                    },\n                    \"required\": [\"name\"]\n                }\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        [\"keyPrefix\"\n            ],\n        [\"stack\", \"smoothLines\", \"thresholdsLineWidth\", \"shadowSize\", {\n            \"key\": \"fontColor\",\n            \"type\": \"color\"\n        }, \"fontSize\", \"tooltipIndividual\", \"tooltipCumulative\", {\n            \"key\": \"tooltipValueFormatter\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/flot/tooltip_value_format_fn\"\n        }, \"hideZeros\", \"showTooltip\", {\n            \"key\": \"grid\",\n            \"items\": [{\n                \"key\": \"grid.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.backgroundColor\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.tickColor\",\n                \"type\": \"color\"\n            }, \"grid.outlineWidth\", \"grid.verticalLines\", \"grid.horizontalLines\"]\n        }, {\n            \"key\": \"xaxis\",\n            \"items\": [\"xaxis.showLabels\", \"xaxis.title\", {\n                \"key\": \"xaxis.color\",\n                \"type\": \"color\"\n            }]\n        }, {\n            \"key\": \"yaxis\",\n            \"items\": [\"yaxis.min\", \"yaxis.max\", \"yaxis.tickDecimals\", \"yaxis.tickSize\", \"yaxis.showLabels\", \"yaxis.title\", {\n                \"key\": \"yaxis.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"yaxis.ticksFormatter\",\n                \"type\": \"javascript\",\n                \"helpId\": \"widget/lib/flot/ticks_formatter_fn\"\n            }]\n        }],\n        [\"comparisonEnabled\", {\n            \"key\": \"timeForComparison\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [{\n                \"value\": \"previousInterval\",\n                \"label\": \"Previous interval (default)\"\n            }, {\n                \"value\": \"days\",\n                \"label\": \"Day ago\"\n            }, {\n                \"value\": \"weeks\",\n                \"label\": \"Week ago\"\n            }, {\n                \"value\": \"months\",\n                \"label\": \"Month ago\"\n            }, {\n                \"value\": \"years\",\n                \"label\": \"Year ago\"\n            }, {\n                \"value\": \"customInterval\",\n                \"label\": \"Custom interval\"\n            }]\n        }, {\n            \"key\": \"comparisonCustomIntervalValue\",\n            \"condition\": \"model.timeForComparison === \\\"customInterval\\\"\"\n        }, {\n            \"key\": \"xaxisSecond\",\n            \"items\": [{\n                \"key\": \"xaxisSecond.axisPosition\",\n                \"type\": \"rc-select\",\n                \"multiple\": false,\n                \"items\": [{\n                    \"value\": \"top\",\n                    \"label\": \"Top (default)\"\n                }, {\n                    \"value\": \"bottom\",\n                    \"label\": \"Bottom\"\n                }]\n            }, \"xaxisSecond.showLabels\", \"xaxisSecond.title\"]\n        }],\n        [\n            \"customLegendEnabled\", {\n            \"key\": \"dataKeysListForLabels\",\n            \"condition\": \"model.customLegendEnabled === true\",\n            \"items\": [{\n                \"key\": \"dataKeysListForLabels[].type\",\n                \"type\": \"rc-select\",\n                \"multiple\": false,\n                \"items\": [{\n                    \"value\": \"attribute\",\n                    \"label\": \"Attribute\"\n                }, {\n                    \"value\": \"timeseries\",\n                    \"label\": \"Timeseries\"\n                }]\n            }, \"dataKeysListForLabels[].name\"]\n        }\n        ]\n    ],\n    \"groupInfoes\": [{\n        \"formIndex\": 0,\n        \"GroupTitle\": \"NP Settings\"\n    }, {\n        \"formIndex\": 1,\n        \"GroupTitle\": \"Common Settings\"\n    }, {\n        \"formIndex\": 2,\n        \"GroupTitle\": \"Comparison Settings\"\n    }, {\n        \"formIndex\": 3,\n        \"GroupTitle\": \"Custom Legend Settings\"\n    }]\n}",
      "dataKeySettingsSchema" : "{\"schema\":{\"type\":\"object\",\"title\":\"DataKeySettings\",\"properties\":{\"excludeFromStacking\":{\"title\":\"Exclude from stacking(available in \\\"Stacking\\\" mode)\",\"type\":\"boolean\",\"default\":false},\"hideDataByDefault\":{\"title\":\"Data is hidden by default\",\"type\":\"boolean\",\"default\":false},\"disableDataHiding\":{\"title\":\"Disable data hiding\",\"type\":\"boolean\",\"default\":false},\"removeFromLegend\":{\"title\":\"Remove datakey from legend\",\"type\":\"boolean\",\"default\":false},\"showLines\":{\"title\":\"Show lines\",\"type\":\"boolean\",\"default\":true},\"fillLines\":{\"title\":\"Fill lines\",\"type\":\"boolean\",\"default\":false},\"showPoints\":{\"title\":\"Show points\",\"type\":\"boolean\",\"default\":false},\"showPointShape\":{\"title\":\"Select point shape:\",\"type\":\"string\",\"default\":\"circle\"},\"pointShapeFormatter\":{\"title\":\"Point shape format function, f(ctx, x, y, radius, shadow)\",\"type\":\"string\",\"default\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\"},\"showPointsLineWidth\":{\"title\":\"Line width of points\",\"type\":\"number\",\"default\":5},\"showPointsRadius\":{\"title\":\"Radius of points\",\"type\":\"number\",\"default\":3},\"tooltipValueFormatter\":{\"title\":\"Tooltip value format function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"showSeparateAxis\":{\"title\":\"Show separate axis\",\"type\":\"boolean\",\"default\":false},\"axisMin\":{\"title\":\"Minimum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisMax\":{\"title\":\"Maximum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisTitle\":{\"title\":\"Axis title\",\"type\":\"string\",\"default\":\"\"},\"axisTickDecimals\":{\"title\":\"Axis tick number of digits after floating point\",\"type\":\"number\",\"default\":null},\"axisTickSize\":{\"title\":\"Axis step size between ticks\",\"type\":\"number\",\"default\":null},\"axisPosition\":{\"title\":\"Axis position\",\"type\":\"string\",\"default\":\"left\"},\"axisTicksFormatter\":{\"title\":\"Ticks formatter function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"thresholds\":{\"title\":\"Thresholds\",\"type\":\"array\",\"items\":{\"title\":\"Threshold\",\"type\":\"object\",\"properties\":{\"thresholdValueSource\":{\"title\":\"Threshold value source\",\"type\":\"string\",\"default\":\"predefinedValue\"},\"thresholdEntityAlias\":{\"title\":\"Thresholds source entity alias\",\"type\":\"string\"},\"thresholdAttribute\":{\"title\":\"Threshold source entity attribute\",\"type\":\"string\"},\"thresholdValue\":{\"title\":\"Threshold value (if predefined value is selected)\",\"type\":\"number\"},\"lineWidth\":{\"title\":\"Line width\",\"type\":\"number\"},\"color\":{\"title\":\"Color\",\"type\":\"string\"}}},\"required\":[]},\"comparisonSettings\":{\"title\":\"Comparison Settings\",\"type\":\"object\",\"properties\":{\"showValuesForComparison\":{\"title\":\"Show historical values for comparison\",\"type\":\"boolean\",\"default\":true},\"comparisonValuesLabel\":{\"title\":\"Historical values label\",\"type\":\"string\",\"default\":\"\"},\"color\":{\"title\":\"Color\",\"type\":\"string\",\"default\":\"\"}},\"required\":[\"showValuesForComparison\"]}},\"required\":[\"showLines\",\"fillLines\",\"showPoints\"]},\"form\":[\"hideDataByDefault\",\"disableDataHiding\",\"removeFromLegend\",\"excludeFromStacking\",\"showLines\",\"fillLines\",\"showPoints\",{\"key\":\"showPointShape\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"circle\",\"label\":\"Circle\"},{\"value\":\"cross\",\"label\":\"Cross\"},{\"value\":\"diamond\",\"label\":\"Diamond\"},{\"value\":\"square\",\"label\":\"Square\"},{\"value\":\"triangle\",\"label\":\"Triangle\"},{\"value\":\"custom\",\"label\":\"Custom function\"}]},{\"key\":\"pointShapeFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/point_shape_format_fn\"},\"showPointsLineWidth\",\"showPointsRadius\",{\"key\":\"tooltipValueFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/tooltip_value_format_fn\"},\"showSeparateAxis\",\"axisMin\",\"axisMax\",\"axisTitle\",\"axisTickDecimals\",\"axisTickSize\",{\"key\":\"axisPosition\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"left\",\"label\":\"Left\"},{\"value\":\"right\",\"label\":\"Right\"}]},{\"key\":\"axisTicksFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/ticks_formatter_fn\"},{\"key\":\"thresholds\",\"items\":[{\"key\":\"thresholds[].thresholdValueSource\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"predefinedValue\",\"label\":\"Predefined value (Default)\"},{\"value\":\"entityAttribute\",\"label\":\"Value taken from entity attribute\"}]},\"thresholds[].thresholdValue\",\"thresholds[].thresholdEntityAlias\",\"thresholds[].thresholdAttribute\",{\"key\":\"thresholds[].color\",\"type\":\"color\"},\"thresholds[].lineWidth\"]},{\"key\":\"comparisonSettings\",\"items\":[\"comparisonSettings.showValuesForComparison\",\"comparisonSettings.comparisonValuesLabel\",{\"key\":\"comparisonSettings.color\",\"type\":\"color\"}]}]}",
      "latestDataKeySettingsSchema" : "{}",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "",
      "latestDataKeySettingsDirective" : "",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.2736250483204356,\"funcBody\":\"return Math.round(1000*Math.sin(time/5000));\"}]}],\"timewindow\":{\"hideInterval\":false,\"hideLastInterval\":false,\"hideQuickInterval\":false,\"hideAggregation\":false,\"hideAggInterval\":false,\"hideTimezone\":false,\"selectedTab\":1,\"history\":{\"historyType\":0,\"timewindowMs\":60000,\"interval\":5000,\"fixedTimewindow\":{\"startTimeMs\":1680420084246,\"endTimeMs\":1680506484246},\"quickInterval\":\"CURRENT_DAY\"},\"aggregation\":{\"type\":\"AVG\",\"limit\":25000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"0\",\"settings\":{\"stack\":false,\"smoothLines\":true,\"shadowSize\":4,\"fontColor\":\"#545454\",\"fontSize\":10,\"tooltipIndividual\":false,\"tooltipCumulative\":false,\"hideZeros\":false,\"showTooltip\":false,\"grid\":{\"color\":\"#e9ebf1\",\"tickColor\":\"#e9ebf1\",\"outlineWidth\":1,\"verticalLines\":true,\"horizontalLines\":true},\"xaxis\":{\"showLabels\":true},\"yaxis\":{\"tickDecimals\":0,\"showLabels\":true},\"comparisonEnabled\":false,\"timeForComparison\":\"previousInterval\",\"xaxisSecond\":{\"axisPosition\":\"top\",\"showLabels\":true},\"customLegendEnabled\":false,\"actionIcons\":[],\"keyPrefix\":\"Bearing_cylinderValues\"},\"title\":\"NP Dynamic Keys Chart\",\"dropShadow\":false,\"enableFullscreen\":false,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"mobileHeight\":null,\"showTitleIcon\":false,\"titleTooltip\":\"\",\"widgetStyle\":{\"width\":\"100%\"},\"widgetCss\":\"#container{\\n    width: 100%;\\n}\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":true,\"legendConfig\":{\"direction\":\"column\",\"position\":\"bottom\",\"sortDataKeys\":false,\"showMin\":false,\"showMax\":false,\"showAvg\":true,\"showTotal\":false,\"showLatest\":false},\"useDashboardTimewindow\":false,\"displayTimewindow\":false,\"enableDataExport\":false,\"actions\":{\"action_button\":[]}}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1678429983671,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "69135c70-bf0d-11ed-b907-3bebb3a56b7b"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "overview_title",
    "name" : "overview title",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7.5,
      "sizeY" : 3,
      "resources" : [ ],
      "templateHtml" : "<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding:0;margin:0\">\n<span class=\"section_title2\">\n     {{ctx.label }}\n</span> \n\n        <div style=\"float:right;padding:0;margin:0\" [ngClass]=\"ctx.data[0].data[0][1]=='true'?'activeStatus':'inActiveStatus'\" fxLayout=\"row\" fxLayoutAlign=\"end center\" *ngIf=\"ctx.stateController.getStateParams()['overViewPage']=='Component' && ctx.data[0]!=undefined\" > \n            <span class=\"statusCircle\"></span>\n            <span>{{ctx.data[0].data[0][1]=='true'?'Live':'Offline'}}</span>\n        </div>\n\n</div>\n",
      "templateCss" : "#container {\n    overflow: auto;\n}\n.activeStatus{\n    color: green;\n    font-weight: bold;\n}\n.inActiveStatus{\n    color: red;\n    font-weight: bold;\n}\n.activeStatus .statusCircle{\n    background-color: green;\n}\n.inActiveStatus .statusCircle{\n    background-color: red;\n}\n.statusCircle{\n    margin-right:5px;\n    display:inline-block;\n    height:15px;\n    width:15px;\n    border-radius:50%\n}",
      "controllerScript" : "self.onInit = function() {\n    self.ctx.label=\"\"\n\n}\n\nself.onDataUpdated = function() {\n    console.log(self.ctx)\n    var statusData=self.ctx.data.find((e)=> e.dataKey.name==\"active\")\n    var typeData=self.ctx.data.find((e)=> e.dataKey.name==\"type\")\n    console.log(\"statusData: \",statusData)\n    console.log(\"typeData: \",typeData)\n    if(typeData!=undefined){\n    self.ctx.label=typeData.datasource.entityLabel+' : '+ self.ctx.stateController.getStateParams()['overViewPageComponent']['type']+' - '+self.ctx.stateController.getStateParams()['overViewPageComponent']['label']\n        \n    }\n    self.ctx.detectChanges();\n}\n\nself.onResize = function() {\n\n}\nself.typeParameters=function(){\n    return {\n        maxDatasources: -1, // Maximum allowed datasources for this widget, -1 - unlimited\n        maxDataKeys: -1, //Maximum allowed data keys for this widget, -1 - unlimited\n        dataKeysOptional: true //Whether this widget can be configured with datasources without data keys\n    }\n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{}",
      "dataKeySettingsSchema" : "{}\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{},\"title\":\"overview title\"}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1682418785255,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "90172f70-e354-11ed-ae53-6961b2cafa27"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "trendz_more_indicators",
    "name" : "trendz_more_indicators",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7.5,
      "sizeY" : 6.5,
      "resources" : [ ],
      "templateHtml" : "    <div class=\"searchContainer\">\n        <input fxFill class=\"search\" type=\"search\" [(ngModel)]=\"searchTerm\" placeholder=\"Search...\">        \n    </div>\n<div fxLayout=\"column\" fxLayoutGap=\"16px\" style=\"padding-top:16px\">\n\n    <ng-container *ngFor=\"let indicator of ctx.currentAailableIndicators; let i = index\">\n        \n        <div fxLayout=\"row\" fxLayoutAlign=\"start center\"           class=\"indicator\" draggable=\"true\"\n                     (dragstart)=\"elementDragStart($event, indicator)\"\n             *ngIf=\"indicator.label.toLowerCase().includes(searchTerm.toLowerCase())\">\n              <span class=\"closeIcon\" (click)=\"onAddClicked($event,indicator)\"></span>\n              <span style=\"width:16px\"></span>\n              <span class=\"label\">{{indicator.label}}</span>\n        </div>\n    </ng-container>\n\n</div>",
      "templateCss" : "#container{\n    overflow: auto;\n}\n.searchContainer{\n    padding: 10px 0;\n    position: sticky; \n    top: 0; \n    z-index: 1;\n    background-color: white;\n}\n.search{\n\n    padding: 4px;\n    background: #FFFFFF;\n    border: 1px solid #E1E1E1;\n    border-radius: 10px;\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    \n    /* Grey 1 */\n    \n    color: #696969;\n}\n.indicator{\n    display: block;\n    border: 2px solid #E1E1E1;\n    border-radius: 4px;\n    padding: 15.5px 17.5px;\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    color: #0B2461;\n cursor: move;\n}\n.indicator span{\n    display: inline-block;\n}\n.indicator .label{\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.closeIcon{\n      cursor: pointer;\n\n    height: 22px;\n    width: 22px;\n    background-position: center;\n    background-size: cover;\n    \n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGKSURBVHgBrVTLTcNAEJ3Z9QkO+IiUA+6AUAEJKYBQAaEC4M7HfApIBwkVhBQQcAeEDoxQJI4+kAtiPczYsRQQMWOLJ9naXc+8nXnefQgLbLbCwHrmmAi7CBCADjEARs59Xr1FYSwLKK9G5/YQgPpA2dI9gXvRsBk020TQYhaf83qzydkdZpVZ+yS7zZ1rJ1GYQAUs8kc8DJxzO8Za75InPk8OqpIJpFXJle6sxRPDrTYJaFxoUAeSm1I6ZhH2mRCaQDQtS/BboS9PWQyi/CAIDCiwzhqtWTPUxKoIswoANzRxakItvN8WA9brw9oBH9JCt6a8Gp2bxyJmvuJUrKxwiQyyA0/fviWVKozzndvFvKhsNjlvwx/4dw1VhGUt/oSnCXp37giU8FjrGMFulQVp7rg4TwowNSh3EKkrrgE1IblcGPsoTo1Lcx+0nh3VIZU7LrnMkYjR5ga7d93j2z3gYcLcEVD6rCHLpOLupCADdPr6cDHE5bLZKEN24F12jkBDmOufjp2jfmF/X9rBnOTlBto3AAAAAElFTkSuQmCC\")\n}",
      "controllerScript" : "self.onInit = function() {\n    self.ctx.$scope.searchTerm=\"\"\n\n    const $injector = self.ctx.$scope.$injector;\n    const broadcastService = $injector.get(self.ctx.servicesMap.get('broadcastService'));\n    self.ctx.$scope.onAddClicked=function(event,item){\n        var onInitialIndicators = ctx.actionsApi.getActionDescriptors(\n                    'onAddClicked');\n        if (onInitialIndicators != undefined) {\n            self.ctx.actionsApi.handleWidgetAction(\n                null, onInitialIndicators[0], undefined,undefined,item);\n        }\n    }\n    self.ctx.currentAailableIndicators=[]\n    self.ctx.$scope.elementDragStart = function(event,item){\n        event.dataTransfer.setData(\"application/json\",JSON.stringify({\"type\":\"add\",\"data\":item}))\n        \n    }\n\n    self.ctx.$scope.onSubscribedata =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onData)\n    self.ctx.subHandle=broadcastService.on(self.ctx.settings.subscribeTopic, (evt, msg) => {\n        self.ctx.$scope.onSubscribedata(self.ctx,msg[0]);\n    });\n        if(self.ctx.datasources.length>=1){\n    self.ctx.http.get(\"/api/plugins/telemetry/\"+(self.ctx.datasources[0].type==\"function\"?\"ASSET\":self.ctx.datasources[0].entityType)+\"/\"+(self.ctx.datasources[0].type==\"function\"?\"0a5ebb10-b405-11ed-b907-3bebb3a56b7b\":self.ctx.datasources[0].entityId)+\"/keys/timeseries\").subscribe(function (result){ \n        self.ctx.currentAailableIndicators= self.ctx.settings.dataSettings.filter(e=> result.includes(e.key))  \n        self.ctx.detectChanges()\n\n    });\n        }\n}\nself.typeParameters=function(){\n       return {\n        // maxDatasources: -1, // Maximum allowed datasources for this widget, -1 - unlimited\n        maxDataKeys: -1, //Maximum allowed data keys for this widget, -1 - unlimited\n        dataKeysOptional: true, //Whether this widget can be configured with datasources without data keys\n        useCustomDatasources:true,\n                datasourcesOptional: true\n\n    } \n}\nself.onDataUpdated = function() {\n\n}\n\nself.onResize = function() {\n \n}\nself.actionSources = function() {\n    return {\n\n        'onAddClicked': {\n            name: 'On Add Clicked',\n            multiple: false\n        }\n    };\n}\n\nself.onDestroy = function() {\n        self.ctx.subHandle.unsubscribe();\n\n}\n",
      "settingsSchema" : "{\n  \"schema\":{\n  \"type\": \"object\",\n  \"title\": \"settings\",\n  \"properties\": {\n    \"dataSettings\": {\n      \"type\": \"array\",\n      \"title\": \"Data Settings\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"key\": {\n            \"title\": \"Key\",\n            \"type\": \"string\"\n          },\n         \"label\": {\n            \"title\": \"label\",\n            \"type\": \"string\"\n          },\n         \"color\": {\n            \"title\": \"Color\",\n            \"type\": \"string\"\n          },\n         \"valueType\": {\n            \"title\": \"Value type\",\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"subscribeTopic\":{\n        \"title\":\"subscribeTopic\",\n        \"type\":\"string\"\n    },\n    \"onData\":{\n        \"title\":\"on Sub Data\",\n        \"type\":\"string\"\n    }\n  }\n},\n\"form\":[\n  {\n   \n    \"key\": \"dataSettings\",\n    \"items\": [\n      \"dataSettings[].key\",\n      \"dataSettings[].label\",\n      {\n          \"key\":\"dataSettings[].color\",\n          \"type\":\"color\"\n      },\n            \"dataSettings[].valueType\"\n\n    ]\n  },\n  \"subscribeTopic\",\n  {\n    \"key\":  \"onData\",\n    \"type\": \"javascript\"\n  }\n]\n}",
      "dataKeySettingsSchema" : "{}\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{\"dataSettings\":[{\"key\":\"Compression_cylinderValues_2\",\"label\":\"Compression_cylinderValues_2\",\"color\":\"#3b4b9b\"},{\"key\":\"Compression_cylinderValues_3\",\"label\":\"Compression_cylinderValues_3\",\"color\":\"#780606\"}],\"subscribeTopic\":\"toMoreIndicators\"},\"title\":\"trendz_more_indicators\",\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{\"padding\":\"16px\"},\"widgetCss\":\"\",\"titleStyle\":{\"fontFamily\":\"Inter\",\"fontStyle\":\"normal\",\"fontWeight\":400,\"fontSize\":\"16px\",\"lineHeight\":\"19px\",\"color\":\"#696969\"},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":false}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1679306275550,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "afbcbfe0-c705-11ed-b907-3bebb3a56b7b"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "trendz_selected_indicators",
    "name" : "trendz_selected_indicators",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7,
      "sizeY" : 4.5,
      "resources" : [ ],
      "templateHtml" : "    <div class=\"searchContainer\">\n        <input fxFill class=\"search\" type=\"search\" [(ngModel)]=\"searchTerm\" placeholder=\"Search...\">        \n    </div>\n<div fxLayout=\"column\" fxLayoutGap=\"16px\" style=\"padding-top:16px\">\n    <!--<div >-->\n\n\n    <!--<div fxLayout=\"row\" fxLayoutAlign=\"start center\"-->\n    <!--    class=\"indicator\" >-->\n    <!--      <span class=\"closeIcon\" (click)=\"onCloseClicked($event,indicator)\"></span>-->\n    <!--      <span style=\"width:16px\"></span>-->\n    <!--      <span class=\"label\">{{indicator.label}}</span>-->\n    <!--</div>-->\n    \n    <ng-container   *ngFor=\"let indicator of ctx.currentSelectedIndicators; let i = index\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start center\"           class=\"indicator\" \n             *ngIf=\"indicator.label.toLowerCase().includes(searchTerm.toLowerCase())\">\n              <span class=\"closeIcon\" (click)=\"onCloseClicked($event,indicator)\"></span>\n              <span style=\"width:16px\"></span>\n              <span class=\"label\">{{indicator.label}}</span>\n        </div>\n    </ng-container>\n\n    \n</div>",
      "templateCss" : "#container{\n    overflow: auto;\n}\n.searchContainer{\n    padding: 10px 0;\n    position: sticky; \n    top: 0; \n    z-index: 1;\n    background-color: white;\n}\n.search{\n\n    padding: 4px;\n    background: #FFFFFF;\n    border: 1px solid #E1E1E1;\n    border-radius: 10px;\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    \n    /* Grey 1 */\n    \n    color: #696969;\n}\n.indicator{\n    display: block;\n    border: 2px solid #E1E1E1;\n    border-radius: 4px;\n    padding: 15.5px 17.5px;\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    color: #0B2461;\n\n}\n.indicator span{\n    display: inline-block;\n}\n.indicator .label{\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.closeIcon{\n  cursor: pointer;\n\n    height: 22px;\n    width: 22px;\n    background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIvSURBVHgBrVVNWhNBEH09LkLURVyonyuTExhXhJXjDbgBcwO8AeEEwAkMJ9AbQHZxlxtkWCmwMCtJPoX2ve7pMHQ6/Gl9X76ZVFe/rq569cZghU1ytJoXKAzwAQZdutrVUklfeQkc8v34zQhlar9JAT6fYdtafLIGrQBm4QGMpc8f5CwD+i9H2L0V+HsPbQYeVdmVBD+4aGLQOcY0Pnxthk3G7oTYK+BjMnuBnvYw4c/+2MA+7mnc19ce7RXGUkAA5WKBB5r2BHDdpg66Uy308UjTLesYpqrrhO/l6xE6+AdTxuxa61cDHWIil5PFX+rs2Qb2zno4unE9+Xv4fLqOL3G8mg2ypjlHkZEWW3LO1vA1DvwDnJBm+dP5NbhA6StshpM4vjHHAD7L3Ch9cnP66hveI2HquqOVwZhxY4HSfciyFVhVDjh+kyLmJk/rRm72XZksuneBunL4QVLf7rYnwNvFH4N3cc1TJmCNa3tVQKipMg2Z12semxt5YmaqnVJPBYoV9evXy/JstsyKn12vIxKpzF5hKKcoEgc6Vhgc1GsawKluwziezNrUU8pndMrvBiYEmP6XAeHteXAnezHG9JJZyXG+jj080iQL8L3aXaicsg4ixGZt4YGmPUGEgs/RTVlLT+EZMjj3p98P1Dd4gEqTg/9WoVeTNOopoXefLYNtrBB6k8piMcbXURpnB15xvu3c1veHh+/HhyeBQ/Z85BIpUwNTdvCaMUx9toL9BatiCdTVmFTIAAAAAElFTkSuQmCC\")\n}",
      "controllerScript" : "self.onInit = function() {\n        self.ctx.$scope.searchTerm=\"\"\n    const $injector = self.ctx.$scope.$injector;\n    const broadcastService = $injector.get(self.ctx.servicesMap.get('broadcastService'));\n\n    self.ctx.currentSelectedIndicators=[]\n    \n        self.ctx.$scope.onSubscribedata =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onData)\n    self.ctx.subHandle=broadcastService.on(self.ctx.settings.subscribeTopic, (evt, msg) => {\n        self.ctx.$scope.onSubscribedata(self.ctx,msg[0]);\n    });\n    self.ctx.$scope.onCloseClicked=function(event,item){\n        var onInitialIndicators = ctx.actionsApi.getActionDescriptors(\n                    'onCloseClicked');\n        if (onInitialIndicators != undefined) {\n            self.ctx.actionsApi.handleWidgetAction(\n                null, onInitialIndicators[0], undefined,undefined,item);\n        }\n    }\n    if(self.ctx.datasources.length>=1){\n        \n\n    self.ctx.http.get(\"/api/plugins/telemetry/\"+(self.ctx.datasources[0].type==\"function\"?\"ASSET\":self.ctx.datasources[0].entityType)+\"/\"+(self.ctx.datasources[0].type==\"function\"?\"0a5ebb10-b405-11ed-b907-3bebb3a56b7b\":self.ctx.datasources[0].entityId)+\"/keys/timeseries\").subscribe(function (result){ \n        self.ctx.currentSelectedIndicators= self.ctx.settings.dataSettings.filter(e=> result.includes(e.key))  \n        self.ctx.detectChanges()\n        var onInitialIndicators = ctx.actionsApi.getActionDescriptors(\n                    'onInitialIndicators');\n        if (onInitialIndicators != undefined) {\n            self.ctx.actionsApi.handleWidgetAction(\n                null, onInitialIndicators[0], undefined,undefined,self.ctx.currentSelectedIndicators);\n        }\n    });    \n        \n    }\n}\n\nself.onDataUpdated = function() {\n\n}\n\nself.onResize = function() {\n \n}\nself.actionSources = function() {\n    return {\n        'onInitialIndicators': {\n            name: 'On Initial Indicators',\n            multiple: false\n        },\n        'onCloseClicked': {\n            name: 'On Close Clicked',\n            multiple: false\n        }\n    };\n}\nself.typeParameters=function(){\n       return {\n        // maxDatasources: -1, // Maximum allowed datasources for this widget, -1 - unlimited\n        maxDataKeys: -1, //Maximum allowed data keys for this widget, -1 - unlimited\n        dataKeysOptional: true, //Whether this widget can be configured with datasources without data keys\n        datasourcesOptional: true, //Whether this widget can be configured with datasources without data keys\n\n        useCustomDatasources:true\n    } \n}\nself.onDestroy = function() {\n            self.ctx.subHandle.unsubscribe();\n\n}\n",
      "settingsSchema" : "{\n  \"schema\":{\n  \"type\": \"object\",\n  \"title\": \"settings\",\n  \"properties\": {\n    \"dataSettings\": {\n      \"type\": \"array\",\n      \"title\": \"Data Settings\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"key\": {\n            \"title\": \"Key\",\n            \"type\": \"string\"\n          },\n         \"label\": {\n            \"title\": \"label\",\n            \"type\": \"string\"\n          },\n         \"color\": {\n            \"title\": \"Color\",\n            \"type\": \"string\"\n          },\n         \"valueType\": {\n            \"title\": \"Value type\",\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"subscribeTopic\":{\n        \"title\":\"subscribeTopic\",\n        \"type\":\"string\"\n    },\n    \"onData\":{\n        \"title\":\"on Sub Data\",\n        \"type\":\"string\"\n    }\n  }\n},\n\"form\":[\n  {\n   \n    \"key\": \"dataSettings\",\n    \"items\": [\n      \"dataSettings[].key\",\n      \"dataSettings[].label\",\n      {\n          \"key\":\"dataSettings[].color\",\n          \"type\":\"color\"\n      },\n      \"dataSettings[].valueType\"\n    ]\n  },\n  \"subscribeTopic\",\n  {\n    \"key\":  \"onData\",\n    \"type\": \"javascript\"\n  }\n]\n}",
      "dataKeySettingsSchema" : "{}\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"0\",\"settings\":{\"dataSettings\":[{\"key\":\"Compression_cylinderValues_0\",\"label\":\"Compression_cylinderValues_0\",\"color\":\"#994444\"},{\"key\":\"Compression_cylinderValues_1\",\"label\":\"Compression_cylinderValues_1\",\"color\":\"#9d30d8\"}],\"subscribeTopic\":\"toSelectedIndicators\"},\"title\":\"trendz_selected_indicators\",\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{\"padding\":\"16px\"},\"widgetCss\":\"\",\"titleStyle\":{\"fontFamily\":\"Inter\",\"fontStyle\":\"normal\",\"fontWeight\":400,\"fontSize\":\"16px\",\"lineHeight\":\"19px\",\"color\":\"#696969\"},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":false}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1679306311315,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "c50e0e30-c705-11ed-b907-3bebb3a56b7b"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "trendzwidget",
    "name" : "TrendzWidget",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "timeseries",
      "sizeX" : 8,
      "sizeY" : 7.5,
      "resources" : [ {
        "url" : "https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"
      } ],
      "templateHtml" : "",
      "templateCss" : "mat-icon{\n    cursor: pointer;\n}\n.actions{\n    padding: 0 15px 0 0 ;\n}\n.nt-actions{\n    display: inline-block;   \n}\n.widgetTitle{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    color: #696969;\n}\n.legend {\n    font-size: 13px;\n    line-height: 10px;\n}\n\n.legend table { \n    border-spacing: 0px;\n    border-collapse: separate;\n}\n\n\n.mouse-events .flot-overlay {\n    cursor: crosshair; \n}\n\n.tooltip {\n    border-radius: 100px ;\n    color: red;\n}\n\n.tb-legend-keys td .tb-legend-line{\n    height: 8px !important;\n    width: 21px !important;\n}\n.tb-legend-label{\n    font-family: 'Inter' !important; \n    font-style: normal !important;\n    font-weight: 400 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    color: #4F4F4F !important;\n}\n.tb-legend-value{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #696969;\n}\n\n.tb-legend-header th{\n    padding-top: 10px !important;\n    /*padding-bottom: 24px !important;*/\n    font-family: 'Inter' !important;\n    font-style: normal !important;\n    font-weight: 500 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    /*text-align: center !important;*/\n    text-transform: capitalize !important;\n    color: #000000 !important;\n}\n.tb-legend-keys td{\n    padding:  12px !important;\n    \n}\ntb-legend{\n    max-height: 181px !important;\n}",
      "controllerScript" : "self.onInit = function() {\n    const $injector = self.ctx.$scope.$injector;\n    const broadcastService = $injector.get(self.ctx.servicesMap.get('broadcastService'));\n    self.ctx.filterData = self.filterNTData;\n\nself.ctx.initializeNewSubscription=function(){\n    var colors=[];\n    // self.ctx.flot.createYAxis() \n    // console.log(self.ctx.flot.yaxes)\n    var lastIndex=0\n    \n    // {\"font\":{\"color\":\"#545454\",\"size\":10,\"family\":\"Roboto\"},\"labelFont\":{\"color\":\"#545454\",\"size\":12,\"family\":\"Roboto\",\"weight\":\"bold\"},\"min\":null,\"max\":null,\"label\":null,\"tickSize\":null,\"tickDecimals\":0,\"tickUnits\":null,\"alignTicksWithAxis\":null,\"position\":\"left\",\"keysInfo\":[{\"hidden\":false},{\"hidden\":false},{\"hidden\":false},{\"hidden\":false},{\"hidden\":false},{\"hidden\":false}],\"show\":true}\n    var yaxes=[];\n    var keysInfo=[];\n    for (let i = 0; i < self.ctx.flot.subscription.data.length; i++) {\n\n        self.ctx.flot.subscription.data[i][\"curvedLines\"]={apply:true}  \n        self.ctx.flot.subscription.data[i][\"lines\"]={fill:false,show:true}\n        self.ctx.flot.subscription.data[i][\"points\"]={radius:8,show:false}\n        self.ctx.flot.subscription.data[i][\"stack\"]=false\n        self.ctx.flot.subscription.data[i][\"xaxis\"]=1\n        self.ctx.flot.subscription.data[i][\"xaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"yaxis\"]=0\n        self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"highlightColor\"]=\"rgba(33, 150, 243, 0.75)\"\n        \n        \n        var haveYAxes=yaxes.findIndex(function(e){\n            return self.ctx.flot.subscription.data[i].dataKey.units==e.tickUnits || self.ctx.flot.subscription.data[i].dataKey.settings.axisTitle==e.label})\n            console.log(haveYAxes)\n        if(haveYAxes==-1){\n            // yAxesIndex.push(0)  \n            lastIndex=0\n            keysInfo.push({});\n            // keysInfo[keysInfo.length-1].splice(0, 0, null);\n\n            keysInfo[keysInfo.length-1][i.toString()]={hidden:self.ctx.flot.subscription.data[i].dataKey.hidden};\n            self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n            self.ctx.flot.subscription.data[i][\"yaxis\"]=yaxes.length+1\n            yaxes.push({\"font\":{\"color\":\"#545454\",\"size\":10,\"family\":\"Roboto\"},\"labelFont\":{\"color\":\"#545454\",\"size\":12,\"family\":\"Roboto\",\"weight\":\"bold\"},\"min\":null,\"max\":null,\"label\": self.ctx.flot.subscription.data[i].dataKey.settings.axisTitle ,\"tickSize\":null,\"tickDecimals\":0,\"tickUnits\":self.ctx.flot.subscription.data[i].dataKey.units==undefined?\"\":self.ctx.flot.subscription.data[i].dataKey.units,\"alignTicksWithAxis\":null,\"position\":\"left\",\n                \"keysInfo\":[],\"show\":true}) \n\n        }else{\n            keysInfo[haveYAxes][i.toString()]={hidden:self.ctx.flot.subscription.data[i].dataKey.hidden};\n\n            self.ctx.flot.subscription.data[i][\"yaxis\"]=haveYAxes+1\n            if(self.ctx.flot.subscription.data[i-1].yaxis==haveYAxes){\n                lastIndex=lastIndex+1\n                self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=lastIndex+1\n            }\n            else{\n                lastIndex=0\n                self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n            }\n        }\n        colors.push(hslToRgb(self.ctx.flot.subscription.data[i].dataKey.color))\n    }\n    var finalKeysInfo=[]\n    for (yax in yaxes){\n        finalKeysInfo.push([])\n        for (let i = 0; i < self.ctx.flot.subscription.data.length; i++) {\n            if(keysInfo[yax].hasOwnProperty(i)){\n                finalKeysInfo[yax].push(keysInfo[yax][i.toString()])        \n            }\n            else{\n                finalKeysInfo[yax].push({hidden:false})        \n                \n            }\n        }\n        // console.log(\"-----------------------------------------\")\n        // console.log(keysInfo[yax])\n        // const axisHasValue= Object.entries(keysInfo[yax]).find(function([k, v]){ \n        //         console.log(\"@@\",v); \n        //     return v.hidden == false}) || [];\n\n        // console.log(\"Index: \",axisHasValue)\n        // if(axisHasValue.length<=0){\n        //     yaxes[yax].show=false\n        // }\n    }\n\n    for( keyInfo in finalKeysInfo){\n            yaxes[keyInfo].keysInfo=finalKeysInfo[keyInfo]\n    }\n    console.log(yaxes)\n    self.ctx.flot.yaxes=yaxes\n\n    self.ctx.flot.options.colors = colors;\n    self.ctx.flot.update()\n}\n\n\n    self.ctx.currentKeys=[]\n    self.ctx.$scope.onSubscribedata =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onData)\n    self.ctx.$scope.onDrop =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onDrop)\n    \n    self.ctx.$container.on('drop', function(event) {\n        event.preventDefault();\n        var data = event.originalEvent.dataTransfer.getData(\"application/json\")\n        self.ctx.$scope.onDrop(self.ctx,JSON.parse(data));\n    });\n    self.ctx.$container.on('dragover', function(event) {\n        event.preventDefault();\n    });\n        \n    self.ctx.subscribeDynamicKeysData=function(keys){\n        if(keys.length<=0){\n            return\n        }\n    let datasources = self.ctx.defaultSubscription.configuredDatasources;\n        let datakeys = datasources[0].dataKeys=[]; \n         var protokey;\n        if(self.ctx.datasources[0].type==\"function\"){\n            protokey = {\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":true,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.6974252438991668,\"funcBody\":\"return Math.round(100*Math.random(time));\"}\n        }\n        else{ \n            protokey = {\"name\":\"Bearing_cylinderValues_0\",\"type\":\"timeseries\",\"label\":\"Bearing_cylinderValues_0\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":true,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.0810279353074943};\n            \n        } \n \n        var colors=generateColors(keys.length) \n        for (var i = 0; i < keys.length; i++) {\n            // let objClone = { ...protokey}\n            let objClone=JSON.parse(JSON.stringify(protokey));\n            // let objClone = Object.assign({},protokey) \n            // objClone.name = objClone.pattern =keys[i].key;\n            objClone.name =keys[i].key;\n            objClone.label = keys[i].label;\n            objClone.color = colors[i]; \n            objClone._hash = Math.random();\n            if( keys[i].valueType ==\"percentage\"){\n                objClone[\"settings\"].axisTitle=\"Percentage\"\n                objClone[\"units\"]=\"%\"\n            }\n            else if( keys[i].valueType ==\"speed\"){\n                objClone[\"settings\"].axisTitle=\"Speed\"\n                objClone[\"settings\"].axisPosition=\"right\"\n                objClone[\"units\"]=\"\"\n            }else{\n                // objClone[\"settings\"].axisTitle=\"Speed\"\n                // objClone[\"settings\"].axisPosition=\"right\"\n                // objClone[\"units\"]=\"s\"\n            }\n            datakeys.push(objClone);\n        } \n\n        if(self.ctx.flot){\n            self.ctx.flot.destroy()\n            self.ctx.flot=undefined \n        }\n        var test=self.ctx.defaultSubscription.initDataSubscription()\n        test.subscribe(function(result){\n\n        self.ctx.defaultSubscription.entityDataListeners[1].subscription.pageData = Object.assign({},self.ctx.defaultSubscription.entityDataListeners[0].subscription.pageData) \n\n        self.ctx.defaultSubscription.update() \n        var test=self.ctx.defaultSubscription.entityDataListeners.shift()\n        test.subscription.unsubscribe()\n        \n        self.ctx.newSubInitialized=false\n        self.ctx.flot = new TbFlot(self.ctx); \n        self.initFlotEvents();  \n\n        self.ctx.initializeNewSubscription();\n        self.ctx.flot.redrawPlot();\n        // self.onResize();\n\n        })\n    }\n\n\n    self.ctx.subHandle=broadcastService.on(self.ctx.settings.subscribeTopic, (evt, msg) => {\n        self.ctx.$scope.onSubscribedata(self.ctx,msg[0]);\n    });\n\n    // self.subscribeDynamicKeysData()\n    \t$(\"<div id='tooltip\"+self.ctx.widget.id+\"' class='tooltip'></div>\").css({\n\t\t\tposition: \"absolute\",\n\t\t\tdisplay: \"none\",  \n\t\t\tborder: \"1px solid #BEBEBE\", \n\t\t\t\"border-radius\":\"8px\",\n\t\t\tpadding: \"24px\", \n\t\t\t\"padding-bottom\":\"8px\",\n\t\t\t\"background-color\": \"#FFFFFF\",\n\t\t\tzIndex:10000\n    }).appendTo(\"body\");\n\n    self.ctx.flot = new TbFlot(self.ctx); \n \n\n} \nself.filterNTData = function() {\n    var _ntData = {}\n\n    self.ctx.dataBackup.forEach(function(e, i) {\n        e.forEach(function(telData) {\n            if (_ntData[String(telData[\n                    0])] == undefined) {\n                _ntData[String(telData[\n                    0])] = {}\n            }\n            _ntData[String(telData[0])][\n                String(self.ctx\n                    .data[i].dataKey\n                    ._hash)\n            ] = telData[1]\n        })\n    })\n    for (let [key, value] of Object.entries(_ntData)) {\n        var shouldRemove = false\n        for (let [k, v] of Object.entries(value)) {\n            var filter = self.ctx.ntFilterSettings.find(\n                x => x.key._hash == k)\n            if (filter.isEnabled == true) {\n                if ((filter.min != null && filter.min >\n                        v) || (filter.max != null &&\n                        filter.max < v)) {\n                    shouldRemove = true;\n                }\n            }\n        }\n        if (shouldRemove == true) {\n            delete _ntData[key];\n        }\n    }\n    // console.log(_ntData)\n    _ntDataSortedKeys = Object.keys(_ntData).sort();\n    const sortedNtData = {};\n    for (const key of _ntDataSortedKeys) {\n      sortedNtData[key] = _ntData[key];\n    }\n    self.ctx.data.forEach(function(e) {\n        _data = []\n        for (let [k, v] of Object.entries(\n                sortedNtData)) {\n                    if(v[String(e\n                .dataKey._hash)]!==undefined){\n            _data.push([parseInt(k), v[String(e\n                .dataKey._hash)]])\n                    \n                }\n        }\n\n        e.data = _data\n    })\n\n}\n \n\n\nself.onDataUpdated = function() { \n    if (self.ctx.flot) {\n            if (self.ctx.ntFilterSettings) {\n        self.ctx.dataBackup = self.ctx.data.map(\n            function(e) {\n                return [...e.data]\n            })\n        self.filterNTData();\n    }\n        // self.initializeNewSubscription();\n        //         self.ctx.flot.redrawPlot();\n\n        self.ctx.flot.update();\n        // console.log(JSON.stringify(self.ctx.flot.yaxes))\n    } \n    console.log(self.ctx.flot)\n    \n}\n\n\nself.onLatestDataUpdated = function() {\n    if (self.ctx.flot) {\n        self.ctx.flot.latestDataUpdate();\n    }\n}\nself.initFlotEvents=function(){\n    \n\n    \tself.ctx.flot.$element.bind(\"plothover\", function (event, pos, item) {\n\t\tif (!pos.x || !pos.y) {\n\t\t\treturn;\n\t\t}  \n        var axes = self.ctx.flot.plot.getAxes();\n        var offset=self.ctx.flot.plot.getPlotOffset()\n\n        var canvasBound=self.ctx.flot.plot.getCanvas().getBoundingClientRect()\n        \n\t\t$(\"#tooltip\"+self.ctx.widget.id).css({\n\t\t    top: (canvasBound.y+axes.yaxis.p2c(pos.y) + $(\"#tooltip\"+self.ctx.widget.id).outerHeight()) <= $(\"body\").height() ? canvasBound.y+axes.yaxis.p2c(pos.y) : (canvasBound.y+axes.yaxis.p2c(pos.y) - $(\"#tooltip\"+self.ctx.widget.id).outerHeight()), \n\t\t    left:(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20+$(\"#tooltip\"+self.ctx.widget.id).outerWidth() <=$(\"body\").width() )?(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20):(\n\t\t        (canvasBound.x+axes.xaxis.p2c(pos.x))-($(\"#tooltip\"+self.ctx.widget.id).outerWidth())\n\t\t        )\n\t\t}).show();\n\n\n        var _time=\"\";\n\t    var data=self.ctx.flot.plot.getData().map(function(e){\n\t        var _value=undefined;\n\t        if(e.data.length>=1){\n    \t        for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>pos.x ){\n    \t                if(i==0){\n                            _time=e.data[i][0]\n        \t                _value=e.data[i][1]\n    \t                }\n    \t                else{\n                            _time=e.data[i-1][0]\n        \t                _value=e.data[i-1][1]\n    \t                }\n    \t                break;\n    \t            } \n    \t        }\n    \t        if(_value==undefined){\n                    _value=e.data[e.data.length-1][1]\n    \t        }\n\t        }\n\t        return {\"label\":e.dataKey.label,\"value\":_value,\"color\":e.dataKey.color}\n\t    })\n\t    self.ctx.flot.hoveredPoint=pos.x\n\t\tvar newTooltip=$('<span></span>');\n\t\tvar timeObject = $(\"<div class='tooltip'></div>\");\n        timeObject.text(moment.unix(_time/1000).format(\"DD-MM-YYYY, hh:mm:ss\"));\n        timeObject.css({\"font-family\": 'Inter',\n            \"font-style\": \"normal\",\n            \"font-weight\": \"500\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"20px\",\n            \"margin-bottom\":\"16px\",\n            \"color\": \"#505D6F\"});\n        timeObject.appendTo(newTooltip);\n        data.forEach(function(e){\n            if(e.value==undefined){\n                return;\n            }\n    \t\tvar toolTipItem=$('<span></span>');\n    \t\ttoolTipItem.css({\"display\":\"block\",\"margin-bottom\":\"16px\"});\n\n    \t\tvar _toolTipItemColor=$('<span></span>');\n    \t\t_toolTipItemColor.css({\"height\":\"8px\",\"width\":\"21px\",\"display\":\"inline-block\",\"background-color\":e.color,\"margin-right\":\"16px\"});\n            _toolTipItemColor.appendTo(toolTipItem);\n            toolTipItem.appendTo(newTooltip)\n\n    \t\tvar _toolTipItemLabel=$('<span>'+e.label+'</span>');\n    \t\t_toolTipItemLabel.css({\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 400,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#4F4F4F\"\n    \t\t    \n    \t\t});\n            _toolTipItemLabel.appendTo(toolTipItem);\n            \n    \t\tvar _toolTipItemValue=$('<span>'+e.value+'</span>');\n    \t\t_toolTipItemValue.css({\n    \t\t    \"float\":\"right\",\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 500,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#696969\"\n    \t\t    \n    \t\t});\n            _toolTipItemValue.appendTo(toolTipItem);\n            \n            toolTipItem.appendTo(newTooltip)\n\n        })\n        $(\"#tooltip\"+self.ctx.widget.id).html(newTooltip)\n        self.ctx.flot.update();\n\n\t});\n \n\tself.ctx.flot.$element.bind(\"mouseleave\", function(){\n\t\t\t\t$(\"#tooltip\"+self.ctx.widget.id).hide();\n\t\t\t\tself.ctx.flot.hoveredPoint=undefined\n                self.ctx.flot.update();\n\t});\n\n}\n\n\nself.onResize = function() {\n    if (self.ctx.flot) {\n        self.ctx.detectChanges();\n    \n        self.ctx.flot.plot.getOptions().crosshair = {\n            mode: null, \n        }\n        if($.inArray(self.onFlotDraw,self.ctx.flot.plot.hooks.draw) == -1){\n            self.ctx.flot.plot.hooks.draw.push(self.onFlotDraw)\n        }\n        self.ctx.flot.updateData();\n        self.ctx.flot.resize(); \n    }\n}\n\nself.onEditModeChanged = function() {\n    self.ctx.flot.checkMouseEvents();\n    self.onResize();\n\n}\n\nself.onDestroy = function() {\n    self.ctx.flot.destroy();\n    self.ctx.subHandle.unsubscribe();\n}\n\nself.actionSources = function() {\n    return {\n        'action_button': {\n            name: 'Action Button',\n            multiple: true\n        }\n    };\n}\n\n\nself.typeParameters = function() {\n    return {\n        // hasAdditionalLatestDataKeys: true,\n        dataKeysOptional: true, //Whether this widget can be configured with datasources without data keys\n    };\n}\nself.onFlotDraw=function(plot, ctx){\n        // axes = plot.getAxes();\n        // console.log(\"axes: \",axes)\n        // xrange = {} \n        // yrange = {}\n         \n        // yrange.from = axes.yaxis.min;\n        // yrange.to = axes.yaxis.max;\n\n        // if (xrange.from == null) {\n        //     xrange.from = axes.xaxis.min;\n        // } \n        // if (xrange.to == null) {\n        //     xrange.to = axes.xaxis.max;\n        // }\n        var offset=plot.getPlotOffset()\n        // //Draw Pointer\n        if(self.ctx.flot.hoveredPoint!=undefined){\n\n\t    self.ctx.flot.plot.getData().forEach(function(e){\n\t        var _value;\n\t        if(e.data.length>=1){\n\n    \t       // if(self.ctx.flot.hoveredPoint==\"\"){\n    \t       //     console.log(\"_value if\")\n    \t       //     _value=e.data[e.data.length-1]\n    \t       // }\n    \t       // else{\n    \t       //     console.log(\"_value else\",JSON.stringify(e.data))\n        \t   //     _value=e.data.find(value=>value[0]==parseFloat(self.ctx.flot.hoveredPoint))\n        \t   //     console.log(self.ctx.flot.hoveredPoint)\n    \t       // }\n    \t       // if(_value==undefined){\n            //         _value=e.data[e.data.length-1][1]\n    \t       // }\n\n    \t        for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>parseFloat(self.ctx.flot.hoveredPoint)){\n    \t                if(i==0){\n        \t                _value=e.data[i]\n    \t                }\n    \t                else{\n        \t                _value=e.data[i-1]\n    \t                }\n    \t                break;\n    \t            } \n    \t        if(_value==undefined){\n                    _value=e.data[e.data.length-1]\n    \t        }\n\t            }\n \n    \t       // console.log(\"_value: \",_value)\n                ctx.beginPath();\n                // ctx.moveTo(axes.xaxis.p2c(_value[0])+offset.left, axes.yaxis.p2c(_value[1])+offset.top);\n                ctx.strokeStyle = e.dataKey.color;\n                ctx.lineWidth = 13;\n                ctx.arc(e.xaxis.p2c(_value[0])+offset.left, e.yaxis.p2c(_value[1])+offset.top, 3, 0, 2 * Math.PI);\n                ctx.stroke();            \n                \n                ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n                ctx.fill();\n                ctx.closePath();\t            \n\t        }\n\t    })\n\n        }\n}\n \n\nfunction generateColors(n) {\n  var colors = [];\n  for (var i = 0; i < n; i++) {\n    var hue = i * (360 / n);\n    var saturation = 80;\n    var lightness = 50;\n\n    var color = 'hsl(' + hue + ',' + saturation + '%,' + lightness + '%)';\n    colors.push(color);\n  }\n  return colors;\n}\n\n\nfunction hslToRgb(hslString){\n    var _split=hslString.split(\",\") \n    var h = parseInt(_split[0].match(/\\d/g).join(\"\"));\n    var s = parseInt(_split[1].match(/\\d/g).join(\"\"));\n    var l = parseInt(_split[2].match(/\\d/g).join(\"\"));\n  l /= 100;\n  const a = s * Math.min(l, 1 - l) / 100;\n  const f = n => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\n  };\n  return `#${f(0)}${f(8)}${f(4)}`;\n    \n}",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Settings\",\n        \"properties\": {\n\n            \"subscribeTopic\":{\n                \"title\":\"subscribeTopic\",\n                \"type\":\"string\"\n            },    \n            \"onData\":{\n        \"title\":\"on Sub Data(widgetContext,data)\",\n        \"type\":\"string\"\n    },\n    \"onDrop\":{\n        \"title\":\"onDrop\",\n        \"type\":\"string\"\n    },\n\n            \"stack\": {\n                \"title\": \"Stacking\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"smoothLines\": {\n                \"title\": \"Display smooth (curved) lines\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"thresholdsLineWidth\": {\n                \"title\": \"Default line width for all thresholds\",\n                \"type\": \"number\"\n            },\n            \"shadowSize\": {\n                \"title\": \"Shadow size\",\n                \"type\": \"number\",\n                \"default\": 4\n            },\n            \"fontColor\": {\n                \"title\": \"Font color\",\n                \"type\": \"string\",\n                \"default\": \"#545454\"\n            },\n            \"fontSize\": {\n                \"title\": \"Font size\",\n                \"type\": \"number\",\n                \"default\": 10\n            },\n            \"tooltipIndividual\": {\n                \"title\": \"Hover individual points\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipCumulative\": {\n                \"title\": \"Show cumulative values in stacking mode\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipValueFormatter\": {\n                \"title\": \"Tooltip value format function, f(value)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"hideZeros\": {\n                \"title\": \"Hide zero/false values from tooltip\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"showTooltip\": {\n                \"title\": \"Show tooltip\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"grid\": {\n                \"title\": \"Grid settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"color\": {\n                        \"title\": \"Primary color\",\n                        \"type\": \"string\",\n                        \"default\": \"#545454\"\n                    },\n                    \"backgroundColor\": {\n                        \"title\": \"Background color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"tickColor\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": \"#DDDDDD\"\n                    },\n                    \"outlineWidth\": {\n                        \"title\": \"Grid outline/border width (px)\",\n                        \"type\": \"number\",\n                        \"default\": 1\n                    },\n                    \"verticalLines\": {\n                        \"title\": \"Show vertical lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"horizontalLines\": {\n                        \"title\": \"Show horizontal lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    }\n                }\n            },\n            \"xaxis\": {\n                \"title\": \"X axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"yaxis\": {\n                \"title\": \"Y axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"min\": {\n                        \"title\": \"Minimum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"max\": {\n                        \"title\": \"Maximum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"ticksFormatter\": {\n                        \"title\": \"Ticks formatter function, f(value)\",\n                        \"type\": \"string\",\n                        \"default\": \"\"\n                    },\n                    \"tickDecimals\": {\n                        \"title\": \"The number of decimals to display\",\n                        \"type\": \"number\",\n                        \"default\": 0\n                    },\n                    \"tickSize\": {\n                        \"title\": \"Step size between ticks\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"comparisonEnabled\": {\n                \"title\": \"Enable comparison\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"timeForComparison\": {\n                \"title\": \"Time to show historical data\",\n                \"type\": \"string\",\n                \"default\": \"previousInterval\"\n            },\n            \"comparisonCustomIntervalValue\": {\n                \"title\": \"Custom interval value (ms)\",\n                \"type\": \"number\",\n                \"default\": 7200000\n            },\n            \"xaxisSecond\": {\n                \"title\": \"Second X axis\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"axisPosition\": {\n                        \"title\": \"Axis position\",\n                        \"type\": \"string\",\n                        \"default\": \"top\"\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"customLegendEnabled\": {\n                \"title\": \"Enable custom legend (this will allow you to use attribute/timeseries values in key labels)\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"dataKeysListForLabels\": {\n                \"title\": \"Datakeys list to use in labels\",\n                \"type\": \"array\",\n                \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"title\": \"Key name\",\n                            \"type\": \"string\"\n                        },\n                        \"type\": {\n                            \"title\": \"Key type\",\n                            \"type\": \"string\",\n                            \"default\": \"attribute\"\n                        }\n                    },\n                    \"required\": [\"name\"]\n                }\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        [\"subscribeTopic\",  {\n    \"key\":  \"onData\",\n    \"type\": \"javascript\"\n  },\n  {\n    \"key\":  \"onDrop\",\n    \"type\": \"javascript\"\n  }\n        ],\n        [\"stack\", \"smoothLines\", \"thresholdsLineWidth\", \"shadowSize\", {\n            \"key\": \"fontColor\",\n            \"type\": \"color\"\n        }, \"fontSize\", \"tooltipIndividual\", \"tooltipCumulative\", {\n            \"key\": \"tooltipValueFormatter\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/flot/tooltip_value_format_fn\"\n        }, \"hideZeros\", \"showTooltip\", {\n            \"key\": \"grid\",\n            \"items\": [{\n                \"key\": \"grid.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.backgroundColor\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.tickColor\",\n                \"type\": \"color\"\n            }, \"grid.outlineWidth\", \"grid.verticalLines\", \"grid.horizontalLines\"]\n        }, {\n            \"key\": \"xaxis\",\n            \"items\": [\"xaxis.showLabels\", \"xaxis.title\", {\n                \"key\": \"xaxis.color\",\n                \"type\": \"color\"\n            }]\n        }, {\n            \"key\": \"yaxis\",\n            \"items\": [\"yaxis.min\", \"yaxis.max\", \"yaxis.tickDecimals\", \"yaxis.tickSize\", \"yaxis.showLabels\", \"yaxis.title\", {\n                \"key\": \"yaxis.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"yaxis.ticksFormatter\",\n                \"type\": \"javascript\",\n                \"helpId\": \"widget/lib/flot/ticks_formatter_fn\"\n            }]\n        }],\n        [\"comparisonEnabled\", {\n            \"key\": \"timeForComparison\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [{\n                \"value\": \"previousInterval\",\n                \"label\": \"Previous interval (default)\"\n            }, {\n                \"value\": \"days\",\n                \"label\": \"Day ago\"\n            }, {\n                \"value\": \"weeks\",\n                \"label\": \"Week ago\"\n            }, {\n                \"value\": \"months\",\n                \"label\": \"Month ago\"\n            }, {\n                \"value\": \"years\",\n                \"label\": \"Year ago\"\n            }, {\n                \"value\": \"customInterval\",\n                \"label\": \"Custom interval\"\n            }]\n        }, {\n            \"key\": \"comparisonCustomIntervalValue\",\n            \"condition\": \"model.timeForComparison === \\\"customInterval\\\"\"\n        }, {\n            \"key\": \"xaxisSecond\",\n            \"items\": [{\n                \"key\": \"xaxisSecond.axisPosition\",\n                \"type\": \"rc-select\",\n                \"multiple\": false,\n                \"items\": [{\n                    \"value\": \"top\",\n                    \"label\": \"Top (default)\"\n                }, {\n                    \"value\": \"bottom\",\n                    \"label\": \"Bottom\"\n                }]\n            }, \"xaxisSecond.showLabels\", \"xaxisSecond.title\"]\n        }],\n        [\n            \"customLegendEnabled\", {\n                \"key\": \"dataKeysListForLabels\",\n                \"condition\": \"model.customLegendEnabled === true\",\n                \"items\": [{\n                    \"key\": \"dataKeysListForLabels[].type\",\n                    \"type\": \"rc-select\",\n                    \"multiple\": false,\n                    \"items\": [{\n                        \"value\": \"attribute\",\n                        \"label\": \"Attribute\"\n                    }, {\n                        \"value\": \"timeseries\",\n                        \"label\": \"Timeseries\"\n                    }]\n                }, \"dataKeysListForLabels[].name\"]\n            }\n        ]\n    ],\n    \"groupInfoes\": [{\n        \"formIndex\": 0,\n        \"GroupTitle\": \"NP Settings\"\n    }, {\n        \"formIndex\": 1,\n        \"GroupTitle\": \"Common Settings\"\n    }, {\n        \"formIndex\": 2,\n        \"GroupTitle\": \"Comparison Settings\"\n    }, {\n        \"formIndex\": 3,\n        \"GroupTitle\": \"Custom Legend Settings\"\n    }]\n}",
      "dataKeySettingsSchema" : "{\"schema\":{\"type\":\"object\",\"title\":\"DataKeySettings\",\"properties\":{\"excludeFromStacking\":{\"title\":\"Exclude from stacking(available in \\\"Stacking\\\" mode)\",\"type\":\"boolean\",\"default\":false},\"hideDataByDefault\":{\"title\":\"Data is hidden by default\",\"type\":\"boolean\",\"default\":false},\"disableDataHiding\":{\"title\":\"Disable data hiding\",\"type\":\"boolean\",\"default\":false},\"removeFromLegend\":{\"title\":\"Remove datakey from legend\",\"type\":\"boolean\",\"default\":false},\"showLines\":{\"title\":\"Show lines\",\"type\":\"boolean\",\"default\":true},\"fillLines\":{\"title\":\"Fill lines\",\"type\":\"boolean\",\"default\":false},\"showPoints\":{\"title\":\"Show points\",\"type\":\"boolean\",\"default\":false},\"showPointShape\":{\"title\":\"Select point shape:\",\"type\":\"string\",\"default\":\"circle\"},\"pointShapeFormatter\":{\"title\":\"Point shape format function, f(ctx, x, y, radius, shadow)\",\"type\":\"string\",\"default\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\"},\"showPointsLineWidth\":{\"title\":\"Line width of points\",\"type\":\"number\",\"default\":5},\"showPointsRadius\":{\"title\":\"Radius of points\",\"type\":\"number\",\"default\":3},\"tooltipValueFormatter\":{\"title\":\"Tooltip value format function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"showSeparateAxis\":{\"title\":\"Show separate axis\",\"type\":\"boolean\",\"default\":false},\"axisMin\":{\"title\":\"Minimum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisMax\":{\"title\":\"Maximum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisTitle\":{\"title\":\"Axis title\",\"type\":\"string\",\"default\":\"\"},\"axisTickDecimals\":{\"title\":\"Axis tick number of digits after floating point\",\"type\":\"number\",\"default\":null},\"axisTickSize\":{\"title\":\"Axis step size between ticks\",\"type\":\"number\",\"default\":null},\"axisPosition\":{\"title\":\"Axis position\",\"type\":\"string\",\"default\":\"left\"},\"axisTicksFormatter\":{\"title\":\"Ticks formatter function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"thresholds\":{\"title\":\"Thresholds\",\"type\":\"array\",\"items\":{\"title\":\"Threshold\",\"type\":\"object\",\"properties\":{\"thresholdValueSource\":{\"title\":\"Threshold value source\",\"type\":\"string\",\"default\":\"predefinedValue\"},\"thresholdEntityAlias\":{\"title\":\"Thresholds source entity alias\",\"type\":\"string\"},\"thresholdAttribute\":{\"title\":\"Threshold source entity attribute\",\"type\":\"string\"},\"thresholdValue\":{\"title\":\"Threshold value (if predefined value is selected)\",\"type\":\"number\"},\"lineWidth\":{\"title\":\"Line width\",\"type\":\"number\"},\"color\":{\"title\":\"Color\",\"type\":\"string\"}}},\"required\":[]},\"comparisonSettings\":{\"title\":\"Comparison Settings\",\"type\":\"object\",\"properties\":{\"showValuesForComparison\":{\"title\":\"Show historical values for comparison\",\"type\":\"boolean\",\"default\":true},\"comparisonValuesLabel\":{\"title\":\"Historical values label\",\"type\":\"string\",\"default\":\"\"},\"color\":{\"title\":\"Color\",\"type\":\"string\",\"default\":\"\"}},\"required\":[\"showValuesForComparison\"]}},\"required\":[\"showLines\",\"fillLines\",\"showPoints\"]},\"form\":[\"hideDataByDefault\",\"disableDataHiding\",\"removeFromLegend\",\"excludeFromStacking\",\"showLines\",\"fillLines\",\"showPoints\",{\"key\":\"showPointShape\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"circle\",\"label\":\"Circle\"},{\"value\":\"cross\",\"label\":\"Cross\"},{\"value\":\"diamond\",\"label\":\"Diamond\"},{\"value\":\"square\",\"label\":\"Square\"},{\"value\":\"triangle\",\"label\":\"Triangle\"},{\"value\":\"custom\",\"label\":\"Custom function\"}]},{\"key\":\"pointShapeFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/point_shape_format_fn\"},\"showPointsLineWidth\",\"showPointsRadius\",{\"key\":\"tooltipValueFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/tooltip_value_format_fn\"},\"showSeparateAxis\",\"axisMin\",\"axisMax\",\"axisTitle\",\"axisTickDecimals\",\"axisTickSize\",{\"key\":\"axisPosition\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"left\",\"label\":\"Left\"},{\"value\":\"right\",\"label\":\"Right\"}]},{\"key\":\"axisTicksFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/ticks_formatter_fn\"},{\"key\":\"thresholds\",\"items\":[{\"key\":\"thresholds[].thresholdValueSource\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"predefinedValue\",\"label\":\"Predefined value (Default)\"},{\"value\":\"entityAttribute\",\"label\":\"Value taken from entity attribute\"}]},\"thresholds[].thresholdValue\",\"thresholds[].thresholdEntityAlias\",\"thresholds[].thresholdAttribute\",{\"key\":\"thresholds[].color\",\"type\":\"color\"},\"thresholds[].lineWidth\"]},{\"key\":\"comparisonSettings\",\"items\":[\"comparisonSettings.showValuesForComparison\",\"comparisonSettings.comparisonValuesLabel\",{\"key\":\"comparisonSettings.color\",\"type\":\"color\"}]}]}",
      "latestDataKeySettingsSchema" : "{}",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "",
      "latestDataKeySettingsDirective" : "",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":false}},\"_hash\":0.6974252438991668,\"funcBody\":\"return Math.round(1000*Math.sin(time/5000));\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#f44336\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"right\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.7655333281228387,\"funcBody\":\"var value = Math.random() * 100;\\nreturn value;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#332def\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"right\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.4260255591340727,\"funcBody\":\"var value = Math.random() * 100;\\nreturn value;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos\",\"color\":\"#ffc107\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true},\"axisTicksFormatter\":\"return value\"},\"_hash\":0.3950402628336642,\"funcBody\":\"return Math.random()*1000;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos 2\",\"color\":\"#607d8b\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.8163183227490327,\"funcBody\":\"return Math.random()*1000;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null}]}],\"timewindow\":{\"hideInterval\":false,\"hideLastInterval\":false,\"hideQuickInterval\":false,\"hideAggregation\":false,\"hideAggInterval\":false,\"hideTimezone\":false,\"selectedTab\":1,\"history\":{\"historyType\":0,\"timewindowMs\":60000,\"interval\":5000,\"fixedTimewindow\":{\"startTimeMs\":1680415496161,\"endTimeMs\":1680501896161},\"quickInterval\":\"CURRENT_DAY\"},\"aggregation\":{\"type\":\"AVG\",\"limit\":25000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"0\",\"settings\":{\"stack\":false,\"smoothLines\":true,\"shadowSize\":4,\"fontColor\":\"#545454\",\"fontSize\":10,\"tooltipIndividual\":false,\"tooltipCumulative\":false,\"hideZeros\":false,\"showTooltip\":false,\"grid\":{\"color\":\"#e9ebf1\",\"tickColor\":\"#e9ebf1\",\"outlineWidth\":1,\"verticalLines\":true,\"horizontalLines\":true},\"xaxis\":{\"showLabels\":true},\"yaxis\":{\"tickDecimals\":0,\"showLabels\":true},\"comparisonEnabled\":false,\"timeForComparison\":\"previousInterval\",\"xaxisSecond\":{\"axisPosition\":\"top\",\"showLabels\":true},\"customLegendEnabled\":false,\"actionIcons\":[],\"keyPrefix\":\"Bearing_cylinderValues\",\"subscribeTopic\":\"toTrendzWidget\",\"onData\":\"console.log(\\\"toTrendzWidget recieved:\\\",data)\"},\"title\":\"TrendzWidget\",\"dropShadow\":false,\"enableFullscreen\":false,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"mobileHeight\":null,\"showTitleIcon\":false,\"titleTooltip\":\"\",\"widgetStyle\":{\"width\":\"100%\"},\"widgetCss\":\"#container{\\n    width: 100%;\\n}\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":true,\"legendConfig\":{\"direction\":\"column\",\"position\":\"bottom\",\"sortDataKeys\":false,\"showMin\":false,\"showMax\":false,\"showAvg\":true,\"showTotal\":false,\"showLatest\":false},\"useDashboardTimewindow\":false,\"displayTimewindow\":false,\"enableDataExport\":false,\"actions\":{\"action_button\":[]}}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1678933081666,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "c6d93220-c3a0-11ed-b907-3bebb3a56b7b"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  }, {
    "alias" : "trendzwidget2",
    "name" : "TrendzWidget2",
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "timeseries",
      "sizeX" : 8,
      "sizeY" : 7.5,
      "resources" : [ {
        "url" : "https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"
      } ],
      "templateHtml" : "",
      "templateCss" : "mat-icon{\n    cursor: pointer;\n}\n.actions{\n    padding: 0 15px 0 0 ;\n}\n.nt-actions{\n    display: inline-block;   \n}\n.widgetTitle{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    color: #696969;\n}\n.legend {\n    font-size: 13px;\n    line-height: 10px;\n}\n\n.legend table { \n    border-spacing: 0px;\n    border-collapse: separate;\n}\n\n\n.mouse-events .flot-overlay {\n    cursor: crosshair; \n}\n\n.tooltip {\n    border-radius: 100px ;\n    color: red;\n}\n\n.tb-legend-keys td .tb-legend-line{\n    height: 8px !important;\n    width: 21px !important;\n}\n.tb-legend-label{\n    font-family: 'Inter' !important; \n    font-style: normal !important;\n    font-weight: 400 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    color: #4F4F4F !important;\n}\n.tb-legend-value{\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #696969;\n}\n\n.tb-legend-header th{\n    padding-top: 10px !important;\n    /*padding-bottom: 24px !important;*/\n    font-family: 'Inter' !important;\n    font-style: normal !important;\n    font-weight: 500 !important;\n    font-size: 14px !important;\n    line-height: 17px !important;\n    /*text-align: center !important;*/\n    text-transform: capitalize !important;\n    color: #000000 !important;\n}\n.tb-legend-keys td{\n    padding:  12px !important;\n    \n}\ntb-legend{\n    max-height: 181px !important;\n}",
      "controllerScript" : "self.onInit = function() {\n    const $injector = self.ctx.$scope.$injector;\n    const broadcastService = $injector.get(self.ctx.servicesMap.get('broadcastService'));\n    self.ctx.filterData = self.filterNTData;\n\n    self.ctx.initializeNewSubscription=function(){\n    var colors=[];\n    var lastIndex=0\n    var yaxes=[];\n    var keysInfo=[];\n    for (let i = 0; i < self.ctx.flot.subscription.data.length; i++) {\n\n        self.ctx.flot.subscription.data[i][\"curvedLines\"]={apply:true}  \n        self.ctx.flot.subscription.data[i][\"lines\"]={fill:false,show:true}\n        self.ctx.flot.subscription.data[i][\"points\"]={radius:8,show:false}\n        self.ctx.flot.subscription.data[i][\"stack\"]=false\n        self.ctx.flot.subscription.data[i][\"xaxis\"]=1\n        self.ctx.flot.subscription.data[i][\"xaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"yaxis\"]=0\n        self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n        self.ctx.flot.subscription.data[i][\"highlightColor\"]=\"rgba(33, 150, 243, 0.75)\"\n        \n        \n        var haveYAxes=yaxes.findIndex(function(e){\n            return self.ctx.flot.subscription.data[i].dataKey.units==e.tickUnits || self.ctx.flot.subscription.data[i].dataKey.settings.axisTitle==e.label})\n        if(haveYAxes==-1){\n            lastIndex=0\n            keysInfo.push({});\n            keysInfo[keysInfo.length-1][i.toString()]={hidden:self.ctx.flot.subscription.data[i].dataKey.hidden};\n            self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n            self.ctx.flot.subscription.data[i][\"yaxis\"]=yaxes.length+1\n            yaxes.push({\"font\":{\"color\":\"#545454\",\"size\":10,\"family\":\"Roboto\"},\"labelFont\":{\"color\":\"#545454\",\"size\":12,\"family\":\"Roboto\",\"weight\":\"bold\"},\"min\":null,\"max\":null,\"label\": self.ctx.flot.subscription.data[i].dataKey.settings.axisTitle ,\"tickSize\":null,\"tickDecimals\":0,\"tickUnits\":self.ctx.flot.subscription.data[i].dataKey.units==undefined?\"\":self.ctx.flot.subscription.data[i].dataKey.units,\"alignTicksWithAxis\":null,\"position\":\"left\",\n                \"keysInfo\":[],\"show\":true}) \n\n        }else{\n            keysInfo[haveYAxes][i.toString()]={hidden:self.ctx.flot.subscription.data[i].dataKey.hidden};\n\n            self.ctx.flot.subscription.data[i][\"yaxis\"]=haveYAxes+1\n            if(self.ctx.flot.subscription.data[i-1].yaxis==haveYAxes){\n                lastIndex=lastIndex+1\n                self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=lastIndex+1\n            }\n            else{\n                lastIndex=0\n                self.ctx.flot.subscription.data[i][\"yaxisIndex\"]=0\n            }\n        }\n        colors.push(hslToRgb(self.ctx.flot.subscription.data[i].dataKey.color))\n    }\n    var finalKeysInfo=[]\n    for (yax in yaxes){\n        finalKeysInfo.push([])\n        for (let i = 0; i < self.ctx.flot.subscription.data.length; i++) {\n            if(keysInfo[yax].hasOwnProperty(i)){\n                finalKeysInfo[yax].push(keysInfo[yax][i.toString()])        \n            }\n            else{\n                finalKeysInfo[yax].push({hidden:false})        \n                \n            }\n        }\n\n    }\n\n    for( keyInfo in finalKeysInfo){\n            yaxes[keyInfo].keysInfo=finalKeysInfo[keyInfo]\n    }\n    self.ctx.flot.yaxes=yaxes\n\n    self.ctx.flot.options.colors = colors;\n    self.ctx.flot.update()\n}\n\n\n    self.ctx.currentKeys=[]\n    self.ctx.$scope.onSubscribedata =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onData)\n    self.ctx.$scope.onDrop =\n        new Function([\"widgetContext\",\"data\"], self.ctx.settings.onDrop)\n    \n    self.ctx.$container.on('drop', function(event) {\n        event.preventDefault();\n        var data = event.originalEvent.dataTransfer.getData(\"application/json\")\n        self.ctx.$scope.onDrop(self.ctx,JSON.parse(data));\n    });\n    self.ctx.$container.on('dragover', function(event) {\n        event.preventDefault();\n    });\n        \n    self.ctx.subscribeDynamicKeysData=function(keys){\n        if(keys.length<=0){\n            return\n        }\n    let datasources = self.ctx.defaultSubscription.configuredDatasources;\n        let datakeys = datasources[0].dataKeys=[]; \n         var protokey;\n        if(self.ctx.datasources[0].type==\"function\"){\n            protokey = {\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":true,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.6974252438991668,\"funcBody\":\"return Math.round(100*Math.random(time));\"}\n        }\n        else{ \n            protokey = {\"name\":\"Bearing_cylinderValues_0\",\"type\":\"timeseries\",\"label\":\"Bearing_cylinderValues_0\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":true,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"tooltipValueFormatter\":\"\",\"showSeparateAxis\":false,\"axisTitle\":\"\",\"axisPosition\":\"left\",\"axisTicksFormatter\":\"\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true,\"comparisonValuesLabel\":\"\",\"color\":\"\"}},\"_hash\":0.0810279353074943};\n            \n        } \n \n        var colors=generateColors(keys.length) \n        for (var i = 0; i < keys.length; i++) {\n            // let objClone = { ...protokey}\n            let objClone=JSON.parse(JSON.stringify(protokey));\n            // let objClone = Object.assign({},protokey) \n            // objClone.name = objClone.pattern =keys[i].key;\n            objClone.name =keys[i].key;\n            objClone.label = keys[i].label;\n            objClone.color = colors[i]; \n            objClone._hash = Math.random();\n            if( keys[i].valueType ==\"percentage\"){\n                objClone[\"settings\"].axisTitle=\"Percentage\"\n                objClone[\"units\"]=\"%\"\n            }\n            else if( keys[i].valueType ==\"speed\"){\n                objClone[\"settings\"].axisTitle=\"Speed\"\n                objClone[\"settings\"].axisPosition=\"right\"\n                objClone[\"units\"]=\"\"\n            }else{\n                // objClone[\"settings\"].axisTitle=\"Speed\"\n                // objClone[\"settings\"].axisPosition=\"right\"\n                // objClone[\"units\"]=\"s\"\n            }\n            datakeys.push(objClone);\n        } \n\n        if(self.ctx.flot){\n            self.ctx.flot.destroy()\n            self.ctx.flot=undefined \n        }\n        var test=self.ctx.defaultSubscription.initDataSubscription()\n        test.subscribe(function(result){\n\n        self.ctx.defaultSubscription.entityDataListeners[1].subscription.pageData = Object.assign({},self.ctx.defaultSubscription.entityDataListeners[0].subscription.pageData) \n\n        self.ctx.defaultSubscription.update() \n        var test=self.ctx.defaultSubscription.entityDataListeners.shift()\n        test.subscription.unsubscribe()\n        \n        self.ctx.newSubInitialized=false\n        self.ctx.flot = new TbFlot(self.ctx); \n        self.initFlotEvents();  \n\n        self.ctx.initializeNewSubscription();\n        self.ctx.flot.redrawPlot();\n        // self.onResize();\n\n        })\n    }\n\n\n    self.ctx.subHandle=broadcastService.on(self.ctx.settings.subscribeTopic, (evt, msg) => {\n        self.ctx.$scope.onSubscribedata(self.ctx,msg[0]);\n    });\n\n    // self.subscribeDynamicKeysData()\n    \t$(\"<div id='tooltip\"+self.ctx.widget.id+\"' class='tooltip'></div>\").css({\n\t\t\tposition: \"absolute\",\n\t\t\tdisplay: \"none\",  \n\t\t\tborder: \"1px solid #BEBEBE\", \n\t\t\t\"border-radius\":\"8px\",\n\t\t\tpadding: \"24px\", \n\t\t\t\"padding-bottom\":\"8px\",\n\t\t\t\"background-color\": \"#FFFFFF\",\n\t\t\tzIndex:10000\n    }).appendTo(\"body\");\n\n    self.ctx.flot = new TbFlot(self.ctx); \n \n\n} \nself.filterNTData = function() {\n    var _ntData = {}\n\n    self.ctx.dataBackup.forEach(function(e, i) {\n        e.forEach(function(telData) {\n            if (_ntData[String(telData[\n                    0])] == undefined) {\n                _ntData[String(telData[\n                    0])] = {}\n            }\n            _ntData[String(telData[0])][\n                String(self.ctx\n                    .data[i].dataKey\n                    ._hash)\n            ] = telData[1]\n        })\n    })\n    for (let [key, value] of Object.entries(_ntData)) {\n        var shouldRemove = false\n        for (let [k, v] of Object.entries(value)) {\n            var filter = self.ctx.ntFilterSettings.find(\n                x => x.key._hash == k)\n            if (filter.isEnabled == true) {\n                if ((filter.min != null && filter.min >\n                        v) || (filter.max != null &&\n                        filter.max < v)) {\n                    shouldRemove = true;\n                }\n            }\n        }\n        if (shouldRemove == true) {\n            delete _ntData[key];\n        }\n    }\n    // console.log(_ntData)\n    _ntDataSortedKeys = Object.keys(_ntData).sort();\n    const sortedNtData = {};\n    for (const key of _ntDataSortedKeys) {\n      sortedNtData[key] = _ntData[key];\n    }\n    self.ctx.data.forEach(function(e) {\n        _data = []\n        for (let [k, v] of Object.entries(\n                sortedNtData)) {\n                    if(v[String(e\n                .dataKey._hash)]!==undefined){\n            _data.push([parseInt(k), v[String(e\n                .dataKey._hash)]])\n                    \n                }\n        }\n\n        e.data = _data\n    })\n\n}\n \n\n\nself.onDataUpdated = function() { \n    if (self.ctx.flot) {\n        if (self.ctx.ntFilterSettings) {\n            self.ctx.dataBackup = self.ctx.data.map(\n                function(e) {\n                    return [...e.data]\n            })\n        self.filterNTData();\n        }\n        self.ctx.flot.update();\n    } \n}\n\n\nself.onLatestDataUpdated = function() {\n    if (self.ctx.flot) {\n        self.ctx.flot.latestDataUpdate();\n    }\n}\nself.initFlotEvents=function(){\n    \n\n    \tself.ctx.flot.$element.bind(\"plothover\", function (event, pos, item) {\n\t\tif (!pos.x || !pos.y) {\n\t\t\treturn;\n\t\t}  \n        var axes = self.ctx.flot.plot.getAxes();\n        var offset=self.ctx.flot.plot.getPlotOffset()\n\n        var canvasBound=self.ctx.flot.plot.getCanvas().getBoundingClientRect()\n        \n\t\t$(\"#tooltip\"+self.ctx.widget.id).css({\n\t\t    top: (canvasBound.y+axes.yaxis.p2c(pos.y) + $(\"#tooltip\"+self.ctx.widget.id).outerHeight()) <= $(\"body\").height() ? canvasBound.y+axes.yaxis.p2c(pos.y) : (canvasBound.y+axes.yaxis.p2c(pos.y) - $(\"#tooltip\"+self.ctx.widget.id).outerHeight()), \n\t\t    left:(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20+$(\"#tooltip\"+self.ctx.widget.id).outerWidth() <=$(\"body\").width() )?(canvasBound.x+axes.xaxis.p2c(pos.x)+offset.left+20):(\n\t\t        (canvasBound.x+axes.xaxis.p2c(pos.x))-($(\"#tooltip\"+self.ctx.widget.id).outerWidth())\n\t\t        )\n\t\t}).show();\n\n\n        var _time=\"\";\n\t    var data=self.ctx.flot.plot.getData().map(function(e){\n\t        var _value=undefined;\n\t        if(e.data.length>=1){\n    \t        for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>pos.x ){\n    \t                if(i==0){\n                            _time=e.data[i][0]\n        \t                _value=e.data[i][1]\n    \t                }\n    \t                else{\n                            _time=e.data[i-1][0]\n        \t                _value=e.data[i-1][1]\n    \t                }\n    \t                break;\n    \t            } \n    \t        }\n    \t        if(_value==undefined){\n                    _value=e.data[e.data.length-1][1]\n    \t        }\n\t        }\n\t        return {\"label\":e.dataKey.label,\"value\":_value,\"color\":e.dataKey.color}\n\t    })\n\t    self.ctx.flot.hoveredPoint=pos.x\n\t\tvar newTooltip=$('<span></span>');\n\t\tvar timeObject = $(\"<div class='tooltip'></div>\");\n        timeObject.text(moment.unix(_time/1000).format(\"DD-MM-YYYY, hh:mm:ss\"));\n        timeObject.css({\"font-family\": 'Inter',\n            \"font-style\": \"normal\",\n            \"font-weight\": \"500\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"20px\",\n            \"margin-bottom\":\"16px\",\n            \"color\": \"#505D6F\"});\n        timeObject.appendTo(newTooltip);\n        data.forEach(function(e){\n            if(e.value==undefined){\n                return;\n            }\n    \t\tvar toolTipItem=$('<span></span>');\n    \t\ttoolTipItem.css({\"display\":\"block\",\"margin-bottom\":\"16px\"});\n\n    \t\tvar _toolTipItemColor=$('<span></span>');\n    \t\t_toolTipItemColor.css({\"height\":\"8px\",\"width\":\"21px\",\"display\":\"inline-block\",\"background-color\":e.color,\"margin-right\":\"16px\"});\n            _toolTipItemColor.appendTo(toolTipItem);\n            toolTipItem.appendTo(newTooltip)\n\n    \t\tvar _toolTipItemLabel=$('<span>'+e.label+'</span>');\n    \t\t_toolTipItemLabel.css({\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 400,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#4F4F4F\"\n    \t\t    \n    \t\t});\n            _toolTipItemLabel.appendTo(toolTipItem);\n            \n    \t\tvar _toolTipItemValue=$('<span>'+e.value+'</span>');\n    \t\t_toolTipItemValue.css({\n    \t\t    \"float\":\"right\",\n    \t\t    \"height\":\"8px\",\n    \t\t  //  \"width\":\"21px\",\n    \t\t    \"display\":\"inline-block\",\n    \t\t    \"font-family\": 'Inter',\n                \"font-style\": \"normal\",\n                \"font-weight\": 500,\n                \"font-size\": \"14px\",\n                \"line-height\": \"17px\",\n                \"color\": \"#696969\"\n    \t\t    \n    \t\t});\n            _toolTipItemValue.appendTo(toolTipItem);\n            \n            toolTipItem.appendTo(newTooltip)\n\n        })\n        $(\"#tooltip\"+self.ctx.widget.id).html(newTooltip)\n        self.ctx.flot.update();\n\n\t});\n \n\tself.ctx.flot.$element.bind(\"mouseleave\", function(){\n\t\t\t\t$(\"#tooltip\"+self.ctx.widget.id).hide();\n\t\t\t\tself.ctx.flot.hoveredPoint=undefined\n                self.ctx.flot.update();\n\t});\n\n}\n\n\nself.onResize = function() {\n    if (self.ctx.flot) {\n        self.ctx.detectChanges();\n    \n        self.ctx.flot.plot.getOptions().crosshair = {\n            mode: null, \n        }\n        if($.inArray(self.onFlotDraw,self.ctx.flot.plot.hooks.draw) == -1){\n            self.ctx.flot.plot.hooks.draw.push(self.onFlotDraw)\n        }\n        self.ctx.flot.updateData();\n        self.ctx.flot.resize(); \n    }\n}\n\nself.onEditModeChanged = function() {\n    self.ctx.flot.checkMouseEvents();\n    self.onResize();\n\n}\n\nself.onDestroy = function() {\n    self.ctx.flot.destroy();\n    self.ctx.subHandle.unsubscribe();\n}\n\nself.actionSources = function() {\n    return {\n        'action_button': {\n            name: 'Action Button',\n            multiple: true\n        }\n    };\n}\n\n\nself.typeParameters = function() {\n    return {\n        // hasAdditionalLatestDataKeys: true,\n        dataKeysOptional: true, //Whether this widget can be configured with datasources without data keys\n    };\n}\nself.onFlotDraw=function(plot, ctx){\n        var offset=plot.getPlotOffset()\n        // //Draw Pointer\n        if(self.ctx.flot.hoveredPoint!=undefined){\n\n\t    self.ctx.flot.plot.getData().forEach(function(e){\n\t        var _value;\n\t        if(e.data.length>=1){\n\n\n    \t        for(var i=0;i<e.data.length;i++){ \n    \t            if(e.data[i][0]>parseFloat(self.ctx.flot.hoveredPoint)){\n    \t                if(i==0){\n        \t                _value=e.data[i]\n    \t                }\n    \t                else{\n        \t                _value=e.data[i-1]\n    \t                }\n    \t                break;\n    \t            } \n    \t        if(_value==undefined){\n                    _value=e.data[e.data.length-1]\n    \t        }\n\t            }\n \n    \t       // console.log(\"_value: \",_value)\n                ctx.beginPath();\n                ctx.strokeStyle = e.dataKey.color;\n                ctx.lineWidth = 13;\n                ctx.arc(e.xaxis.p2c(_value[0])+offset.left, e.yaxis.p2c(_value[1])+offset.top, 3, 0, 2 * Math.PI);\n                ctx.stroke();            \n                \n                ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n                ctx.fill();\n                ctx.closePath();\t            \n\t        }\n\t    })\n\n        }\n}\n \n\nfunction generateColors(n) {\n  var colors = [];\n  for (var i = 0; i < n; i++) {\n    var hue = i * (360 / n);\n    var saturation = 80;\n    var lightness = 50;\n\n    var color = 'hsl(' + hue + ',' + saturation + '%,' + lightness + '%)';\n    colors.push(color);\n  }\n  return colors;\n}\n\n\nfunction hslToRgb(hslString){\n    var _split=hslString.split(\",\") \n    var h = parseInt(_split[0].match(/\\d/g).join(\"\"));\n    var s = parseInt(_split[1].match(/\\d/g).join(\"\"));\n    var l = parseInt(_split[2].match(/\\d/g).join(\"\"));\n  l /= 100;\n  const a = s * Math.min(l, 1 - l) / 100;\n  const f = n => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\n  };\n  return `#${f(0)}${f(8)}${f(4)}`;\n    \n}",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Settings\",\n        \"properties\": {\n\n            \"subscribeTopic\":{\n                \"title\":\"subscribeTopic\",\n                \"type\":\"string\"\n            },    \n            \"onData\":{\n        \"title\":\"on Sub Data(widgetContext,data)\",\n        \"type\":\"string\"\n    },\n    \"onDrop\":{\n        \"title\":\"onDrop\",\n        \"type\":\"string\"\n    },\n\n            \"stack\": {\n                \"title\": \"Stacking\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"smoothLines\": {\n                \"title\": \"Display smooth (curved) lines\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"thresholdsLineWidth\": {\n                \"title\": \"Default line width for all thresholds\",\n                \"type\": \"number\"\n            },\n            \"shadowSize\": {\n                \"title\": \"Shadow size\",\n                \"type\": \"number\",\n                \"default\": 4\n            },\n            \"fontColor\": {\n                \"title\": \"Font color\",\n                \"type\": \"string\",\n                \"default\": \"#545454\"\n            },\n            \"fontSize\": {\n                \"title\": \"Font size\",\n                \"type\": \"number\",\n                \"default\": 10\n            },\n            \"tooltipIndividual\": {\n                \"title\": \"Hover individual points\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipCumulative\": {\n                \"title\": \"Show cumulative values in stacking mode\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"tooltipValueFormatter\": {\n                \"title\": \"Tooltip value format function, f(value)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"hideZeros\": {\n                \"title\": \"Hide zero/false values from tooltip\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"showTooltip\": {\n                \"title\": \"Show tooltip\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"grid\": {\n                \"title\": \"Grid settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"color\": {\n                        \"title\": \"Primary color\",\n                        \"type\": \"string\",\n                        \"default\": \"#545454\"\n                    },\n                    \"backgroundColor\": {\n                        \"title\": \"Background color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"tickColor\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": \"#DDDDDD\"\n                    },\n                    \"outlineWidth\": {\n                        \"title\": \"Grid outline/border width (px)\",\n                        \"type\": \"number\",\n                        \"default\": 1\n                    },\n                    \"verticalLines\": {\n                        \"title\": \"Show vertical lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"horizontalLines\": {\n                        \"title\": \"Show horizontal lines\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    }\n                }\n            },\n            \"xaxis\": {\n                \"title\": \"X axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"yaxis\": {\n                \"title\": \"Y axis settings\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"min\": {\n                        \"title\": \"Minimum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"max\": {\n                        \"title\": \"Maximum value on the scale\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"color\": {\n                        \"title\": \"Ticks color\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    },\n                    \"ticksFormatter\": {\n                        \"title\": \"Ticks formatter function, f(value)\",\n                        \"type\": \"string\",\n                        \"default\": \"\"\n                    },\n                    \"tickDecimals\": {\n                        \"title\": \"The number of decimals to display\",\n                        \"type\": \"number\",\n                        \"default\": 0\n                    },\n                    \"tickSize\": {\n                        \"title\": \"Step size between ticks\",\n                        \"type\": \"number\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"comparisonEnabled\": {\n                \"title\": \"Enable comparison\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"timeForComparison\": {\n                \"title\": \"Time to show historical data\",\n                \"type\": \"string\",\n                \"default\": \"previousInterval\"\n            },\n            \"comparisonCustomIntervalValue\": {\n                \"title\": \"Custom interval value (ms)\",\n                \"type\": \"number\",\n                \"default\": 7200000\n            },\n            \"xaxisSecond\": {\n                \"title\": \"Second X axis\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"axisPosition\": {\n                        \"title\": \"Axis position\",\n                        \"type\": \"string\",\n                        \"default\": \"top\"\n                    },\n                    \"showLabels\": {\n                        \"title\": \"Show labels\",\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"title\": {\n                        \"title\": \"Axis title\",\n                        \"type\": \"string\",\n                        \"default\": null\n                    }\n                }\n            },\n            \"customLegendEnabled\": {\n                \"title\": \"Enable custom legend (this will allow you to use attribute/timeseries values in key labels)\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"dataKeysListForLabels\": {\n                \"title\": \"Datakeys list to use in labels\",\n                \"type\": \"array\",\n                \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"title\": \"Key name\",\n                            \"type\": \"string\"\n                        },\n                        \"type\": {\n                            \"title\": \"Key type\",\n                            \"type\": \"string\",\n                            \"default\": \"attribute\"\n                        }\n                    },\n                    \"required\": [\"name\"]\n                }\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        [\"subscribeTopic\",  {\n    \"key\":  \"onData\",\n    \"type\": \"javascript\"\n  },\n  {\n    \"key\":  \"onDrop\",\n    \"type\": \"javascript\"\n  }\n        ],\n        [\"stack\", \"smoothLines\", \"thresholdsLineWidth\", \"shadowSize\", {\n            \"key\": \"fontColor\",\n            \"type\": \"color\"\n        }, \"fontSize\", \"tooltipIndividual\", \"tooltipCumulative\", {\n            \"key\": \"tooltipValueFormatter\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/flot/tooltip_value_format_fn\"\n        }, \"hideZeros\", \"showTooltip\", {\n            \"key\": \"grid\",\n            \"items\": [{\n                \"key\": \"grid.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.backgroundColor\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"grid.tickColor\",\n                \"type\": \"color\"\n            }, \"grid.outlineWidth\", \"grid.verticalLines\", \"grid.horizontalLines\"]\n        }, {\n            \"key\": \"xaxis\",\n            \"items\": [\"xaxis.showLabels\", \"xaxis.title\", {\n                \"key\": \"xaxis.color\",\n                \"type\": \"color\"\n            }]\n        }, {\n            \"key\": \"yaxis\",\n            \"items\": [\"yaxis.min\", \"yaxis.max\", \"yaxis.tickDecimals\", \"yaxis.tickSize\", \"yaxis.showLabels\", \"yaxis.title\", {\n                \"key\": \"yaxis.color\",\n                \"type\": \"color\"\n            }, {\n                \"key\": \"yaxis.ticksFormatter\",\n                \"type\": \"javascript\",\n                \"helpId\": \"widget/lib/flot/ticks_formatter_fn\"\n            }]\n        }],\n        [\"comparisonEnabled\", {\n            \"key\": \"timeForComparison\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [{\n                \"value\": \"previousInterval\",\n                \"label\": \"Previous interval (default)\"\n            }, {\n                \"value\": \"days\",\n                \"label\": \"Day ago\"\n            }, {\n                \"value\": \"weeks\",\n                \"label\": \"Week ago\"\n            }, {\n                \"value\": \"months\",\n                \"label\": \"Month ago\"\n            }, {\n                \"value\": \"years\",\n                \"label\": \"Year ago\"\n            }, {\n                \"value\": \"customInterval\",\n                \"label\": \"Custom interval\"\n            }]\n        }, {\n            \"key\": \"comparisonCustomIntervalValue\",\n            \"condition\": \"model.timeForComparison === \\\"customInterval\\\"\"\n        }, {\n            \"key\": \"xaxisSecond\",\n            \"items\": [{\n                \"key\": \"xaxisSecond.axisPosition\",\n                \"type\": \"rc-select\",\n                \"multiple\": false,\n                \"items\": [{\n                    \"value\": \"top\",\n                    \"label\": \"Top (default)\"\n                }, {\n                    \"value\": \"bottom\",\n                    \"label\": \"Bottom\"\n                }]\n            }, \"xaxisSecond.showLabels\", \"xaxisSecond.title\"]\n        }],\n        [\n            \"customLegendEnabled\", {\n                \"key\": \"dataKeysListForLabels\",\n                \"condition\": \"model.customLegendEnabled === true\",\n                \"items\": [{\n                    \"key\": \"dataKeysListForLabels[].type\",\n                    \"type\": \"rc-select\",\n                    \"multiple\": false,\n                    \"items\": [{\n                        \"value\": \"attribute\",\n                        \"label\": \"Attribute\"\n                    }, {\n                        \"value\": \"timeseries\",\n                        \"label\": \"Timeseries\"\n                    }]\n                }, \"dataKeysListForLabels[].name\"]\n            }\n        ]\n    ],\n    \"groupInfoes\": [{\n        \"formIndex\": 0,\n        \"GroupTitle\": \"NP Settings\"\n    }, {\n        \"formIndex\": 1,\n        \"GroupTitle\": \"Common Settings\"\n    }, {\n        \"formIndex\": 2,\n        \"GroupTitle\": \"Comparison Settings\"\n    }, {\n        \"formIndex\": 3,\n        \"GroupTitle\": \"Custom Legend Settings\"\n    }]\n}",
      "dataKeySettingsSchema" : "{\"schema\":{\"type\":\"object\",\"title\":\"DataKeySettings\",\"properties\":{\"excludeFromStacking\":{\"title\":\"Exclude from stacking(available in \\\"Stacking\\\" mode)\",\"type\":\"boolean\",\"default\":false},\"hideDataByDefault\":{\"title\":\"Data is hidden by default\",\"type\":\"boolean\",\"default\":false},\"disableDataHiding\":{\"title\":\"Disable data hiding\",\"type\":\"boolean\",\"default\":false},\"removeFromLegend\":{\"title\":\"Remove datakey from legend\",\"type\":\"boolean\",\"default\":false},\"showLines\":{\"title\":\"Show lines\",\"type\":\"boolean\",\"default\":true},\"fillLines\":{\"title\":\"Fill lines\",\"type\":\"boolean\",\"default\":false},\"showPoints\":{\"title\":\"Show points\",\"type\":\"boolean\",\"default\":false},\"showPointShape\":{\"title\":\"Select point shape:\",\"type\":\"string\",\"default\":\"circle\"},\"pointShapeFormatter\":{\"title\":\"Point shape format function, f(ctx, x, y, radius, shadow)\",\"type\":\"string\",\"default\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\"},\"showPointsLineWidth\":{\"title\":\"Line width of points\",\"type\":\"number\",\"default\":5},\"showPointsRadius\":{\"title\":\"Radius of points\",\"type\":\"number\",\"default\":3},\"tooltipValueFormatter\":{\"title\":\"Tooltip value format function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"showSeparateAxis\":{\"title\":\"Show separate axis\",\"type\":\"boolean\",\"default\":false},\"axisMin\":{\"title\":\"Minimum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisMax\":{\"title\":\"Maximum value on the axis scale\",\"type\":\"number\",\"default\":null},\"axisTitle\":{\"title\":\"Axis title\",\"type\":\"string\",\"default\":\"\"},\"axisTickDecimals\":{\"title\":\"Axis tick number of digits after floating point\",\"type\":\"number\",\"default\":null},\"axisTickSize\":{\"title\":\"Axis step size between ticks\",\"type\":\"number\",\"default\":null},\"axisPosition\":{\"title\":\"Axis position\",\"type\":\"string\",\"default\":\"left\"},\"axisTicksFormatter\":{\"title\":\"Ticks formatter function, f(value)\",\"type\":\"string\",\"default\":\"\"},\"thresholds\":{\"title\":\"Thresholds\",\"type\":\"array\",\"items\":{\"title\":\"Threshold\",\"type\":\"object\",\"properties\":{\"thresholdValueSource\":{\"title\":\"Threshold value source\",\"type\":\"string\",\"default\":\"predefinedValue\"},\"thresholdEntityAlias\":{\"title\":\"Thresholds source entity alias\",\"type\":\"string\"},\"thresholdAttribute\":{\"title\":\"Threshold source entity attribute\",\"type\":\"string\"},\"thresholdValue\":{\"title\":\"Threshold value (if predefined value is selected)\",\"type\":\"number\"},\"lineWidth\":{\"title\":\"Line width\",\"type\":\"number\"},\"color\":{\"title\":\"Color\",\"type\":\"string\"}}},\"required\":[]},\"comparisonSettings\":{\"title\":\"Comparison Settings\",\"type\":\"object\",\"properties\":{\"showValuesForComparison\":{\"title\":\"Show historical values for comparison\",\"type\":\"boolean\",\"default\":true},\"comparisonValuesLabel\":{\"title\":\"Historical values label\",\"type\":\"string\",\"default\":\"\"},\"color\":{\"title\":\"Color\",\"type\":\"string\",\"default\":\"\"}},\"required\":[\"showValuesForComparison\"]}},\"required\":[\"showLines\",\"fillLines\",\"showPoints\"]},\"form\":[\"hideDataByDefault\",\"disableDataHiding\",\"removeFromLegend\",\"excludeFromStacking\",\"showLines\",\"fillLines\",\"showPoints\",{\"key\":\"showPointShape\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"circle\",\"label\":\"Circle\"},{\"value\":\"cross\",\"label\":\"Cross\"},{\"value\":\"diamond\",\"label\":\"Diamond\"},{\"value\":\"square\",\"label\":\"Square\"},{\"value\":\"triangle\",\"label\":\"Triangle\"},{\"value\":\"custom\",\"label\":\"Custom function\"}]},{\"key\":\"pointShapeFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/point_shape_format_fn\"},\"showPointsLineWidth\",\"showPointsRadius\",{\"key\":\"tooltipValueFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/tooltip_value_format_fn\"},\"showSeparateAxis\",\"axisMin\",\"axisMax\",\"axisTitle\",\"axisTickDecimals\",\"axisTickSize\",{\"key\":\"axisPosition\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"left\",\"label\":\"Left\"},{\"value\":\"right\",\"label\":\"Right\"}]},{\"key\":\"axisTicksFormatter\",\"type\":\"javascript\",\"helpId\":\"widget/lib/flot/ticks_formatter_fn\"},{\"key\":\"thresholds\",\"items\":[{\"key\":\"thresholds[].thresholdValueSource\",\"type\":\"rc-select\",\"multiple\":false,\"items\":[{\"value\":\"predefinedValue\",\"label\":\"Predefined value (Default)\"},{\"value\":\"entityAttribute\",\"label\":\"Value taken from entity attribute\"}]},\"thresholds[].thresholdValue\",\"thresholds[].thresholdEntityAlias\",\"thresholds[].thresholdAttribute\",{\"key\":\"thresholds[].color\",\"type\":\"color\"},\"thresholds[].lineWidth\"]},{\"key\":\"comparisonSettings\",\"items\":[\"comparisonSettings.showValuesForComparison\",\"comparisonSettings.comparisonValuesLabel\",{\"key\":\"comparisonSettings.color\",\"type\":\"color\"}]}]}",
      "latestDataKeySettingsSchema" : "{}",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "",
      "latestDataKeySettingsDirective" : "",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":false}},\"_hash\":0.6974252438991668,\"funcBody\":\"return Math.round(1000*Math.sin(time/5000));\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#f44336\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"right\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.7655333281228387,\"funcBody\":\"var value = Math.random() * 100;\\nreturn value;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#332def\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"right\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.4260255591340727,\"funcBody\":\"var value = Math.random() * 100;\\nreturn value;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos\",\"color\":\"#ffc107\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true},\"axisTicksFormatter\":\"return value\"},\"_hash\":0.3950402628336642,\"funcBody\":\"return Math.random()*1000;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos 2\",\"color\":\"#607d8b\",\"settings\":{\"excludeFromStacking\":false,\"hideDataByDefault\":false,\"disableDataHiding\":false,\"removeFromLegend\":false,\"showLines\":true,\"fillLines\":false,\"showPoints\":false,\"showPointShape\":\"circle\",\"pointShapeFormatter\":\"var size = radius * Math.sqrt(Math.PI) / 2;\\nctx.moveTo(x - size, y - size);\\nctx.lineTo(x + size, y + size);\\nctx.moveTo(x - size, y + size);\\nctx.lineTo(x + size, y - size);\",\"showPointsLineWidth\":5,\"showPointsRadius\":3,\"showSeparateAxis\":false,\"axisPosition\":\"left\",\"thresholds\":[{\"thresholdValueSource\":\"predefinedValue\"}],\"comparisonSettings\":{\"showValuesForComparison\":true}},\"_hash\":0.8163183227490327,\"funcBody\":\"return Math.random()*1000;\",\"aggregationType\":null,\"units\":\"\",\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null}]}],\"timewindow\":{\"hideInterval\":false,\"hideLastInterval\":false,\"hideQuickInterval\":false,\"hideAggregation\":false,\"hideAggInterval\":false,\"hideTimezone\":false,\"selectedTab\":1,\"history\":{\"historyType\":0,\"timewindowMs\":60000,\"interval\":5000,\"fixedTimewindow\":{\"startTimeMs\":1680415496161,\"endTimeMs\":1680501896161},\"quickInterval\":\"CURRENT_DAY\"},\"aggregation\":{\"type\":\"AVG\",\"limit\":25000}},\"showTitle\":true,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"0\",\"settings\":{\"stack\":false,\"smoothLines\":true,\"shadowSize\":4,\"fontColor\":\"#545454\",\"fontSize\":10,\"tooltipIndividual\":false,\"tooltipCumulative\":false,\"hideZeros\":false,\"showTooltip\":false,\"grid\":{\"color\":\"#e9ebf1\",\"tickColor\":\"#e9ebf1\",\"outlineWidth\":1,\"verticalLines\":true,\"horizontalLines\":true},\"xaxis\":{\"showLabels\":true},\"yaxis\":{\"tickDecimals\":0,\"showLabels\":true},\"comparisonEnabled\":false,\"timeForComparison\":\"previousInterval\",\"xaxisSecond\":{\"axisPosition\":\"top\",\"showLabels\":true},\"customLegendEnabled\":false,\"actionIcons\":[],\"keyPrefix\":\"Bearing_cylinderValues\",\"subscribeTopic\":\"toTrendzWidget\",\"onData\":\"console.log(\\\"toTrendzWidget recieved:\\\",data)\"},\"title\":\"TrendzWidget2\",\"dropShadow\":false,\"enableFullscreen\":false,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"mobileHeight\":null,\"showTitleIcon\":false,\"titleTooltip\":\"\",\"widgetStyle\":{\"width\":\"100%\"},\"widgetCss\":\"#container{\\n    width: 100%;\\n}\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"showLegend\":true,\"legendConfig\":{\"direction\":\"column\",\"position\":\"bottom\",\"sortDataKeys\":false,\"showMin\":false,\"showMax\":false,\"showAvg\":true,\"showTotal\":false,\"showLatest\":false},\"useDashboardTimewindow\":false,\"displayTimewindow\":false,\"enableDataExport\":false,\"actions\":{\"action_button\":[]}}"
    },
    "bundleAlias" : "nt_widgets_3",
    "createdTime" : 1685960778338,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "687c5420-038b-11ee-ae53-6961b2cafa27"
    },
    "tenantId" : {
      "entityType" : "TENANT",
      "id" : "9c28c0b0-b106-11ed-a5f7-cdf9aa24320a"
    }
  } ],
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}